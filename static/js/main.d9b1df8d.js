/*! For license information please see main.d9b1df8d.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.zv=function(e){return g(e)===i}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];a?"\\"===s&&r+1<n?(r++,i+=e[r]):s===a?a="":i+=s:o?'"'===s||"'"===s?a=s:"]"===s?(o=!1,t.push(i),i=""):i+=s:"["===s?(o=!0,i&&(t.push(i),i="")):"."===s?i&&(t.push(i),i=""):i+=s,r++}return i&&t.push(i),t}},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(8268),a=n(870),o=n(4803),s=n(9972);function l(e,t,n,i){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let a=0;a<i.length;a++){const s=i[a];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,i);case"function":return Object.keys(t).length>0?l(e,r({},t),n,i):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],o,a,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?i.isMatch(e,t):l(e,t,function e(t,r,i,a,o,s){const c=n(t,r,i,a,o,s);return void 0!==c?Boolean(c):l(t,r,e,s)},new Map)},t.isSetMatch=u},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),a=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),a=n(3808),o=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),a=n(870),o=n(9972);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function _(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function j(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return j((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+N(e,0):a,x(o)?(i="",null!=u&&(i=u.replace(E,"$&/")+"/"),j(o,t,i,"",function(e){return e})):null!=o&&(A(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+u,o=_(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===a?".":a+":";if(x(e))for(var m=0;m<e.length;m++)u+=j(a=e[m],t,i,s=p+N(a,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=j(a=a.value,t,i,s=p+N(a,m++),o);else if("object"===s){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return _(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,P)}catch(a){P(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const o=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),a=n(2104),o=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),a=n(6321),o=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),a=n(1444);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,o,s)=>{const l=null===t||void 0===t?void 0:t(n,a,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,_||(_=!0,S());else{var t=r(u);null!==t&&P(k,t.startTime-e)}}var S,_=!1,A=-1,E=5,N=-1;function C(){return!!y||!(t.unstable_now()-N<E)}function j(){if(y=!1,_){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(A),A=-1),p=!0;var a=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(k,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():_=!1}}}if("function"===typeof w)S=function(){w(j)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=j,S=function(){I.postMessage(null)}}else S=function(){v(j,0)};function P(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(A),A=-1):g=!0,P(k,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,_||(_=!0,S()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),a=n(7599),o=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),a=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList";case N:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var O=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=L[z],L[z]=null,z--)}function B(e,t){z++,L[z]=e.current,e.current=t}var V=F(null),H=F(null),G=F(null),W=F(null);function q(e,t){switch(B(G,t),B(H,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),B(V,e)}function Y(){U(V),U(H),U(G)}function X(e){null!==e.memoizedState&&B(W,e);var t=V.current,n=ad(t,e.type);t!==n&&(B(H,e),B(V,n))}function K(e){H.current===e&&(U(V),U(H)),W.current===e&&(U(W),Xd._currentValue=R)}var Q=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=ve(r):0!==(o&=s)?i=ve(o):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~a)?i=ve(s):0!==o?i=ve(o):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ie=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ie,Oe="__reactProps$"+Ie,Me="__reactContainer$"+Ie,De="__reactEvents$"+Ie,Re="__reactListeners$"+Ie,Le="__reactHandles$"+Ie,ze="__reactResources$"+Ie,Fe="__reactMarker$"+Ie;function Ue(e){delete e[Pe],delete e[Oe],delete e[De],delete e[Re],delete e[Le]}function Be(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Pe]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ge(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var qe=new Set,Ye={};function Xe(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(Ye[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Qe,Ze,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(i=t,Q.call(et,i)||!Q.call($e,i)&&(Je.test(i)?et[i]=!0:($e[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Ze}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(O(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Ot=null;function Mt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Oe]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Rt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Pt||null!==Ot)&&(Bc(),Pt&&(t=Pt,e=Ot,Ot=Pt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(zt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Oh){Ft=!1}var Bt=null,Vt=null,Ht=null;function Gt(){if(Ht)return Ht;var e,t,n=Vt,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Yt(){return!1}function Xt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Kt,Qt,Zt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Xt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Xt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Kt=e.screenX-Zt.screenX,Qt=e.screenY-Zt.screenY):Qt=Kt=0,Zt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Xt(nn),an=Xt(h({},nn,{dataTransfer:0})),on=Xt(h({},en,{relatedTarget:0})),sn=Xt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Xt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Xt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Xt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Xt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Xt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Xt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Xt(h({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],kn=zt&&"CompositionEvent"in window,Sn=null;zt&&"documentMode"in document&&(Sn=document.documentMode);var _n=zt&&"TextEvent"in window&&!Sn,An=zt&&(!kn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Nn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function On(e,t,n,r){Pt?Ot?Ot.push(r):Ot=[r]:Pt=r,0<(t=Gu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Dn=null;function Rn(e){Ru(e,0)}function Ln(e){if(ht(He(e)))return e}function zn(e,t){if("change"===e)return t}var Fn=!1;if(zt){var Un;if(zt){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"===typeof Vn.oninput}Un=Bn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Dn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];On(t,Dn,e,It(e)),Rt(Rn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),Dn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Yn(e,t){if("click"===e)return Ln(t)}function Xn(e,t){if("input"===e||"change"===e)return Ln(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q.call(t,i)||!Kn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=zt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Qn(ar,r)||(ar=r,0<(r=Gu(ir,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}zt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),Xe(t,[e])}xr.push("scrollEnd");var Sr=new WeakMap;function _r(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ar=[],Er=0,Nr=0;function Cr(){for(var e=Er,t=Nr=Er=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var a=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Pr(n,i,a)}}function jr(e,t,n,r){Ar[Er++]=e,Ar[Er++]=t,Ar[Er++]=n,Ar[Er++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return jr(e,t,n,r),Or(e)}function Ir(e,t){return jr(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Pc)throw Pc=0,Oc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Dr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Lr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Rr(31,n,t,i)).elementType=N,e.lanes=a,e;case g:return Br(n.children,i,a,t);case y:s=8,i|=24;break;case v:return(e=Rr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case S:return(e=Rr(13,n,t,i)).elementType=S,e.lanes=a,e;case _:return(e=Rr(19,n,t,i)).elementType=_,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:s=10;break e;case w:s=9;break e;case k:s=11;break e;case A:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=[],Wr=0,qr=null,Yr=0,Xr=[],Kr=0,Qr=null,Zr=1,Jr="";function $r(e,t){Gr[Wr++]=Yr,Gr[Wr++]=qr,qr=e,Yr=t}function ei(e,t,n){Xr[Kr++]=Zr,Xr[Kr++]=Jr,Xr[Kr++]=Qr,Qr=e;var r=Zr;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zr=1<<32-fe(t)+i|n<<i|r,Jr=a+e}else Zr=1<<a|n<<i|r,Jr=e}function ti(e){null!==e.return&&($r(e,1),ei(e,1,0))}function ni(e){for(;e===qr;)qr=Gr[--Wr],Gr[Wr]=null,Yr=Gr[--Wr],Gr[Wr]=null;for(;e===Qr;)Qr=Xr[--Kr],Xr[Kr]=null,Jr=Xr[--Kr],Xr[Kr]=null,Zr=Xr[--Kr],Xr[Kr]=null}var ri=null,ii=null,ai=!1,oi=null,si=!1,li=Error(o(519));function ci(e){throw mi(_r(Error(o(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Oe]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Mu.length;n++)Lu(Mu[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,ai=!1}function pi(){var e=oi;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),oi=null),e}function mi(e){null===oi?oi=[e]:oi.push(e)}var gi=F(null),yi=null,vi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,U(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xi(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),xi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Kn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function _i(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Ci(yi,e)}function Ni(e,t){return null===yi&&Ai(e),Ci(e,t)}function Ci(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(o(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var ji="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ti=r.unstable_scheduleCallback,Ii=r.unstable_NormalPriority,Pi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new ji,data:new Map,refCount:0}}function Mi(e){e.refCount--,0===e.refCount&&Ti(Ii,function(){e.controller.abort()})}var Di=null,Ri=0,Li=0,zi=null;function Fi(){if(0===--Ri&&null!==Di){null!==zi&&(zi.status="fulfilled");var e=Di;Di=null,Li=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Ri=0,Li=ju(),zi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ri++,t.then(Fi,Fi)}(0,t),null!==Ui&&Ui(e,t)};var Bi=F(null);function Vi(){var e=Bi.current;return null!==e?e:rc.pooledCache}function Hi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Gi(){var e=Vi();return null===e?null:{parent:Pi._currentValue,pool:e}}var Wi=Error(o(460)),qi=Error(o(474)),Yi=Error(o(542)),Xi={then:function(){}};function Ki(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qi(){}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qi,Qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qi,Qi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Ji=t,Wi}}var Ji=null;function $i(){if(null===Ji)throw Error(o(459));var e=Ji;return Ji=null,e}function ea(e){if(e===Wi||e===Yi)throw Error(o(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return jr(e,r,t,n),Or(e)}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==zi)throw zi}}function ua(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Li&&(la=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ta=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var fa=F(null),pa=F(0);function ma(e,t){B(pa,e=dc),B(fa,t),dc=e|t.baseLanes}function ga(){B(pa,dc),B(fa,fa.current)}function ya(){dc=pa.current,U(fa),U(pa)}var va=0,ba=null,wa=null,xa=null,ka=!1,Sa=!1,_a=!1,Aa=0,Ea=0,Na=null,Ca=0;function ja(){throw Error(o(321))}function Ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){return va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?qo:Yo,_a=!1,a=n(r,i),_a=!1,Sa&&(a=Oa(t,n,r,i)),Pa(e),a}function Pa(e){M.H=Wo;var t=null!==wa&&null!==wa.next;if(va=0,xa=wa=ba=null,ka=!1,Ea=0,Na=null,t)throw Error(o(300));null===e||Ns||null!==(e=e.dependencies)&&_i(e)&&(Ns=!0)}function Oa(e,t,n,r){ba=e;var i=0;do{if(Sa&&(Na=null),Ea=0,Sa=!1,25<=i)throw Error(o(301));if(i+=1,xa=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=Xo,a=t(n,r)}while(Sa);return a}function Ma(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Ua(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(ba.flags|=1024),t}function Da(){var e=0!==Aa;return Aa=0,e}function Ra(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}va=0,xa=wa=ba=null,Sa=!1,Ea=Aa=0,Na=null}function za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?ba.memoizedState=xa=e:xa=xa.next=e,xa}function Fa(){if(null===wa){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===xa?ba.memoizedState:xa.next;if(null!==t)xa=t,wa=e;else{if(null===e){if(null===ba.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===xa?ba.memoizedState=xa=e:xa=xa.next=e}return xa}function Ua(e){var t=Ea;return Ea+=1,null===Na&&(Na=[]),e=Zi(Na,e,t),t=ba,null===(null===xa?t.memoizedState:xa.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?qo:Yo),e}function Ba(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ua(e);if(e.$$typeof===x)return Ei(e)}throw Error(o(438,String(e)))}function Va(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Ha(e,t){return"function"===typeof t?t(e):t}function Ga(e){return Wa(Fa(),wa,e)}function Wa(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(va&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((va&f)===f){u=u.next,f===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,ba.lanes|=f,fc|=f}h=u.action,_a&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,ba.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Kn(a,e.memoizedState)&&(Ns=!0,d&&null!==(n=zi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qa(e){var t=Fa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Kn(a,t.memoizedState)||(Ns=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ya(e,t,n){var r=ba,i=Fa(),a=ai;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Kn((wa||i).memoizedState,n);if(s&&(i.memoizedState=n,Ns=!0),i=i.queue,yo(2048,8,Qa.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==xa&&1&xa.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ka.bind(null,r,i,n,t),null),null===rc)throw Error(o(349));a||0!==(124&va)||Xa(r,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ka(e,t,n,r){t.value=n,t.getSnapshot=r,Za(t)&&Ja(e)}function Qa(e,t,n){return n(function(){Za(t)&&Ja(e)})}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(r){return!0}}function Ja(e){var t=Ir(e,2);null!==t&&Rc(t,e,2)}function $a(e){var t=za();if("function"===typeof e){var n=e;if(e=n(),_a){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Wa(e,wa,"function"===typeof r?r:Ha)}function to(e,t,n,r,i){if(Vo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,no(t,a)):(a.next=n.next,t.pending=n.next=a)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=M.T,o={};M.T=o;try{var s=n(i,r),l=M.S;null!==l&&l(o,s),ro(e,t,s)}catch(c){ao(e,t,c)}finally{M.T=a}}else try{ro(e,t,a=n(i,r))}catch(u){ao(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){io(e,t,n)},function(n){return ao(e,t,n)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ai){var n=rc.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=si;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=za()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=r,n=Fo.bind(null,ba,r),r.dispatch=n,r=$a(!1),a=Bo.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=za()).queue=i,n=to.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(Fa(),wa,e)}function uo(e,t,n){if(t=Wa(e,t,so)[0],e=Ga(Ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ua(t)}catch(o){if(o===Wi)throw Yi;throw o}else r=t;var i=(t=Fa()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,i,n),null)),[r,a,e]}function ho(e,t){e.action=t}function fo(e){var t=Fa(),n=wa;if(null!==n)return uo(t,n,e);Fa(),t=t.memoizedState;var r=(n=Fa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return Fa().memoizedState}function go(e,t,n,r){var i=za();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var i=Fa();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&Ta(r,wa.memoizedState.deps)?i.memoizedState=po(t,a,n,r):(ba.flags|=e,i.memoizedState=po(1|t,a,n,r))}function vo(e,t){go(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function wo(e,t){return yo(4,2,e,t)}function xo(e,t){return yo(4,4,e,t)}function ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function So(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,ko.bind(null,t,e),n)}function _o(){}function Ao(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ta(t,r[1]))return r[0];if(r=e(),_a){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function No(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),ba.lanes|=e,fc|=e,n)}function Co(e,t,n,r){return Kn(n,t)?n:null!==fa.current?(e=No(e,n,r),Kn(e,t)||(Ns=!0),e):0===(42&va)?(Ns=!0,e.memoizedState=n):(e=Dc(),ba.lanes|=e,fc|=e,t)}function jo(e,t,n,r,i){var a=D.p;D.p=0!==a&&8>a?a:8;var o=M.T,s={};M.T=s,Bo(e,!1,t,n);try{var l=i(),c=M.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Mc());else Uo(e,t,r,Mc())}catch(u){Uo(e,t,{then:function(){},status:"rejected",reason:u},Mc())}finally{D.p=a,M.T=o}}function To(){}function Io(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Po(e).queue;jo(e,i,t,R,null===n?To:function(){return Oo(e),n(r)})}function Po(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Oo(e){Uo(e,Po(e).next.queue,{},Mc())}function Mo(){return Ei(Xd)}function Do(){return Fa().memoizedState}function Ro(){return Fa().memoizedState}function Lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),r=aa(t,e=ia(n),n);return null!==r&&(Rc(r,t,n),oa(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function zo(e,t,n){var r=Mc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vo(e)?Ho(t,n):null!==(n=Tr(e,t,n,r))&&(Rc(n,e,r),Go(n,t,r))}function Fo(e,t,n){Uo(e,t,n,Mc())}function Uo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vo(e))Ho(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Kn(s,o))return jr(e,t,i,0),null===rc&&Cr(),!1}catch(l){}if(null!==(n=Tr(e,t,i,r)))return Rc(n,e,r),Go(n,t,r),!0}return!1}function Bo(e,t,n,r){if(r={lane:2,revertLane:ju(),action:r,hasEagerState:!1,eagerState:null,next:null},Vo(e)){if(t)throw Error(o(479))}else null!==(t=Tr(e,n,r,2))&&Rc(t,e,2)}function Vo(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Ho(e,t){Sa=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Go(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var Wo={readContext:Ei,use:Ba,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useLayoutEffect:ja,useInsertionEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useSyncExternalStore:ja,useId:ja,useHostTransitionStatus:ja,useFormState:ja,useActionState:ja,useOptimistic:ja,useMemoCache:ja,useCacheRefresh:ja},qo={readContext:Ei,use:Ba,useCallback:function(e,t){return za().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=za();t=void 0===t?null:t;var r=e();if(_a){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=za();if(void 0!==n){var i=n(t);if(_a){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=zo.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},za().memoizedState=e},useState:function(e){var t=(e=$a(e)).queue,n=Fo.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_o,useDeferredValue:function(e,t){return No(za(),e,t)},useTransition:function(){var e=$a(!1);return e=jo.bind(null,ba,e.queue,!0,!1),za().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=za();if(ai){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&ac)||Xa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,vo(Qa.bind(null,r,a,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ka.bind(null,r,a,n,t),null),n},useId:function(){var e=za(),t=rc.identifierPrefix;if(ai){var n=Jr;t="\xab"+t+"R"+(n=(Zr&~(1<<32-fe(Zr)-1)).toString(32)+n),0<(n=Aa++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ca++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=za();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bo.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Va,useCacheRefresh:function(){return za().memoizedState=Lo.bind(null,ba)}},Yo={readContext:Ei,use:Ba,useCallback:Ao,useContext:Ei,useEffect:bo,useImperativeHandle:So,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:Eo,useReducer:Ga,useRef:mo,useState:function(){return Ga(Ha)},useDebugValue:_o,useDeferredValue:function(e,t){return Co(Fa(),wa.memoizedState,e,t)},useTransition:function(){var e=Ga(Ha)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ya,useId:Do,useHostTransitionStatus:Mo,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Fa(),0,e,t)},useMemoCache:Va,useCacheRefresh:Ro},Xo={readContext:Ei,use:Ba,useCallback:Ao,useContext:Ei,useEffect:bo,useImperativeHandle:So,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:Eo,useReducer:qa,useRef:mo,useState:function(){return qa(Ha)},useDebugValue:_o,useDeferredValue:function(e,t){var n=Fa();return null===wa?No(n,e,t):Co(n,wa.memoizedState,e,t)},useTransition:function(){var e=qa(Ha)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ya,useId:Do,useHostTransitionStatus:Mo,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Fa();return null!==wa?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Va,useCacheRefresh:Ro},Ko=null,Qo=0;function Zo(e){var t=Qo;return Qo+=1,null===Ko&&(Ko=[]),Zi(Ko,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $o(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&es(a)===t.type)?(Jo(t=i(t,n.props),n),t.return=e,t):(Jo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),n)}if(O(t)||T(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Zo(t),n);if(t.$$typeof===x)return h(e,Ni(e,t),n);$o(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||T(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Zo(n),r);if(n.$$typeof===x)return f(e,t,Ni(e,n),r);$o(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||T(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Zo(r),i);if(r.$$typeof===x)return y(e,t,n,Ni(t,r),i);$o(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&es(b)===c.type){n(l,c.sibling),Jo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Jo(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Hr(u,l.mode,d)).return=l,l=d}return s(l);case E:return v(l,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(i,o,s,l){for(var c=null,u=null,d=o,p=o=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,s[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===s.length)return n(i,d),ai&&$r(i,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(i,s[p],l))&&(o=a(d,o,p),null===u?c=d:u.sibling=d,u=d);return ai&&$r(i,p),c}for(d=r(d);p<s.length;p++)null!==(m=y(d,i,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=a(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),ai&&$r(i,p),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,p=s,m=s=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),ai&&$r(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return ai&&$r(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),ai&&$r(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Zo(u),d);if(u.$$typeof===x)return v(l,c,Ni(l,u),d);$o(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{Qo=0;var i=v(e,t,n,r);return Ko=null,i}catch(o){if(o===Wi||o===Yi)throw o;var a=Rr(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var ns=ts(!0),rs=ts(!1),is=F(null),as=null;function os(e){var t=e.alternate;B(us,1&us.current),B(is,e),null===as&&(null===t||null!==fa.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(B(us,us.current),B(is,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){B(us,us.current),B(is,is.current)}function cs(e){U(is),as===e&&(as=null),U(us)}var us=F(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),oa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),oa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Rc(t,e,n),oa(t,e,n))}};function ps(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,a))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function ws(e){ys(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ss(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function _s(e){return(e=ia(e)).tag=3,e}function As(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ks(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Es=Error(o(461)),Ns=!1;function Cs(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function js(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ai(t),r=Ia(e,t,n,o,a,i),s=Da(),null===e||Ns?(ai&&s&&ti(t),t.flags|=1,Cs(e,t,r,i),t.child):(Ra(e,t,i),Ks(e,t,i))}function Ts(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,!Qs(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=zr(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Qn(a,r)&&e.ref===t.ref){if(Ns=!1,t.pendingProps=r=a,!Qs(e,i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(Ns=!0)}}return Ds(e,t,n,r,i)}function Ps(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Os(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Os(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),ss(t)}else null!==a?(Hi(0,a.cachePool),ma(t,a),ls(),t.memoizedState=null):(null!==e&&Hi(0,null),ga(),ls());return Cs(e,t,i,n),t.child}function Os(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),ga(),ss(t),null!==e&&Si(e,t,r,!0),null}function Ms(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ds(e,t,n,r,i){return Ai(t),n=Ia(e,t,n,r,void 0,i),r=Da(),null===e||Ns?(ai&&r&&ti(t),t.flags|=1,Cs(e,t,n,i),t.child):(Ra(e,t,i),Ks(e,t,i))}function Rs(e,t,n,r,i,a){return Ai(t),t.updateQueue=null,n=Oa(t,r,n,i),Pa(e),r=Da(),null===e||Ns?(ai&&r&&ti(t),t.flags|=1,Cs(e,t,n,a),t.child):(Ra(e,t,a),Ks(e,t,a))}function Ls(e,t,n,r,i){if(Ai(t),null===t.stateNode){var a=Mr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ei(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ei(o):Mr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(hs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&fs.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=gs(n,s);a.props=l;var c=a.context,u=n.contextType;o=Mr,"object"===typeof u&&null!==u&&(o=Ei(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&ms(t,a,r,o),ta=!1;var h=t.memoizedState;a.state=h,ua(t,r,a,i),ca(),c=t.memoizedState,s||h!==c||ta?("function"===typeof d&&(hs(t,n,d,r),c=t.memoizedState),(l=ta||ps(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=gs(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ei(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ms(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,r,a,i),ca();var f=t.memoizedState;o!==d||h!==f||ta||null!==e&&null!==e.dependencies&&_i(e.dependencies)?("function"===typeof s&&(hs(t,n,s,r),f=t.memoizedState),(u=ta||ps(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&_i(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ms(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):Cs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Ks(e,t,i),e}function zs(e,t,n,r){return fi(),t.flags|=256,Cs(e,t,n,r),t.child}var Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Gi()}}function Bs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?os(t):ls(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Zr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=i.children,i=i.fallback,a?(ls(),c=Gs({mode:"hidden",children:c},a=t.mode),i=Br(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Us(n),a.childLanes=Bs(e,r,n),t.memoizedState=Fs,i):(os(t),Hs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Ws(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=i.fallback,c=t.mode,i=Gs({mode:"visible",children:i.children},c),(a=Br(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=Us(n),i.childLanes=Bs(e,r,n),t.memoizedState=Fs,t=a);else if(os(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ws(e,t,n)}else if(Ns||Si(e,t,n,!1),r=0!==(n&e.childLanes),Ns||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ce(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ir(e,i),Rc(r,e,i),Es;"$?"===c.data||Yc(),t=Ws(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,ai=!0,oi=null,si=!1,null!==e&&(Xr[Kr++]=Zr,Xr[Kr++]=Jr,Xr[Kr++]=Qr,Zr=e.id,Jr=e.overflow,Qr=t),(t=Hs(t,i.children)).flags|=4096);return t}return a?(ls(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=zr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=zr(u,a):(a=Br(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Us(n):(null!==(l=c.cachePool)?(u=Pi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Gi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Bs(e,r,n),t.memoizedState=Fs,i):(os(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hs(e,t){return(t=Gs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Gs(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ws(e,t,n){return ns(t,e.child,null,n),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Ys(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Xs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Cs(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(us,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ys(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ys(t,!0,n,null,a);break;case"together":Ys(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_i(e))}function Zs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ns=!0;else{if(!Qs(e,n)&&0===(128&t.flags))return Ns=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),bi(0,Pi,e.memoizedState.cache),fi();break;case 27:case 5:X(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(os(t),null!==(e=Ks(e,t,n))?e.sibling:null);os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Xs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ps(e,t,n);case 24:bi(0,Pi,e.memoizedState.cache)}return Ks(e,t,n)}(e,t,n);Ns=0!==(131072&e.flags)}else Ns=!1,ai&&0!==(1048576&t.flags)&&ei(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=js(null,t,r,e,n);break e}if(i===A){t.tag=14,t=Ts(null,t,r,e,n);break e}}throw t=P(r)||r,Error(o(306,t,""))}Lr(r)?(e=gs(r,e),t.tag=1,t=Ls(null,t,r,e,n)):(t.tag=0,t=Ds(null,t,r,e,n))}return t;case 0:return Ds(e,t,t.type,t.pendingProps,n);case 1:return Ls(e,t,r=t.type,i=gs(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,Pi,r),r!==a.cache&&ki(t,[Pi],n,!0),ca(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=zs(e,t,r,n);break e}if(r!==i){mi(i=_r(Error(o(424)),t)),t=zs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,ai=!0,oi=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Ks(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 26:return Ms(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(G.current).createElement(n))[Pe]=t,r[Oe]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&ai&&(r=t.stateNode=wd(t.type,t.pendingProps,G.current),ri=t,si=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),Cs(e,t,t.pendingProps.children,n),Ms(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),X(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,od(i,a)?r=null:null!==s&&od(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Ia(e,t,Ma,null,null,n),Xd._currentValue=i),Ms(e,t),Cs(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Vs(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return js(e,t,t.type,t.pendingProps,n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Cs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=Ei(i)),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return Ts(e,t,t.type,t.pendingProps,n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 19:return Xs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Gs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ps(e,t,n);case 24:return Ai(t),r=Ei(Pi),null===e?(null===(i=Vi())&&(i=rc,a=Oi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,Pi,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Pi,r)):(r=a.cache,bi(0,Pi,r),r!==i.cache&&ki(t,[Pi],n,!0))),Cs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Js(e){e.flags|=4}function $s(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=is.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Ji=Xi,qi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Pi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),$s(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),$s(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:K(t),n=G.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=V.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=V.current,hi(t))ui(t);else{switch(i=rd(G.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Oe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=G.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Pe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return Y(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(U(us),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return B(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,B(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Pi),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Pi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return Y(),null;case 10:return wi(t.type),null;case 22:case 23:return cs(t),ya(),null!==e&&U(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Pi),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:wi(Pi),Y();break;case 26:case 27:case 5:K(t);break;case 4:Y();break;case 13:cs(t);break;case 19:U(us);break;case 10:wi(t.type);break;case 22:case 23:cs(t),ya(),null!==e&&U(Bi);break;case 24:wi(Pi)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,s,l,c,u,d,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Ju(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Ju(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Ju(e,t,s,i,r,a)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Et(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&$u(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||$u(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[Oe]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Pe]=e,t[Oe]=n}catch(a){uu(e,e.return,a)}}var bl=!1,wl=!1,xl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&ol(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var i=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var a=wl;bl=r,(wl=t)&&!a?Fl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,wl=a}break;case 30:break;default:Ll(e,n)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Nl=!1;function Cl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:wl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=El,i=Nl;fd(n.type)&&(El=n.stateNode,Nl=!1),Cl(e,t,n),xd(n.stateNode),El=r,Nl=i;break;case 5:wl||dl(n,t);case 6:if(r=El,i=Nl,El=null,Cl(e,t,n),Nl=i,null!==(El=r))if(Nl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{El.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==El&&(Nl?(pd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nh(e)):pd(El,n.stateNode));break;case 4:r=El,i=Nl,El=n.stateNode.containerInfo,Nl=!0,Cl(e,t,n),El=r,Nl=i;break;case 0:case 11:case 14:case 15:wl||sl(2,n,t),wl||sl(4,n,t),Cl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Cl(e,t,n),wl=r;break;default:Cl(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nh(e)}catch(n){uu(t,t.return,n)}}function Il(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){El=l.stateNode,Nl=!1;break e}break;case 5:El=l.stateNode,Nl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===El)throw Error(o(160));jl(a,s,i),El=null,Nl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Ol=null;function Ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Dl(e),4&r&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Fe]||a[Pe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Pe]=e,We(a),r=a;break e;case"link":var s=Fd("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Fd("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Pe]=e,We(a),r=a}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Md(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Ud(i,e.type,e.stateNode):Md(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Pl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(zd=null,i=Ol,Ol=_d(t.containerInfo),Pl(t,e),Ol=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nh(t.containerInfo)}catch(p){uu(e,e.return,p)}xl&&(xl=!1,Rl(e));break;case 4:r=Ol,Ol=_d(e.stateNode.containerInfo),Pl(t,e),Dl(e),Ol=r;break;case 12:default:Pl(t,e),Dl(e);break;case 13:Pl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Pl(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Il(e,n))));break;case 19:Pl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),yl(e,ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Fl(i,a,n),ol(4,a);break;case 1:if(Fl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],s)}catch(c){uu(r,r.return,c)}}n&&64&o&&ll(a),ul(a,a.return);break;case 27:vl(a);case 26:case 5:Fl(i,a,n),n&&null===r&&4&o&&hl(a),ul(a,a.return);break;case 12:Fl(i,a,n);break;case 13:Fl(i,a,n),n&&4&o&&Tl(i,a);break;case 22:null===a.memoizedState&&Fl(i,a,n),ul(a,a.return);break;case 30:break;default:Fl(i,a,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Vl(e,t,n,r):Wl(e,t):2&a._visibility?Vl(e,t,n,r):(a._visibility|=2,Gl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(o,t);break;case 24:Vl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Gl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Gl(a,o,s,l,i),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Gl(a,o,s,l,i):Wl(a,o):(u._visibility|=2,Gl(a,o,s,l,i)),i&&2048&c&&Ul(o.alternate,o);break;case 24:Gl(a,o,s,l,i),i&&2048&c&&Bl(o.alternate,o);break;default:Gl(a,o,s,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Bl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var ql=8192;function Yl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Yl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(o(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=jd(n.href),a=e.querySelector(Td(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Gd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Id(n),(i=kd.get(i))&&Rd(n,i),We(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Gd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Ol;Ol=_d(e.stateNode.containerInfo),Yl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Yl(e),ql=t):Yl(e))}}function Kl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,$l(r,e)}Kl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Ql(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,$l(r,e)}Kl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function $l(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,a=r.return;if(Al(r),r===n){Sl=null;break e}if(null!==i){i.return=a,Sl=i;break e}Sl=a}}}var ec={getCacheForType:function(e){var t=Ei(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,ac=0,oc=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,xc=0,kc=1/0,Sc=null,_c=null,Ac=0,Ec=null,Nc=null,Cc=0,jc=0,Tc=null,Ic=null,Pc=0,Oc=null;function Mc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==M.T){return 0!==Li?Li:ju()}return Te()}function Dc(){0===gc&&(gc=0===(536870912&ac)||ai?ke():536870912);var e=is.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),Uc(e,ac,gc,!1)),Ae(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,ac,gc,!1)),ku(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=qc();rc!==e||ac!==t?(Sc=null,kc=te()+500,Hc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var a=sc;t:switch(oc){case 1:oc=0,sc=null,$c(e,t,a,1);break;case 2:case 9:if(Ki(a)){oc=0,sc=null,Jc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),ku(e)},a.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ki(a)?(oc=0,sc=null,Jc(t)):(oc=0,sc=null,$c(e,t,a,7));break;case 5:var s=null;switch(ic.tag){case 26:s=ic.memoizedState;case 5:case 27:var l=ic;if(!s||Bd(s)){oc=0,sc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}oc=0,sc=null,$c(e,t,a,5);break;case 6:oc=0,sc=null,$c(e,t,a,6);break;case 8:Vc(),hc=6;break e;default:throw Error(o(462))}}Qc();break}catch(d){Gc(e,d)}return vi=yi=null,M.H=r,M.A=i,nc=n,null!==ic?0:(rc=null,ac=0,Cr(),hc)}(e,t):Xc(e,t,!0),a=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!a||Fc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,s).flags|=256),2!==(s=Xc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,i=4;break e}a=bc,bc=i,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){Hc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(zc.bind(null,r,n,bc,Sc,wc,t,gc,pc,yc,lc,a,2,-0,0),i)}else zc(r,n,bc,Sc,wc,t,gc,pc,yc,lc,a,0,-0,0)}break}i=Xc(e,t,!1),a=!1}ku(e)}function zc(e,t,n,r,i,a,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:Hd},Xl(t),null!==(h=function(){if(null===Vd)throw Error(o(475));var e=Vd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,a,n,r,i,s,l,c,d,1,f,p)),void Uc(e,a,s,!u);nu(e,t,a,n,r,i,s,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Ee(e,n,t)}function Bc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Vc(){if(null!==ic){if(0===oc)var e=ic.return;else vi=yi=null,La(e=ic),Ko=null,Qo=0,e=ic;for(;null!==e;)al(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=zr(e.current,null),ac=t,oc=0,sc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Cr(),n}function Gc(e,t){ba=null,M.H=Wo,t===Wi||t===Yi?(t=$i(),oc=3):t===qi?(t=$i(),oc=4):oc=t===Es?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ic&&(hc=1,xs(e,_r(t,e.current)))}function Wc(){var e=M.H;return M.H=Wo,null===e?Wo:e}function qc(){var e=M.A;return M.A=ec,e}function Yc(){hc=4,lc||(4194048&ac)!==ac&&null!==is.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,ac,gc,!1)}function Xc(e,t,n){var r=nc;nc|=2;var i=Wc(),a=qc();rc===e&&ac===t||(Sc=null,Hc(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==oc&&null!==ic){var s=ic,l=sc;switch(oc){case 8:Vc(),o=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var c=oc;if(oc=0,sc=null,$c(e,s,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,$c(e,s,l,c)}}Kc(),o=hc;break}catch(u){Gc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,M.H=i,M.A=a,null===ic&&(rc=null,ac=0,Cr()),o}function Kc(){for(;null!==ic;)Zc(ic)}function Qc(){for(;null!==ic&&!$();)Zc(ic)}function Zc(e){var t=Zs(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rs(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Rs(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:La(t);default:al(n,t),t=Zs(n,t=ic=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function $c(e,t,n,r){vi=yi=null,La(t),Ko=null,Qo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===as?Yc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(o(435,n.tag))}return du(e,r,i),Yc(),!1}if(ai)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(_r(e=Error(o(422),{cause:r}),n))):(r!==li&&mi(_r(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=_r(r,n),sa(e,i=Ss(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var a=Error(o(520),{cause:r});if(a=_r(a,n),null===vc?vc=[a]:vc.push(a),4!==hc&&(hc=2),null===t)return!0;r=_r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,sa(n,e=Ss(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===_c||!_c.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,As(i=_s(i),e,n,r),sa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return hc=1,xs(e,_r(n,e.current)),void(ic=null)}catch(a){if(null!==i)throw ic=i,a;return hc=1,xs(e,_r(n,e.current)),void(ic=null)}32768&t.flags?(ai||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Ac);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Nr,s,l,c),e===rc&&(ic=rc=null,ac=0),Nc=t,Ec=e,Cc=n,jc=a,Tc=i,Ic=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Z(ae,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,i=D.p,D.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(a=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=gs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=s,D.p=i,M.T=r}}Ac=1,ru(),iu(),au()}}function ru(){if(1===Ac){Ac=0;var e=Ec,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Ml(t,e);var a=nd,o=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&$n(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=Jn(s,m),v=Jn(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,D.p=r,M.T=n}}e.current=t,Ac=2}}function iu(){if(2===Ac){Ac=0;var e=Ec,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{_l(e,t.alternate,t)}finally{nc=i,D.p=r,M.T=n}}Ac=3}}function au(){if(4===Ac||3===Ac){Ac=0,ee();var e=Ec,t=Nc,n=Cc,r=Ic;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ac=5:(Ac=0,Nc=Ec=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(_c=null),je(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=M.T,i=D.p,D.p=2,M.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{M.T=t,D.p=i}}0!==(3&Cc)&&su(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Oc?Pc++:(Pc=0,Oc=e):Pc=0,Su(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mi(t)))}function su(e){return ru(),iu(),au(),lu()}function lu(){if(5!==Ac)return!1;var e=Ec,t=jc;jc=0;var n=je(Cc),r=M.T,i=D.p;try{D.p=32>n?32:n,M.T=null,n=Tc,Tc=null;var a=Ec,s=Cc;if(Ac=0,Nc=Ec=null,Cc=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,Zl(a.current),Hl(a,a.current,s,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{D.p=i,M.T=r,ou(e,t)}}function cu(e,t,n){t=_r(n,t),null!==(e=aa(e,t=Ss(e.stateNode,t,2),2))&&(Ae(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=_r(n,e),null!==(r=aa(t,n=_s(2),2))&&(As(n,r,t,e),Ae(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-xc?0===(2&nc)&&Hc(e,0):mc|=n,yc===ac&&(yc=0)),ku(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Ir(e,t))&&(Ae(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,xu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?Z(re,_u):Au()}))}function Su(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Cu(r,a))}else a=ac,0===(3&(a=be(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Cu(r,a));r=r.next}}while(n);wu=!1}}function _u(){Au()}function Au(){bu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,a=Eu(r,t);0===a?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&a))&&(bu=!0)),r=i}Su(e,!1)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-fe(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=xe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ac,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),je(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=se}return r=Nu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function Cu(e,t){if(su())return null;Lc(e,t,!0)}function ju(){return 0===xu&&(xu=ke()),xu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Iu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<xr.length;Pu++){var Ou=xr[Pu];kr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){ys(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){ys(u)}i.currentTarget=null,a=l}}}}function Lu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,zu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Be(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Rt(function(){var r=a,i=It(n),o=[];e:{var s=wr.get(e);if(void 0!==s){var c=$t,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(Hu(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Me])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:He(c),p=null==u?s:He(u),(s=new d(g,m+"leave",c,n,i)).target=h,s.relatedTarget=p,g=null,Be(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&qu(o,s,c,d,!1),null!==u&&null!==h&&qu(o,h,u,d,!0)}if("select"===(c=(s=r?He(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=zn;else if(Pn(s))if(Fn)y=Xn;else{y=qn;var v=Wn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Et(r.elementType)&&(y=zn):y=Yn;switch(y&&(y=y(e,r))?On(o,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?He(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Tn?Cn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Tn&&(b=Gt()):(Vt="value"in(Bt=i)?Bt.value:Bt.textContent,Tn=!0)),0<(v=Gu(r,w)).length&&(w=new cn(w,e,null,n,i),o.push({event:w,listeners:v}),b?w.data=b:null!==(b=jn(n))&&(w.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Nn=!0,En);case"textInput":return(e=t.data)===En&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!kn&&Cn(e,t)?(e=Gt(),Ht=Vt=Bt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Gu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Tu((i[Oe]||null).action),o=r.submitter;o&&null!==(t=(t=o[Oe]||null)?Tu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new $t("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=o?Iu(i,o):new FormData(i);Io(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Iu(i,o):new FormData(i),Io(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ru(o,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Lt(e,n))&&r.unshift(Hu(e,i,a)),null!=(i=Lt(e,t))&&r.push(Hu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Lt(n,a))&&o.unshift(Hu(n,c,l)):i||null!=(c=Lt(n,a))&&o.push(Hu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Ku(e){return("string"===typeof e?e:""+e).replace(Yu,"\n").replace(Xu,"")}function Qu(e,t){return t=Ku(t),Ku(e)===t}function Zu(){}function Ju(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":At(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Nt.get(n)||n,r)}}function $u(e,t,n,r,i,a){switch(n){case"style":At(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Oe]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,r,s,n,null)}}return a&&Ju(e,t,"srcSet",n.srcSet,n,null),void(i&&Ju(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Ju(e,t,i,d,n,null)}}return yt(e,r,l,c,u,s,a,!1),void dt(e);case"select":for(a in Lu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Ju(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Lu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Ju(e,t,s,l,n,null)}return xt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Mu.length;i++)Lu(Mu[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,i,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&$u(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ju(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&xd(o.documentElement),2&n&&xd(o.body),4&n)for(xd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Nh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Nh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,Sd=new Set;function _d(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ad=D.d;D.d={f:function(){var e=Ad.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Oo(t):Ad.r(e)},D:function(e){Ad.D(e),Nd("dns-prefetch",e,null)},C:function(e,t){Ad.C(e,t),Nd("preconnect",e,t)},L:function(e,t,n){Ad.L(e,t,n);var r=Ed;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=jd(e);break;case"script":a=Pd(e)}kd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Td(a))||"script"===t&&r.querySelector(Od(a))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Ad.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Pd(e)}if(!kd.has(a)&&(e=h({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(a)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Ad.X(e,t);var n=Ed;if(n&&e){var r=Ge(n).hoistableScripts,i=Pd(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Ld(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Ad.S(e,t,n);var r=Ed;if(r&&e){var i=Ge(r).hoistableStyles,a=jd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Td(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Rd(e,n);var l=o=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Dd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Ad.M(e,t);var n=Ed;if(n&&e){var r=Ge(n).hoistableScripts,i=Pd(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Ld(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Ed="undefined"===typeof document?null:document;function Nd(e,t,n){var r=Ed;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sd.has(i)||(Sd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,a,s,l,c=(c=G.current)?_d(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=jd(n.href),(r=(n=Ge(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=jd(n.href);var u=Ge(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",s),We(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=Ge(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function jd(e){return'href="'+mt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":i=jd(n.href);var a=e.querySelector(Td(i));if(a)return t.state.loading|=4,t.instance=a,We(a),a;r=Id(n),(i=kd.get(i))&&Rd(r,i),We(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",r),t.state.loading|=4,Dd(a,n.precedence,e),t.instance=a;case"script":return a=Pd(n.src),(i=e.querySelector(Od(a)))?(t.instance=i,We(i),i):(r=n,(i=kd.get(a))&&Ld(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Fd(e,t,n){if(null===zd){var r=new Map,i=zd=new Map;i.set(n,r)}else(r=(i=zd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Fe]||a[Pe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Hd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Yd,e),Wd=null,Gd.call(e))}function Yd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Gd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:x,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Kd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qd(e,t,n,r,i,a,o,s,l,c,u,d){return e=new Kd(e,t,n,o,s,l,c,d),t=1,!0===a&&(t|=24),a=Rr(3,null,null,t),e.current=a,a.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Zd(e){return e?e=Mr:Mr}function Jd(e,t,n,r,i,a){i=Zd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Rc(n,0,t),oa(n,e,t))}function $d(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function th(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=M.T;M.T=null;var a=D.p;try{D.p=2,ah(e,t,n,r)}finally{D.p=a,M.T=i}}function ih(e,t,n,r){var i=M.T;M.T=null;var a=D.p;try{D.p=8,ah(e,t,n,r)}finally{D.p=a,M.T=i}}function ah(e,t,n,r){if(nh){var i=oh(r);if(null===i)Vu(e,t,r,sh,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ph.set(a,bh(ph.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mh.set(a,bh(mh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var a=Ve(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ve(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}ku(a),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(s=Ir(a,2))&&Rc(s,0,2),Bc(),eh(a,2)}if(null===(a=oh(r))&&Vu(e,t,r,sh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function oh(e){return lh(e=It(e))}var sh=null;function lh(e){if(sh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Mc();e=Ce(e);var t=Ir(n,e);null!==t&&Rc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function kh(e,t,n){xh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==fh&&xh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function _h(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Ah=null;function Eh(e){Ah!==e&&(Ah=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ah===e&&(Ah=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var a=Ve(n);null!==a&&(e.splice(t,3),t-=3,Io(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Nh(e){function t(t){return _h(t,e)}null!==dh&&_h(dh,e),null!==hh&&_h(hh,e),null!==fh&&_h(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Oe]||null;if("function"===typeof a)o||Eh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Oe]||null)s=o.formAction;else if(null!==lh(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Eh(n)}}}function Ch(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Mc(),e,t,null,null)},jh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Bc(),t[Me]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Th=i.version;if("19.1.1"!==Th)throw Error(o(527,Th,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ih),de=Ph}catch(Mh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=vs,a=bs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,n,r,i,a,l,0,null),e[Me]=t.current,Uu(e),new Ch(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=vs,l=bs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qd(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Zd(null),n=t.current,(i=ia(r=Ce(r=Mc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,Ae(t,n),ku(t),e[Me]=t.current,Uu(e),new jh(t)},t.version="19.1.1"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(a);for(let r=0;r<a;r++)o[r]=e,e+=n;return o}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),i=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,i.noop)}},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?C(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=A(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=A(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return C(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(E(n,o),E(e,o),o),s=!0,C(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),i)},y.naturalExponential=y.exp=function(){return k(this)},y.naturalLogarithm=y.ln=function(){return E(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):j(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(x(c,a,o+2)).times(.5),w(a.d).slice(0,o)===(t=w(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(C(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,C(r,n)},y.times=y.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?C(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),C(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=T(r,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=T(r=C(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?T(i):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),n=T((r=C(new o(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return C(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&I((a=a.times(u)).d,t),0!==(n=d(n/2));)I((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):C(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(E(u,r+12)),s=!0,(a=k(a)).s=o,a},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=T(i,(n=S(i))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,a),void 0===t?t=o.rounding:b(t,0,8),r=T(i=C(new o(i),e,t),e<=(n=S(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,d,h,f,m,g,y,v,b,w,x,k,_,A,E,N,j=r.constructor,T=r.s==i.s?1:-1,I=r.d,P=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,E=P.length,_=I.length,g=(m=new j(T)).d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--c,(w=null==a?a=j.precision:o?a+(S(r)-S(i))+1:a)<0)return new j(0);if(w=w/7+2|0,u=0,1==E)for(d=0,P=P[0],w++;(u<_||d)&&w--;u++)x=d*p+(I[u]||0),g[u]=x/P|0,d=x%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),I=e(I,d),E=P.length,_=I.length),k=E,v=(y=I.slice(0,E)).length;v<E;)y[v++]=0;(N=P.slice()).unshift(0),A=P[0],P[1]>=p/2&&++A;do{d=0,(s=t(P,y,E,v))<0?(b=y[0],E!=v&&(b=b*p+(y[1]||0)),(d=b/A|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(P,d),y,f=h.length,v=y.length))&&(d--,n(h,E<f?N:P,f))):(0==d&&(s=d=1),h=P.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(P,y,E,v=y.length))<1&&(d++,n(y,E<v?N:P,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=I[k]||0:(y=[I[k]],v=1)}while((k++<_||void 0!==y[0])&&w--)}return g[0]||g.shift(),m.e=c,C(m,o?a+S(m)+1:a)}}();function k(e,t){var n,r,a,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),w((o=a.plus(x(r,n,l))).d).slice(0,l)===w(a.d).slice(0,l)){for(;d--;)a=C(a.times(a),l);return f.precision=p,null==t?(s=!0,C(a,p)):a}a=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function _(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,a,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),_(y,h);if(h+=10,y.precision=h,r=(n=w(g)).charAt(0),o=S(m),!(Math.abs(o)<15e14))return d=_(y,h+2,v).times(o+""),m=E(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,C(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),p++;for(o=S(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),h),f=C(m.times(m),h),a=3;;){if(c=C(c.times(f),h),w((d=u.plus(x(c,new y(a),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(_(y,h+2,v).times(o+""))),u=x(u,new y(p),h),y.precision=v,null==t?(s=!0,C(u,v)):u;u=d,a+=2}}function N(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,a,o,l,c,f,m,y=e.d;for(o=1,a=y[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=y.length))return e;for(f=a=y[m],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=f/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,o-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(a=S(e),y.length=1,t=t-a-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,a=1,m--):(y.length=m+1,a=h(10,7-r),y[m]=i>0?(f/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(y[0]+=a)==p&&(y[0]=1,++e.e);break}if(y[m]+=a,y[m]!=p)break;y[m--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function j(e,t){var n,r,i,a,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(i=Math.max(Math.ceil(m/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,m):t):new f(0)}function T(e,t,n){var r,i=S(e),a=w(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+A(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+A(-i-1)+a,n&&(r=n-o)>0&&(a+=A(r))):i>=o?(a+=A(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+A(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=A(r))),e.s<0?"-"+a:a}function I(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):N(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);N(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),a=n(8396),o=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=o.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),a=n(3272),o=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,o.toPath(n),s):s:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),i=n(6443),a=n(5990),o=n(7599),s=n(9972);function l(e,t,n,r,i,a,o){const s=o(e,t,n,r,i,a);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,a,o)}return c(e,t,a,o)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=a.getTag(e),h=a.getTag(t);if(d===o.argumentsTag&&(d=o.objectTag),h===o.argumentsTag&&(h=o.objectTag),d!==h)return!1;switch(d){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const f=(n=null!==n&&void 0!==n?n:new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case o.mapTag:if(e.size!==t.size)return!1;for(const[r,i]of e.entries())if(!t.has(r)||!l(i,t.get(r),r,e,t,n,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),i=Array.from(t.values());for(let a=0;a<r.length;a++){const o=r[a],s=i.findIndex(r=>l(o,r,void 0,e,t,n,u));if(-1===s)return!1;i.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const a=[...Object.keys(e),...i.getSymbols(e)],o=[...Object.keys(t),...i.getSymbols(t)];if(a.length!==o.length)return!1;for(let r=0;r<a.length;r++){const i=a[r],o=e[i];if(!Object.hasOwn(t,i))return!1;if(!l(o,t[i],i,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),a=n(1203);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".d8e2a990.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-react-app:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/bad-todo/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Mw,scaleDiverging:()=>CA,scaleDivergingLog:()=>jA,scaleDivergingPow:()=>IA,scaleDivergingSqrt:()=>PA,scaleDivergingSymlog:()=>TA,scaleIdentity:()=>kk,scaleImplicit:()=>Pw,scaleLinear:()=>xk,scaleLog:()=>Ik,scaleOrdinal:()=>Ow,scalePoint:()=>Rw,scalePow:()=>Uk,scaleQuantile:()=>Jk,scaleQuantize:()=>$k,scaleRadial:()=>Hk,scaleSequential:()=>xA,scaleSequentialLog:()=>kA,scaleSequentialPow:()=>_A,scaleSequentialQuantile:()=>EA,scaleSequentialSqrt:()=>AA,scaleSequentialSymlog:()=>SA,scaleSqrt:()=>Bk,scaleSymlog:()=>Dk,scaleThreshold:()=>eS,scaleTime:()=>yA,scaleUtc:()=>vA,tickFormat:()=>bk});var t=n(5043),r=n.t(t,2),i=n(4391);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new f;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(e){return function(e){const t=d(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")},m=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const y=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/bad-todo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCsx6RHun1exNzs-ihuwXGpsnJGR4jQMW8",REACT_APP_APP_ID:"1:382969075357:web:ee7194ec6c12a8faece674",REACT_APP_AUTH_DOMAIN:"assignment-tracker-d2dc2.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-47D2YMVQN3",REACT_APP_MESSAGING_SENDER_ID:"382969075357",REACT_APP_PROJECT_ID:"assignment-tracker-d2dc2",REACT_APP_STORAGE_BUCKET:"assignment-tracker-d2dc2.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&m(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t;return null===(t=y())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},b=()=>{var e;return null===(e=y())||void 0===e?void 0:e.config},w=e=>{var t;return null===(t=y())||void 0===t?void 0:t["_".concat(e)]};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function k(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function S(e){return(await fetch(e,{credentials:"include"})).ok}const _={};let A=!1;function E(e,t){if("undefined"===typeof window||"undefined"===typeof document||!k(window.location.host)||_[e]===t||_[e]||A)return;function n(e){return"__firebase__banner__".concat(e)}_[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(_))_[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{A=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function N(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){var e;const t=null===(e=y())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function j(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){try{return"object"===typeof indexedDB}catch(e){return!1}}class I extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(O,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new I(n,a,t)}}const O=/\{\$([^}]+)}/g;function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(D(n)&&D(a)){if(!M(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function L(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U(){}function B(e){return e&&e._delegate?e._delegate:e}class V{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const H="[DEFAULT]";class G{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new x;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:H})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===H?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.component?this.component.multipleInstances?e:H:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new G(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const q=[];var Y;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Y||(Y={}));const X={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},K=Y.INFO,Q={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},Z=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Q[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class J{constructor(e){this.name=e,this._logLevel=K,this._logHandler=Z,this._userLogHandler=null,q.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?X[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...t),this._logHandler(this,Y.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...t),this._logHandler(this,Y.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.INFO,...t),this._logHandler(this,Y.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.WARN,...t),this._logHandler(this,Y.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...t),this._logHandler(this,Y.ERROR,...t)}}let $,ee;const te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,ae=new WeakMap;let oe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ne.get(e);if("objectStoreNames"===t)return e.objectStoreNames||re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ce(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ue(this),n),ce(te.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(e.apply(ue(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(ue(this),t,...r);return re.set(a,t.sort?t.sort():[t]),ce(a)}}function le(e){return"function"===typeof e?se(e):(e instanceof IDBTransaction&&function(e){if(ne.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});ne.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,$||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,oe):e)}function ce(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(ce(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&te.set(t,e)}).catch(()=>{}),ae.set(t,e),t}(e);if(ie.has(e))return ie.get(e);const t=le(e);return t!==e&&(ie.set(e,t),ae.set(t,e)),t}const ue=e=>ae.get(e);const de=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],fe=new Map;function pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(fe.get(t))return fe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=he.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!de.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return fe.set(t,a),a}oe=(e=>u(u({},e),{},{get:(t,n,r)=>pe(t,n)||e.get(t,n,r),has:(t,n)=>!!pe(t,n)||e.has(t,n)}))(oe);class me{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ge="@firebase/app",ye="0.14.2",ve=new J("@firebase/app"),be="@firebase/app-compat",we="@firebase/analytics-compat",xe="@firebase/analytics",ke="@firebase/app-check-compat",Se="@firebase/app-check",_e="@firebase/auth",Ae="@firebase/auth-compat",Ee="@firebase/database",Ne="@firebase/data-connect",Ce="@firebase/database-compat",je="@firebase/functions",Te="@firebase/functions-compat",Ie="@firebase/installations",Pe="@firebase/installations-compat",Oe="@firebase/messaging",Me="@firebase/messaging-compat",De="@firebase/performance",Re="@firebase/performance-compat",Le="@firebase/remote-config",ze="@firebase/remote-config-compat",Fe="@firebase/storage",Ue="@firebase/storage-compat",Be="@firebase/firestore",Ve="@firebase/ai",He="@firebase/firestore-compat",Ge="firebase",We="[DEFAULT]",qe={[ge]:"fire-core",[be]:"fire-core-compat",[xe]:"fire-analytics",[we]:"fire-analytics-compat",[Se]:"fire-app-check",[ke]:"fire-app-check-compat",[_e]:"fire-auth",[Ae]:"fire-auth-compat",[Ee]:"fire-rtdb",[Ne]:"fire-data-connect",[Ce]:"fire-rtdb-compat",[je]:"fire-fn",[Te]:"fire-fn-compat",[Ie]:"fire-iid",[Pe]:"fire-iid-compat",[Oe]:"fire-fcm",[Me]:"fire-fcm-compat",[De]:"fire-perf",[Re]:"fire-perf-compat",[Le]:"fire-rc",[ze]:"fire-rc-compat",[Fe]:"fire-gcs",[Ue]:"fire-gcs-compat",[Be]:"fire-fst",[He]:"fire-fst-compat",[Ve]:"fire-vertex","fire-js":"fire-js",[Ge]:"fire-js-all"},Ye=new Map,Xe=new Map,Ke=new Map;function Qe(e,t){try{e.container.addComponent(t)}catch(n){ve.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ze(e){const t=e.name;if(Ke.has(t))return ve.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ke.set(t,e);for(const n of Ye.values())Qe(n,e);for(const n of Xe.values())Qe(n,e);return!0}function Je(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $e(e){return null!==e&&void 0!==e&&void 0!==e.settings}const et=new P("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tt{constructor(e,t,n){this._isDeleted=!1,this._options=u({},e),this._config=u({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new V("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw et.create("app-deleted",{appName:this._name})}}const nt="12.2.0";function rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=u({name:We,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw et.create("bad-app-name",{appName:String(i)});if(n||(n=b()),!n)throw et.create("no-options");const a=Ye.get(i);if(a){if(M(n,a.options)&&M(r,a.config))return a;throw et.create("duplicate-app",{appName:i})}const o=new W(i);for(const l of Ke.values())o.addComponent(l);const s=new tt(n,r,o);return Ye.set(i,s),s}function it(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;const t=Ye.get(e);if(!t&&e===We&&b())return rt();if(!t)throw et.create("no-app",{appName:e});return t}function at(e,t,n){var r;let i=null!==(r=qe[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ve.warn(e.join(" "))}Ze(new V("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ot="firebase-heartbeat-store";let st=null;function lt(){return st||(st=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=ce(o);return r&&o.addEventListener("upgradeneeded",e=>{r(ce(o.result),e.oldVersion,e.newVersion,ce(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ot)}catch(n){console.warn(n)}}}).catch(e=>{throw et.create("idb-open",{originalErrorMessage:e.message})})),st}async function ct(e,t){try{const n=(await lt()).transaction(ot,"readwrite"),r=n.objectStore(ot);await r.put(t,ut(e)),await n.done}catch(n){if(n instanceof I)ve.warn(n.message);else{const e=et.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ve.warn(e.message)}}}function ut(e){return"".concat(e.name,"!").concat(e.options.appId)}class dt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ft(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ht();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ve.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ht(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),pt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ve.warn(t),""}}}function ht(){return(new Date).toISOString().substring(0,10)}class ft{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!T()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await lt()).transaction(ot),n=await t.objectStore(ot).get(ut(e));return await t.done,n}catch(t){if(t instanceof I)ve.warn(t.message);else{const e=et.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ve.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pt(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var mt;mt="",Ze(new V("platform-logger",e=>new me(e),"PRIVATE")),Ze(new V("heartbeat",e=>new dt(e),"PRIVATE")),at(ge,ye,mt),at(ge,ye,"esm2020"),at("fire-js","");at("firebase","12.2.1","app");const gt=["providerId"],yt=["uid","auth","stsTokenManager"],vt=["providerId","signInMethod"];function bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wt=bt,xt=new P("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kt=new J("@firebase/auth");function St(e){if(kt.logLevel<=Y.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kt.error("Auth (".concat(nt,"): ").concat(e),...n)}}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ct(e,...n)}function At(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ct(e,...n)}function Et(e,t,n){const r=u(u({},wt()),{},{[t]:n});return new P("auth","Firebase",r).create(t,{appName:e.name})}function Nt(e){return Et(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xt.create(e,...n)}function jt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ct(t,...r)}}function Tt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw St(t),new Error(t)}function It(e,t){e||Tt(t)}function Pt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ot(){return"http:"===Mt()||"https:"===Mt()}function Mt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Dt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ot()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,It(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Dt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lt(e,t){It(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class zt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ut=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bt=new Rt(3e4,6e4);function Vt(e,t){return e.tenantId&&!t.tenantId?u(u({},t),{},{tenantId:e.tenantId}):t}async function Ht(e,t,n,r){return Gt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=R(u({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=u({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&k(e.emulatorConfig.host)&&(l.credentials="include"),zt.fetch()(await qt(e,e.config.apiHost,n,o),l)})}async function Gt(e,t,n){e._canInitEmulator=!1;const r=u(u({},Ft),t);try{const t=new Xt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Kt(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Kt(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Kt(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Kt(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Et(e,s,o);_t(e,s)}}catch(i){if(i instanceof I)throw i;_t(e,"network-request-failed",{message:String(i)})}}async function Wt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Ht(e,t,n,r,i);return"mfaPendingCredential"in a&&_t(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function qt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?Lt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Ut.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function Yt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(At(this.auth,"network-request-failed")),Bt.get())})}}function Kt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=At(e,t,r);return i.customData._tokenResponse=n,i}function Qt(e){return void 0!==e&&void 0!==e.enterprise}class Zt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jt(e,t){return Ht(e,"GET","/v2/recaptchaConfig",Vt(e,t))}async function $t(e,t){return Ht(e,"POST","/v1/accounts:lookup",t)}function en(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function tn(e){return 1e3*Number(e)}function nn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return St("JWT malformed, contained fewer than 3 sections"),null;try{const e=m(n);return e?JSON.parse(e):(St("Failed to decode base64 JWT payload"),null)}catch(i){return St("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function rn(e){const t=nn(e);return jt(t,"internal-error"),jt("undefined"!==typeof t.exp,"internal-error"),jt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function an(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof I&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class on{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class sn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ln(e){var t;const n=e.auth,r=await e.getIdToken(),i=await an(e,$t(n,{idToken:r}));jt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?cn(a.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null!==s&&void 0!==s&&s.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new sn(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function cn(e){return e.map(e=>{let{providerId:t}=e,n=a(e,gt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jt(e.idToken,"internal-error"),jt("undefined"!==typeof e.idToken,"internal-error"),jt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):rn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){jt(0!==e.length,"internal-error");const t=rn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Gt(e,{},async()=>{const n=R({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await qt(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&k(e.emulatorConfig.host)&&(s.credentials="include"),zt.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new un;return n&&(jt("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(jt("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(jt("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new un,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function dn(e,t){jt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class hn{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,yt);this.providerId="firebase",this.proactiveRefresh=new on(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await an(this,this.stsTokenManager.getToken(this.auth,e));return jt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=B(e),r=await n.getIdToken(t),i=nn(r);jt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:en(tn(i.auth_time)),issuedAtTime:en(tn(i.iat)),expirationTime:en(tn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=B(e);await ln(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>u({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hn(u(u({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ln(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($e(this.auth.app))return Promise.reject(Nt(this.auth));const e=await this.getIdToken();return await an(this,async function(e,t){return Ht(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return u(u({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>u({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:S}=t;jt(b&&S,e,"internal-error");const _=un.fromJSON(this.name,S);jt("string"===typeof b,e,"internal-error"),dn(d,e.name),dn(h,e.name),jt("boolean"===typeof w,e,"internal-error"),jt("boolean"===typeof x,e,"internal-error"),dn(f,e.name),dn(p,e.name),dn(m,e.name),dn(g,e.name),dn(y,e.name),dn(v,e.name);const A=new hn({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:_,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(A.providerData=k.map(e=>u({},e))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new un;r.updateFromServerResponse(t);const i=new hn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ln(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];jt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?cn(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new un;o.updateFromIdToken(n);const s=new hn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new sn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const fn=new Map;function pn(e){It(e instanceof Function,"Expected a class definition");let t=fn.get(e);return t?(It(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fn.set(e,t),t)}class mn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mn.type="NONE";const gn=mn;function yn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class vn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yn(this.userKey,r.apiKey,i),this.fullPersistenceKey=yn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await $t(this.auth,{idToken:e}).catch(()=>{});return t?hn._fromGetAccountInfoResponse(this.auth,t,e):null}return hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new vn(pn(gn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||pn(gn);const a=yn(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await $t(e,{idToken:t}).catch(()=>{});if(!r)break;n=await hn._fromGetAccountInfoResponse(e,r,t)}else n=hn._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new vn(i,e,n)):new vn(i,e,n)}}function bn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(An(t))return"Blackberry";if(En(t))return"Webos";if(xn(t))return"Safari";if((t.includes("chrome/")||kn(t))&&!t.includes("edge/"))return"Chrome";if(_n(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return/firefox\//i.test(e)}function xn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:N()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return/crios\//i.test(e)}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return/iemobile/i.test(e)}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return/android/i.test(e)}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return/blackberry/i.test(e)}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return/webos/i.test(e)}function Nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Cn(){return function(){const e=N();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N();return Nn(e)||_n(e)||En(e)||An(e)||/windows phone/i.test(e)||Sn(e)}function Tn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bn(N());break;case"Worker":t="".concat(bn(N()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nt,"/").concat(r)}class In{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Pn{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class On{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dn(this),this.idTokenSubscription=new Dn(this),this.beforeStateQueue=new In(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await vn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $t(this,{idToken:e}),n=await hn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($e(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(a=n)||void 0===a?void 0:a._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==o||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ln(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($e(this.app))return Promise.reject(Nt(this));const t=e?B(e):null;return t&&jt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $e(this.app)?Promise.reject(Nt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $e(this.app)?Promise.reject(Nt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ht(e,"GET","/v2/passwordPolicy",Vt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new P("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ht(e,"POST","/v2/accounts:revokeToken",Vt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pn(e)||this._popupRedirectResolver;jt(t,this,"argument-error"),this.redirectPersistenceManager=await vn.create(this,[pn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if($e(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(kt.logLevel<=Y.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kt.warn("Auth (".concat(nt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Mn(e){return B(e)}class Dn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new F(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ln(e){return Rn.loadJS(e)}function zn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Fn{constructor(){this.enterprise=new Un}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Un{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bn="NO_RECAPTCHA";class Vn{constructor(e){this.type="recaptcha-enterprise",this.auth=Mn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Qt(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Bn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Fn).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Jt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Zt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Qt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Rn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ln(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Hn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Vn(e);let o;if(i)o=Bn;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=u({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Gn(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Hn(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Hn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Hn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Wn(e){const t=Mn(e),n=await Jt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Zt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Vn(t).verify()}}function qn(e,t,n){const r=Mn(e);jt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=Yn(t),{host:o,port:s}=function(e){const t=Yn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xn(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(a,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return jt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void jt(M(c,r.config.emulator)&&M(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,k(o)?(S("".concat(a,"//").concat(o).concat(l)),E("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Kn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tt("not implemented")}_getIdTokenResponse(e){return Tt("not implemented")}_linkToIdToken(e,t){return Tt("not implemented")}_getReauthenticationResolver(e){return Tt("not implemented")}}async function Qn(e,t){return Ht(e,"POST","/v1/accounts:signUp",t)}async function Zn(e,t){return Wt(e,"POST","/v1/accounts:signInWithPassword",Vt(e,t))}class Jn extends Kn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jn(e,t,"password")}static _fromEmailAndCode(e,t){return new Jn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Gn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithEmailLink",Vt(e,t))}(e,{email:this._email,oobCode:this._password});default:_t(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Gn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithEmailLink",Vt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_t(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $n(e,t){return Wt(e,"POST","/v1/accounts:signInWithIdp",Vt(e,t))}class er extends Kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_t("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,vt);if(!n||!r)return null;const o=new er(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return $n(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$n(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$n(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=R(t)}return e}}async function tr(e,t){return Ht(e,"POST","/v1/accounts:sendVerificationCode",Vt(e,t))}const nr={USER_NOT_FOUND:"user-not-found"};class rr extends Kn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new rr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new rr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Vt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Vt(e,t));if(n.temporaryProof)throw Kt(e,"account-exists-with-different-credential",n);return n}(e,u({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Vt(e,u(u({},t),{},{operation:"REAUTH"})),nr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new rr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ir{constructor(e){var t,n,r,i,a,o;const s=L(z(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);jt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=L(z(e)).link,n=t?L(z(t)).deep_link_id:null,r=L(z(e)).deep_link_id;return(r?L(z(r)).link:null)||r||n||t||e}(e);try{return new ir(t)}catch(n){return null}}}class ar{constructor(){this.providerId=ar.PROVIDER_ID}static credential(e,t){return Jn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ir.parseLink(t);return jt(n,"argument-error"),Jn._fromEmailAndCode(e,n.code,n.tenantId)}}ar.PROVIDER_ID="password",ar.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ar.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class or{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sr extends or{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends sr{constructor(){super("facebook.com")}static credential(e){return er._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch(n){return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com",lr.PROVIDER_ID="facebook.com";class cr extends sr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return er._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cr.credential(n,r)}catch(i){return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com",cr.PROVIDER_ID="google.com";class ur extends sr{constructor(){super("github.com")}static credential(e){return er._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch(n){return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com",ur.PROVIDER_ID="github.com";class dr extends sr{constructor(){super("twitter.com")}static credential(e,t){return er._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return dr.credential(n,r)}catch(i){return null}}}async function hr(e,t){return Wt(e,"POST","/v1/accounts:signUp",Vt(e,t))}dr.TWITTER_SIGN_IN_METHOD="twitter.com",dr.PROVIDER_ID="twitter.com";class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await hn._fromIdTokenResponse(e,n,r),a=pr(n);return new fr({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pr(n);return new fr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mr extends I{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mr(e,t,n,r)}}function gr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw mr._fromErrorAndOperation(e,n,t,r);throw n})}async function yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await an(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fr._forOperation(e,"link",r)}async function vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if($e(r.app))return Promise.reject(Nt(r));const i="reauthenticate";try{const a=await an(e,gr(r,i,t,e),n);jt(a.idToken,r,"internal-error");const o=nn(a.idToken);jt(o,r,"internal-error");const{sub:s}=o;return jt(e.uid===s,r,"user-mismatch"),fr._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&_t(r,"user-mismatch"),a}}async function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($e(e.app))return Promise.reject(Nt(e));const r="signIn",i=await gr(e,r,t),a=await fr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function wr(e,t){return br(Mn(e),t)}async function xr(e){const t=Mn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function kr(e,t){return Ht(e,"POST","/v2/accounts/mfaEnrollment:start",Vt(e,t))}new WeakMap;const Sr="__sak";class _r{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sr,"1"),this.storage.removeItem(Sr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ar extends _r{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Cn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ar.type="LOCAL";const Er=Ar;function Nr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Cr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class jr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Cr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Nr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Cr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Cr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Nr(n);const i=setInterval(()=>{const e=Nr(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}jr.type="COOKIE";class Tr extends _r{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tr.type="SESSION";const Ir=Tr;class Pr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Pr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pr.receivers=[];class Mr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=Or("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Dr(){return window}function Rr(){return"undefined"!==typeof Dr().WorkerGlobalScope&&"function"===typeof Dr().importScripts}const Lr="firebaseLocalStorageDb",zr="firebaseLocalStorage",Fr="fbase_key";class Ur{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Br(e,t){return e.transaction([zr],t?"readwrite":"readonly").objectStore(zr)}function Vr(){const e=indexedDB.open(Lr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(zr,{keyPath:Fr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(zr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Lr);return new Ur(e).toPromise()}(),t(await Vr()))})})}async function Hr(e,t,n){const r=Br(e,!0).put({[Fr]:t,value:n});return new Ur(r).toPromise()}function Gr(e,t){const n=Br(e,!0).delete(t);return new Ur(n).toPromise()}class Wr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Vr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pr._getInstance(Rr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Mr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vr();return await Hr(e,Sr,"1"),await Gr(e,Sr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Br(e,!1).get(t),r=await new Ur(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Br(e,!1).getAll();return new Ur(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wr.type="LOCAL";const qr=Wr;function Yr(e,t){return Ht(e,"POST","/v2/accounts/mfaSignIn:start",Vt(e,t))}zn("rcb"),new Rt(3e4,6e4);const Xr="recaptcha";async function Kr(e,t,n){if(!e._getRecaptchaConfig())try{await Wn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){jt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Gn(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Bn){jt((null===n||void 0===n?void 0:n.type)===Xr,e,"argument-error");return kr(e,await Qr(e,t,n))}return kr(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;jt("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;jt(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Gn(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Bn){jt((null===n||void 0===n?void 0:n.type)===Xr,e,"argument-error");return Yr(e,await Qr(e,t,n))}return Yr(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Gn(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Bn){jt((null===n||void 0===n?void 0:n.type)===Xr,e,"argument-error");return tr(e,await Qr(e,t,n))}return tr(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Qr(e,t,n){jt(n.type===Xr,e,"argument-error");const r=await n.verify();jt("string"===typeof r,e,"argument-error");const i=u({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Zr{constructor(e){this.providerId=Zr.PROVIDER_ID,this.auth=Mn(e)}verifyPhoneNumber(e,t){return Kr(this.auth,e,B(t))}static credential(e,t){return rr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zr.credentialFromTaggedObject(t)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?rr._fromTokenResponse(n,r):null}}function Jr(e,t){return t?pn(t):(jt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zr.PROVIDER_ID="phone",Zr.PHONE_SIGN_IN_METHOD="phone";class $r extends Kn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $n(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $n(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $n(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ei(e){return br(e.auth,new $r(e),e.bypassAuthState)}function ti(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),vr(n,new $r(e),e.bypassAuthState)}async function ni(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),yr(n,new $r(e),e.bypassAuthState)}class ri{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ei;case"linkViaPopup":case"linkViaRedirect":return ni;case"reauthViaPopup":case"reauthViaRedirect":return ti;default:_t(this.auth,"internal-error")}}resolve(e){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ii=new Rt(2e3,1e4);class ai extends ri{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ai.currentPopupAction&&ai.currentPopupAction.cancel(),ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jt(e,this.auth,"internal-error"),e}async onExecution(){It(1===this.filter.length,"Popup operations only handle one event");const e=Or();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(At(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(At(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(At(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ii.get())};e()}}ai.currentPopupAction=null;const oi=new Map;class si extends ri{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=oi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ui(t),r=ci(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}oi.set(this.auth._key(),e)}return this.bypassAuthState||oi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function li(e,t){oi.set(e._key(),t)}function ci(e){return pn(e._redirectPersistence)}function ui(e){return yn("pendingRedirect",e.config.apiKey,e.name)}async function di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($e(e.app))return Promise.reject(Nt(e));const r=Mn(e),i=Jr(r,t),a=new si(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class hi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pi(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(At(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fi(e))}saveEventToCache(e){this.cachedEventUids.add(fi(e)),this.lastProcessedEventTime=Date.now()}}function fi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function pi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gi=/^https?/;async function yi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ht(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(vi(r))return}catch(n){}_t(e,"unauthorized-domain")}function vi(e){const t=Pt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!gi.test(n))return!1;if(mi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bi=new Rt(3e4,6e4);function wi(){const e=Dr().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function xi(e){return new Promise((t,n)=>{var r,i;function a(){wi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wi(),n(At(e,"network-request-failed"))},timeout:bi.get()})}if(null!==(r=Dr().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Dr().gapi)||void 0===i||!i.load){const t=zn("iframefcb");return Dr()[t]=()=>{gapi.load?a():n(At(e,"network-request-failed"))},Ln("".concat(Rn.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw ki=null,e})}let ki=null;const Si=new Rt(5e3,15e3),_i={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ai=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ei(e){const t=e.config;jt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Lt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:nt},i=Ai.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(R(r).slice(1))}async function Ni(e){const t=await function(e){return ki=ki||xi(e),ki}(e),n=Dr().gapi;return jt(n,e,"internal-error"),t.open({where:document.body,url:Ei(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_i,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=At(e,"network-request-failed"),a=Dr().setTimeout(()=>{r(i)},Si.get());function o(){Dr().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const Ci={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ji{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ti(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=u(u({},Ci),{},{width:r.toString(),height:i.toString(),top:a,left:o}),c=N().toLowerCase();n&&(s=kn(c)?"_blank":n),wn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Nn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:N())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ji(null);const h=window.open(t||"",s,d);jt(h,e,"popup-blocked");try{h.focus()}catch(f){}return new ji(h)}const Ii="__/auth/handler",Pi="emulator/auth/handler",Oi=encodeURIComponent("fac");async function Mi(e,t,n,r,i,a){jt(e.config.authDomain,e,"auth-domain-config-required"),jt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nt,eventId:i};if(t instanceof or){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof sr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Oi,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ii);return Lt(t,Pi)}(e),"?").concat(R(s).slice(1)).concat(c)}const Di="webStorageSupport";const Ri=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ir,this._completeRedirectFn=di,this._overrideRedirectResult=li}async _openPopup(e,t,n,r){var i;It(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ti(e,await Mi(e,t,n,Pt(),r),Or())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Dr().location.href=e}(await Mi(e,t,n,Pt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(It(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ni(e),n=new hi(e);return t.register("authEvent",t=>{jt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Di,{type:Di},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Di];void 0!==i&&t(!!i),_t(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jn()||xn()||Nn()}};var Li="@firebase/auth",zi="1.11.0";class Fi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ui=w("authIdTokenMaxAge")||300;let Bi=null;var Vi;Rn={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=At("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Vi="Browser",Ze(new V("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;jt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Vi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tn(Vi)},c=new On(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ze(new V("auth-internal",e=>(e=>new Fi(e))(Mn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),at(Li,zi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Vi)),at(Li,zi,"esm2020");var Hi,Gi,Wi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},qi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Gi=qi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Hi=qi.Integer=r}).apply("undefined"!==typeof Wi?Wi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Yi,Xi,Ki,Qi,Zi,Ji,$i,ea,ta="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},na={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ta&&ta];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function _(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var A=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,C=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=A.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=i.Promise.resolve(void 0);N=()=>{e.then(I)}};var I=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(cL){S(cL)}var t=A;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function P(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(cL){}return e}();function D(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,O);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var G="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(r&&r.once)return X(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)q(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,i):Y(e,t,n,!1,r,i)}function Y(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=$(e);if(l||(e[G]=l=new B(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function X(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)X(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,i):Y(e,t,n,!0,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(a=e.g[t],n,r,i))&&(U(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(V(n,e),0==n.h&&(n.src=null,t[G]=null)):U(e)}}}function Z(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function $(e){return(e=e[G])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;x(t=new O(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}d(ve,O),d(be,O);var we={},xe=null;function ke(){return xe=xe||new ne}function Se(e){O.call(this,we.La,e)}function _e(e){const t=ke();re(t,new Se(t))}function Ae(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Ee(e){const t=ke();re(t,new Ae(t,e))}function Ne(e,t){O.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function je(){this.g=!0}function Te(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Se,O),we.STAT_EVENT="statevent",d(Ae,O),we.Ma="timingevent",d(Ne,O),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ie,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Ie=new Me;var Le={},ze={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=q(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,Ge(e,e.I)}function Ge(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||sn(e.j,e)}function Ye(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Xe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||$e(n.h,e)))if(!e.K&&$e(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Kt(n)}nn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(We(s),He(s)),r.g=o}else tn(r);0<n.i.length&&Zt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Xt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||_e(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Wt(this.g);e="";var a=r.length,o=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ye(this),qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ye(this),qe(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==ze){4==h&&(this.s=4,Ee(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ee(15),Te(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),Xe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,Ee(11))}}else Te(this.i,this.l,s,"[Invalid Chunked Response]"),Ye(this),qe(this)}else Te(this.i,this.l,s,null),Xe(this,s);4==h&&Ye(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ye(this),qe(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ye(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(_e(),Ee(17)),Ye(this),this.s=2,qe(this)):Ge(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function $e(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){xt(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return xt(e),t=At(e,t),e.g.has(t)}function _t(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(At(e,t),h(n)),e.h+=n.length)}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Nt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Tt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=At(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(At(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,St(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new Tt(this.l,this.j)},jt.prototype.i=function(e){return function(){return e}}({}),d(Tt,ne),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Ot(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,zt=["POST","PUT"];function Ft(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Vt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!Lt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Gt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){Ht(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if(Qt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),$t(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}un(e)}function Kt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Qt(e){Kt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||T(),C||(N(),C=!0),j.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),$t(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function $t(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Ct(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||T(),C||(N(),C=!0),j.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),$t(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!$e(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new Ne(r,n)),Zt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),un(e),Qt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),$t(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new jt({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?me(this.o):me(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ft(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ft(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(hL){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(hL){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),x(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),$t(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Mt(a)))+"&"+t:this.m&&Dt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Ze(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Kt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Kt(this),nn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Xt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Zt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,ea=na.createWebChannelTransport=function(){return new pn},$i=na.getStatEventTarget=function(){return ke()},Ji=na.Event=we,Zi=na.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Qi=na.ErrorCode=Pe,Oe.COMPLETE="complete",Ki=na.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Xi=na.WebChannel=ge,na.FetchXmlHttpFactory=jt,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Yi=na.XhrIo=Rt}).apply("undefined"!==typeof ta?ta:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ra="@firebase/firestore",ia="4.9.1";class aa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");let oa="12.2.0";const sa=new J("@firebase/firestore");function la(){return sa.logLevel}function ca(e){if(sa.logLevel<=Y.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);sa.debug("Firestore (".concat(oa,"): ").concat(e),...i)}}function ua(e){if(sa.logLevel<=Y.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);sa.error("Firestore (".concat(oa,"): ").concat(e),...i)}}function da(e){if(sa.logLevel<=Y.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);sa.warn("Firestore (".concat(oa,"): ").concat(e),...i)}}function ha(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fa(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,pa(e,r,n)}function pa(e,t,n){let r="FIRESTORE (".concat(oa,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ua(r),new Error(r)}function ma(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||pa(t,i,r)}function ga(e,t){return e}const ya={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class va extends I{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ba{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class xa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(aa.UNAUTHENTICATED))}shutdown(){}}class ka{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sa{constructor(e){this.t=e,this.currentUser=aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ma(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ba,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ca("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ca("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ba)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ca("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ma("string"==typeof t.accessToken,31837,{l:t}),new wa(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ma(null===e||"string"==typeof e,2055,{h:e}),new aa(e)}}class _a{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=aa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Aa{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new _a(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(aa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ea{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Na{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$e(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ma(void 0===this.o,3512);const n=e=>{null!=e.error&&ca("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,ca("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ca("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ca("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ea(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ma("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ea(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ca(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ja{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ca(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ta(e,t){return e<t?-1:e>t?1:0}function Ia(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Ma(n)===Ma(i)?Ta(n,i):Ma(n)?1:-1}return Ta(e.length,t.length)}const Pa=55296,Oa=57343;function Ma(e){const t=e.charCodeAt(0);return t>=Pa&&t<=Oa}function Da(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ra="__name__";class La{constructor(e,t,n){void 0===t?t=0:t>e.length&&fa(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&fa(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===La.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=La.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ta(e.length,t.length)}static compareSegments(e,t){const n=La.isNumericId(e),r=La.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?La.extractNumericId(e).compare(La.extractNumericId(t)):Ia(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class za extends La{construct(e,t,n){return new za(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new va(ya.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new za(e)}static emptyPath(){return new za([])}}const Fa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ua extends La{construct(e,t,n){return new Ua(e,t,n)}static isValidIdentifier(e){return Fa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ua.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ra}static keyField(){return new Ua([Ra])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new va(ya.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new va(ya.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new va(ya.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new va(ya.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ua(t)}static emptyPath(){return new Ua([])}}class Ba{constructor(e){this.path=e}static fromPath(e){return new Ba(za.fromString(e))}static fromName(e){return new Ba(za.fromString(e).popFirst(5))}static empty(){return new Ba(za.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===za.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return za.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ba(new za(e.slice()))}}function Va(e,t,n){if(!n)throw new va(ya.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ha(e){if(!Ba.isDocumentKey(e))throw new va(ya.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ga(e){if(Ba.isDocumentKey(e))throw new va(ya.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wa(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function qa(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fa(12329,{type:typeof e})}function Ya(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new va(ya.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qa(e);throw new va(ya.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Xa(e,t){if(t<=0)throw new va(ya.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Ka(e,t){const n={typeString:e};return t&&(n.value=t),n}function Qa(e,t){if(!Wa(e))throw new va(ya.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&o!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new va(ya.INVALID_ARGUMENT,n);return!0}const Za=-62135596800,Ja=1e6;class $a{static now(){return $a.fromMillis(Date.now())}static fromDate(e){return $a.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ja);return new $a(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new va(ya.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new va(ya.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Za)throw new va(ya.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new va(ya.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ja}_compareTo(e){return this.seconds===e.seconds?Ta(this.nanoseconds,e.nanoseconds):Ta(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$a._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qa(e,$a._jsonSchema))return new $a(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Za;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$a._jsonSchemaVersion="firestore/timestamp/1.0",$a._jsonSchema={type:Ka("string",$a._jsonSchemaVersion),seconds:Ka("number"),nanoseconds:Ka("number")};class eo{static fromTimestamp(e){return new eo(e)}static min(){return new eo(new $a(0,0))}static max(){return new eo(new $a(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const to=-1;class no{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}no.UNKNOWN_ID=-1;function ro(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eo.fromTimestamp(1e9===r?new $a(n+1,0):new $a(n,r));return new ao(i,Ba.empty(),t)}function io(e){return new ao(e.readTime,e.key,to)}class ao{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ao(eo.min(),Ba.empty(),to)}static max(){return new ao(eo.max(),Ba.empty(),to)}}function oo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ba.comparator(e.documentKey,t.documentKey),0!==n?n:Ta(e.largestBatchId,t.largestBatchId))}const so="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function co(e){if(e.code!==ya.FAILED_PRECONDITION||e.message!==so)throw e;ca("LocalStore","Unexpectedly lost primary lease")}class uo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fa(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof uo?t:uo.resolve(t)}catch(e){return uo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):uo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):uo.reject(t)}static resolve(e){return new uo((t,n)=>{t(e)})}static reject(e){return new uo((t,n)=>{n(e)})}static waitFor(e){return new uo((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=uo.resolve(!1);for(const n of e)t=t.next(e=>e?uo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new uo((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new uo((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ho(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(e){return"IndexedDbTransactionError"===e.name}class po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}po.ce=-1;const mo=-1;function go(e){return null==e}function yo(e){return 0===e&&1/e==-1/0}function vo(e){return"number"==typeof e&&Number.isInteger(e)&&!yo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const bo="\x01";function wo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ko(t)),t=xo(e.get(n),t);return ko(t)}function xo(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case bo:n+="\x01\x11";break;default:n+=t}}return n}function ko(e){return e+bo+"\x01"}const So="remoteDocuments",_o="owner",Ao="mutationQueues",Eo="mutations";const No="documentMutations",Co="remoteDocumentsV14",jo="remoteDocumentGlobal",To="targets",Io="targetDocuments",Po="targetGlobal",Oo="collectionParents",Mo="clientMetadata",Do="bundles",Ro="namedQueries",Lo="indexConfiguration",zo="indexState",Fo="indexEntries",Uo="documentOverlays",Bo="globals",Vo=[Ao,Eo,No,So,To,_o,Po,Io,Mo,jo,Oo,Do,Ro],Ho=[Ao,Eo,No,Co,To,_o,Po,Io,Mo,jo,Oo,Do,Ro,Uo],Go=Ho,Wo=[...Go,Lo,zo,Fo];function qo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ko{constructor(e,t){this.comparator=e,this.root=t||Zo.EMPTY}insert(e,t){return new Ko(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zo.BLACK,null,null))}remove(e){return new Ko(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qo(this.root,e,this.comparator,!0)}}class Qo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Zo.RED,this.left=null!=r?r:Zo.EMPTY,this.right=null!=i?i:Zo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Zo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fa(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fa(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fa(27949);return e+(this.isRed()?0:1)}}Zo.EMPTY=null,Zo.RED=!0,Zo.BLACK=!1,Zo.EMPTY=new class{constructor(){this.size=0}get key(){throw fa(57766)}get value(){throw fa(16141)}get color(){throw fa(16727)}get left(){throw fa(29726)}get right(){throw fa(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Zo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jo{constructor(e){this.comparator=e,this.data=new Ko(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $o(this.data.getIterator())}getIteratorFrom(e){return new $o(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Jo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jo(this.comparator);return t.data=e,t}}class $o{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class es{constructor(e){this.fields=e,e.sort(Ua.comparator)}static empty(){return new es([])}unionWith(e){let t=new Jo(Ua.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ts extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ts("Invalid base64 string: "+e):e}}(e);return new ns(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ta(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const rs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(e){if(ma(!!e,39018),"string"==typeof e){let t=0;const n=rs.exec(e);if(ma(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:as(e.seconds),nanos:as(e.nanos)}}function as(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function os(e){return"string"==typeof e?ns.fromBase64String(e):ns.fromUint8Array(e)}const ss="server_timestamp",ls="__type__",cs="__previous_value__",us="__local_write_time__";function ds(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ls])||void 0===t?void 0:t.stringValue)===ss}function hs(e){const t=e.mapValue.fields[cs];return ds(t)?hs(t):t}function fs(e){const t=is(e.mapValue.fields[us].timestampValue);return new $a(t.seconds,t.nanos)}class ps{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const ms="(default)";class gs{constructor(e,t){this.projectId=e,this.database=t||ms}static empty(){return new gs("","")}get isDefaultDatabase(){return this.database===ms}isEqual(e){return e instanceof gs&&e.projectId===this.projectId&&e.database===this.database}}const ys="__type__",vs="__max__",bs={mapValue:{fields:{__type__:{stringValue:vs}}}},ws="__vector__",xs="value";function ks(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ds(e)?4:Fs(e)?9007199254740991:Ls(e)?10:11:fa(28295,{value:e})}function Ss(e,t){if(e===t)return!0;const n=ks(e);if(n!==ks(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fs(e).isEqual(fs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=is(e.timestampValue),r=is(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return os(e.bytesValue).isEqual(os(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return as(e.geoPointValue.latitude)===as(t.geoPointValue.latitude)&&as(e.geoPointValue.longitude)===as(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return as(e.integerValue)===as(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=as(e.doubleValue),r=as(t.doubleValue);return n===r?yo(n)===yo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Da(e.arrayValue.values||[],t.arrayValue.values||[],Ss);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qo(n)!==qo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ss(n[i],r[i])))return!1;return!0}(e,t);default:return fa(52216,{left:e})}}function _s(e,t){return void 0!==(e.values||[]).find(e=>Ss(e,t))}function As(e,t){if(e===t)return 0;const n=ks(e),r=ks(t);if(n!==r)return Ta(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ta(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=as(e.integerValue||e.doubleValue),r=as(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Es(e.timestampValue,t.timestampValue);case 4:return Es(fs(e),fs(t));case 5:return Ia(e.stringValue,t.stringValue);case 6:return function(e,t){const n=os(e),r=os(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ta(n[i],r[i]);if(0!==e)return e}return Ta(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ta(as(e.latitude),as(t.latitude));return 0!==n?n:Ta(as(e.longitude),as(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ns(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,a){const o=e.fields||{},s=t.fields||{},l=null===(n=o[xs])||void 0===n?void 0:n.arrayValue,c=null===(r=s[xs])||void 0===r?void 0:r.arrayValue,u=Ta((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Ns(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bs.mapValue&&t===bs.mapValue)return 0;if(e===bs.mapValue)return 1;if(t===bs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Ia(r[o],a[o]);if(0!==e)return e;const t=As(n[r[o]],i[a[o]]);if(0!==t)return t}return Ta(r.length,a.length)}(e.mapValue,t.mapValue);default:throw fa(23264,{he:n})}}function Es(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ta(e,t);const n=is(e),r=is(t),i=Ta(n.seconds,r.seconds);return 0!==i?i:Ta(n.nanos,r.nanos)}function Ns(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=As(n[i],r[i]);if(e)return e}return Ta(n.length,r.length)}function Cs(e){return js(e)}function js(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=is(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return os(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ba.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=js(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(js(e.fields[i]));return n+"}"}(e.mapValue):fa(61005,{value:e})}function Ts(e){switch(ks(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hs(e);return t?16+Ts(t):16;case 5:return 2*e.stringValue.length;case 6:return os(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ts(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Yo(e.fields,(e,n)=>{t+=e.length+Ts(n)}),t}(e.mapValue);default:throw fa(13486,{value:e})}}function Is(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ps(e){return!!e&&"integerValue"in e}function Os(e){return!!e&&"arrayValue"in e}function Ms(e){return!!e&&"nullValue"in e}function Ds(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rs(e){return!!e&&"mapValue"in e}function Ls(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ys])||void 0===t?void 0:t.stringValue)===ws}function zs(e){if(e.geoPointValue)return{geoPointValue:u({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:u({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yo(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=zs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zs(e.arrayValue.values[n]);return t}return u({},e)}function Fs(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vs}class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zs(t)}setAll(e){let t=Ua.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zs(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Rs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Rs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Yo(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Us(zs(this.value))}}function Bs(e){const t=[];return Yo(e.fields,(e,n)=>{const r=new Ua([e]);if(Rs(n)){const e=Bs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new es(t)}class Vs{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Vs(e,0,eo.min(),eo.min(),eo.min(),Us.empty(),0)}static newFoundDocument(e,t,n,r){return new Vs(e,1,t,eo.min(),n,r,0)}static newNoDocument(e,t){return new Vs(e,2,t,eo.min(),eo.min(),Us.empty(),0)}static newUnknownDocument(e,t){return new Vs(e,3,t,eo.min(),eo.min(),Us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(eo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=eo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hs{constructor(e,t){this.position=e,this.inclusive=t}}function Gs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ba.comparator(Ba.fromName(o.referenceValue),n.key):As(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ws(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ss(e.position[n],t.position[n]))return!1;return!0}class qs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ys(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Xs{}class Ks extends Xs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rl(e,t,n):"array-contains"===t?new sl(e,n):"in"===t?new ll(e,n):"not-in"===t?new cl(e,n):"array-contains-any"===t?new ul(e,n):new Ks(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new il(e,n):new al(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(As(t,this.value)):null!==t&&ks(this.value)===ks(t)&&this.matchesComparison(As(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fa(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends Xs{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qs(e,t)}matches(e){return Zs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zs(e){return"and"===e.op}function Js(e){return $s(e)&&Zs(e)}function $s(e){for(const t of e.filters)if(t instanceof Qs)return!1;return!0}function el(e){if(e instanceof Ks)return e.field.canonicalString()+e.op.toString()+Cs(e.value);if(Js(e))return e.filters.map(e=>el(e)).join(",");{const t=e.filters.map(e=>el(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function tl(e,t){return e instanceof Ks?function(e,t){return t instanceof Ks&&e.op===t.op&&e.field.isEqual(t.field)&&Ss(e.value,t.value)}(e,t):e instanceof Qs?function(e,t){return t instanceof Qs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&tl(n,t.filters[r]),!0)}(e,t):void fa(19439)}function nl(e){return e instanceof Ks?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Cs(e.value))}(e):e instanceof Qs?function(e){return e.op.toString()+" {"+e.getFilters().map(nl).join(" ,")+"}"}(e):"Filter"}class rl extends Ks{constructor(e,t,n){super(e,t,n),this.key=Ba.fromName(n.referenceValue)}matches(e){const t=Ba.comparator(e.key,this.key);return this.matchesComparison(t)}}class il extends Ks{constructor(e,t){super(e,"in",t),this.keys=ol("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class al extends Ks{constructor(e,t){super(e,"not-in",t),this.keys=ol("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ol(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ba.fromName(e.referenceValue))}class sl extends Ks{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Os(t)&&_s(t.arrayValue,this.value)}}class ll extends Ks{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_s(this.value.arrayValue,t)}}class cl extends Ks{constructor(e,t){super(e,"not-in",t)}matches(e){if(_s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!_s(this.value.arrayValue,t)}}class ul extends Ks{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Os(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>_s(this.value.arrayValue,e))}}class dl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function hl(e){return new dl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fl(e){const t=ga(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>el(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),go(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Cs(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Cs(e)).join(",")),t.Te=e}return t.Te}function pl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ys(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ws(e.startAt,t.startAt)&&Ws(e.endAt,t.endAt)}function ml(e){return Ba.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yl(e,t,n,r,i,a,o,s){return new gl(e,t,n,r,i,a,o,s)}function vl(e){return new gl(e)}function bl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wl(e){return null!==e.collectionGroup}function xl(e){const t=ga(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Jo(Ua.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new qs(r,n))}),e.has(Ua.keyField().canonicalString())||t.Ie.push(new qs(Ua.keyField(),n))}return t.Ie}function kl(e){const t=ga(e);return t.Ee||(t.Ee=Sl(t,xl(e))),t.Ee}function Sl(e,t){if("F"===e.limitType)return hl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new qs(e.field,t)});const n=e.endAt?new Hs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hs(e.startAt.position,e.startAt.inclusive):null;return hl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function _l(e,t){const n=e.filters.concat([t]);return new gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Al(e,t,n){return new gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function El(e,t){return pl(kl(e),kl(t))&&e.limitType===t.limitType}function Nl(e){return"".concat(fl(kl(e)),"|lt:").concat(e.limitType)}function Cl(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>nl(e)).join(", "),"]")),go(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Cs(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Cs(e)).join(",")),"Target(".concat(t,")")}(kl(e)),"; limitType=").concat(e.limitType,")")}function jl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ba.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xl(e),t))}(e,t)}function Tl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Il(e){return(t,n)=>{let r=!1;for(const i of xl(e)){const e=Pl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Pl(e,t,n){const r=e.field.isKeyField()?Ba.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?As(r,i):fa(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fa(19790,{direction:e.dir})}}class Ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Xo(this.inner)}size(){return this.innerSize}}const Ml=new Ko(Ba.comparator);function Dl(){return Ml}const Rl=new Ko(Ba.comparator);function Ll(){let e=Rl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function zl(e){let t=Rl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Fl(){return Bl()}function Ul(){return Bl()}function Bl(){return new Ol(e=>e.toString(),(e,t)=>e.isEqual(t))}const Vl=new Ko(Ba.comparator),Hl=new Jo(Ba.comparator);function Gl(){let e=Hl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Wl=new Jo(Ta);function ql(){return Wl}function Yl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yo(t)?"-0":t}}function Xl(e){return{integerValue:""+e}}function Kl(e,t){return vo(t)?Xl(t):Yl(e,t)}class Ql{constructor(){this._=void 0}}function Zl(e,t,n){return e instanceof ec?function(e,t){const n={fields:{[ls]:{stringValue:ss},[us]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ds(t)&&(t=hs(t)),t&&(n.fields[cs]=t),{mapValue:n}}(n,t):e instanceof tc?nc(e,t):e instanceof rc?ic(e,t):function(e,t){const n=$l(e,t),r=oc(n)+oc(e.Ae);return Ps(n)&&Ps(e.Ae)?Xl(r):Yl(e.serializer,r)}(e,t)}function Jl(e,t,n){return e instanceof tc?nc(e,t):e instanceof rc?ic(e,t):n}function $l(e,t){return e instanceof ac?function(e){return Ps(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ec extends Ql{}class tc extends Ql{constructor(e){super(),this.elements=e}}function nc(e,t){const n=sc(t);for(const r of e.elements)n.some(e=>Ss(e,r))||n.push(r);return{arrayValue:{values:n}}}class rc extends Ql{constructor(e){super(),this.elements=e}}function ic(e,t){let n=sc(t);for(const r of e.elements)n=n.filter(e=>!Ss(e,r));return{arrayValue:{values:n}}}class ac extends Ql{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function oc(e){return as(e.integerValue||e.doubleValue)}function sc(e){return Os(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lc{constructor(e,t){this.field=e,this.transform=t}}class cc{constructor(e,t){this.version=e,this.transformResults=t}}class uc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uc}static exists(e){return new uc(void 0,e)}static updateTime(e){return new uc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hc{}function fc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sc(e.key,uc.none()):new vc(e.key,e.data,uc.none());{const n=e.data,r=Us.empty();let i=new Jo(Ua.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new bc(e.key,r,new es(i.toArray()),uc.none())}}function pc(e,t,n){e instanceof vc?function(e,t,n){const r=e.value.clone(),i=xc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bc?function(e,t,n){if(!dc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mc(e,t,n,r){return e instanceof vc?function(e,t,n,r){if(!dc(e.precondition,t))return n;const i=e.value.clone(),a=kc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bc?function(e,t,n,r){if(!dc(e.precondition,t))return n;const i=kc(e.fieldTransforms,r,t),a=t.data;return a.setAll(wc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return dc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$l(r.transform,e||null);null!=i&&(null===n&&(n=Us.empty()),n.set(r.field,i))}return n||null}function yc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Da(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof tc&&t instanceof tc||e instanceof rc&&t instanceof rc?Da(e.elements,t.elements,Ss):e instanceof ac&&t instanceof ac?Ss(e.Ae,t.Ae):e instanceof ec&&t instanceof ec}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vc extends hc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bc extends hc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function xc(e,t,n){const r=new Map;ma(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Jl(o,s,n[i]))}return r}function kc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Zl(e,a,t))}return r}class Sc extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _c extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ac{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&pc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=mc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=mc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ul();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=fc(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(eo.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gl())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(e,t)=>yc(e,t))&&Da(this.baseMutations,e.baseMutations,(e,t)=>yc(e,t))}}class Ec{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ma(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Vl;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Ec(e,t,n,r)}}class Nc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Cc{constructor(e,t){this.count=e,this.unchangedNames=t}}var jc,Tc;function Ic(e){switch(e){case ya.OK:return fa(64938);case ya.CANCELLED:case ya.UNKNOWN:case ya.DEADLINE_EXCEEDED:case ya.RESOURCE_EXHAUSTED:case ya.INTERNAL:case ya.UNAVAILABLE:case ya.UNAUTHENTICATED:return!1;case ya.INVALID_ARGUMENT:case ya.NOT_FOUND:case ya.ALREADY_EXISTS:case ya.PERMISSION_DENIED:case ya.FAILED_PRECONDITION:case ya.ABORTED:case ya.OUT_OF_RANGE:case ya.UNIMPLEMENTED:case ya.DATA_LOSS:return!0;default:return fa(15467,{code:e})}}function Pc(e){if(void 0===e)return ua("GRPC error has no .code"),ya.UNKNOWN;switch(e){case jc.OK:return ya.OK;case jc.CANCELLED:return ya.CANCELLED;case jc.UNKNOWN:return ya.UNKNOWN;case jc.DEADLINE_EXCEEDED:return ya.DEADLINE_EXCEEDED;case jc.RESOURCE_EXHAUSTED:return ya.RESOURCE_EXHAUSTED;case jc.INTERNAL:return ya.INTERNAL;case jc.UNAVAILABLE:return ya.UNAVAILABLE;case jc.UNAUTHENTICATED:return ya.UNAUTHENTICATED;case jc.INVALID_ARGUMENT:return ya.INVALID_ARGUMENT;case jc.NOT_FOUND:return ya.NOT_FOUND;case jc.ALREADY_EXISTS:return ya.ALREADY_EXISTS;case jc.PERMISSION_DENIED:return ya.PERMISSION_DENIED;case jc.FAILED_PRECONDITION:return ya.FAILED_PRECONDITION;case jc.ABORTED:return ya.ABORTED;case jc.OUT_OF_RANGE:return ya.OUT_OF_RANGE;case jc.UNIMPLEMENTED:return ya.UNIMPLEMENTED;case jc.DATA_LOSS:return ya.DATA_LOSS;default:return fa(39323,{code:e})}}(Tc=jc||(jc={}))[Tc.OK=0]="OK",Tc[Tc.CANCELLED=1]="CANCELLED",Tc[Tc.UNKNOWN=2]="UNKNOWN",Tc[Tc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tc[Tc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tc[Tc.NOT_FOUND=5]="NOT_FOUND",Tc[Tc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tc[Tc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tc[Tc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tc[Tc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tc[Tc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tc[Tc.ABORTED=10]="ABORTED",Tc[Tc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tc[Tc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tc[Tc.INTERNAL=13]="INTERNAL",Tc[Tc.UNAVAILABLE=14]="UNAVAILABLE",Tc[Tc.DATA_LOSS=15]="DATA_LOSS";let Oc=null;function Mc(){return new TextEncoder}const Dc=new Hi([4294967295,4294967295],0);function Rc(e){const t=Mc().encode(e),n=new Gi;return n.update(t),new Uint8Array(n.digest())}function Lc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Hi([n,r],0),new Hi([i,a],0)]}class zc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Fc("Invalid padding: ".concat(t));if(n<0)throw new Fc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Fc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Fc("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Hi.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Hi.fromNumber(n)));return 1===r.compare(Dc)&&(r=new Hi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Rc(e),[n,r]=Lc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new zc(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=Rc(e),[n,r]=Lc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Uc(eo.min(),r,new Ko(Ta),Dl(),Gl())}}class Bc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Bc(n,t,Gl(),Gl(),Gl())}}class Vc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Hc{constructor(e,t){this.targetId=e,this.Ce=t}}class Gc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wc{constructor(){this.ve=0,this.Fe=Xc(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gl(),t=Gl(),n=Gl();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fa(38017,{changeType:i})}}),new Bc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Xc()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ma(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qc{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dl(),this.Je=Yc(),this.He=Yc(),this.Ye=new Ko(Ta)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:fa(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(ml(a))if(0===n){const e=new Ba(a.path);this.et(t,e,Vs.newNoDocument(e,eo.min()))}else ma(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Oc)||void 0===i||i.lt(function(e,t,n,r,i,a,o,s,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(o=null===d||void 0===d||null===(s=d.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=os(n).toUint8Array()}catch(e){if(e instanceof ts)return da("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new zc(a,r,i)}catch(e){return da(e instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&ml(i.target)){const t=new Ba(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Vs.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Gl();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Uc(e,t,this.Ye,this.je,n);return this.je=Dl(),this.Je=Yc(),this.He=Yc(),this.Ye=new Ko(Ta),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Wc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Jo(Ta),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Jo(Ta),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||ca("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yc(){return new Ko(Ba.comparator)}function Xc(){return new Ko(Ba.comparator)}const Kc={asc:"ASCENDING",desc:"DESCENDING"},Qc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zc={and:"AND",or:"OR"};class Jc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $c(e,t){return e.useProto3Json||go(t)?t:{value:t}}function eu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nu(e,t){return eu(e,t.toTimestamp())}function ru(e){return ma(!!e,49232),eo.fromTimestamp(function(e){const t=is(e);return new $a(t.seconds,t.nanos)}(e))}function iu(e,t){return au(e,t).canonicalString()}function au(e,t){const n=function(e){return new za(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ou(e){const t=za.fromString(e);return ma(Eu(t),10190,{key:t.toString()}),t}function su(e,t){return iu(e.databaseId,t.path)}function lu(e,t){const n=ou(t);if(n.get(1)!==e.databaseId.projectId)throw new va(ya.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new va(ya.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ba(hu(n))}function cu(e,t){return iu(e.databaseId,t)}function uu(e){const t=ou(e);return 4===t.length?za.emptyPath():hu(t)}function du(e){return new za(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hu(e){return ma(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function fu(e,t,n){return{name:su(e,t),fields:n.value.mapValue.fields}}function pu(e,t){let n;if(t instanceof vc)n={update:fu(e,t.key,t.value)};else if(t instanceof Sc)n={delete:su(e,t.key)};else if(t instanceof bc)n={update:fu(e,t.key,t.data),updateMask:Au(t.fieldMask)};else{if(!(t instanceof _c))return fa(16599,{Vt:t.type});n={verify:su(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ec)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ac)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw fa(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fa(27497)}(e,t.precondition)),n}function mu(e,t){return{documents:[cu(e,t.path)]}}function gu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cu(e,i);const a=function(e){if(0!==e.length)return _u(Qs.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ku(e.field),direction:bu(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=$c(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function yu(e){let t=uu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ma(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=vu(e);return t instanceof Qs&&Js(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new qs(Su(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,go(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hs(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hs(n,t)}(n.endAt)),yl(t,i,o,a,s,"F",l,c)}function vu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Su(e.unaryFilter.field);return Ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Su(e.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Su(e.unaryFilter.field);return Ks.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Su(e.unaryFilter.field);return Ks.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fa(61313);default:return fa(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ks.create(Su(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fa(58110);default:return fa(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Qs.create(e.compositeFilter.filters.map(e=>vu(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fa(1026)}}(e.compositeFilter.op))}(e):fa(30097,{filter:e})}function bu(e){return Kc[e]}function wu(e){return Qc[e]}function xu(e){return Zc[e]}function ku(e){return{fieldPath:e.canonicalString()}}function Su(e){return Ua.fromServerFormat(e.fieldPath)}function _u(e){return e instanceof Ks?function(e){if("=="===e.op){if(Ds(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NAN"}};if(Ms(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ds(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NAN"}};if(Ms(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(e.field),op:wu(e.op),value:e.value}}}(e):e instanceof Qs?function(e){const t=e.getFilters().map(e=>_u(e));return 1===t.length?t[0]:{compositeFilter:{op:xu(e.op),filters:t}}}(e):fa(54877,{filter:e})}function Au(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Eu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Nu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eo.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eo.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ns.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cu{constructor(e){this.yt=e}}function ju(e){const t=yu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Al(t,t.limit,"L"):t}class Tu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(as(e.integerValue));else if("doubleValue"in e){const n=as(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),yo(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=is(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(os(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Fs(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ls(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):fa(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=xs,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(as(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ba.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Tu.Kt=new Tu;class Iu{constructor(){this.Cn=new Pu}addToCollectionParentIndex(e,t){return this.Cn.add(t),uo.resolve()}getCollectionParents(e,t){return uo.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return uo.resolve()}deleteFieldIndex(e,t){return uo.resolve()}deleteAllFieldIndexes(e){return uo.resolve()}createTargetIndexes(e,t){return uo.resolve()}getDocumentsMatchingTarget(e,t){return uo.resolve(null)}getIndexType(e,t){return uo.resolve(0)}getFieldIndexes(e,t){return uo.resolve([])}getNextCollectionGroupToUpdate(e){return uo.resolve(null)}getMinOffset(e,t){return uo.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,t){return uo.resolve(ao.min())}updateCollectionGroup(e,t,n){return uo.resolve()}updateIndexEntries(e,t){return uo.resolve()}}class Pu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Jo(za.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Jo(za.comparator)).toArray()}}new Uint8Array(0);const Ou={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mu=41943040;class Du{static withCacheSize(e){return new Du(e,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Du.DEFAULT_COLLECTION_PERCENTILE=10,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Du.DEFAULT=new Du(Mu,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Du.DISABLED=new Du(-1,0,0);class Ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ru(0)}static cr(){return new Ru(-1)}}const Lu="LruGarbageCollector",zu=1048576;function Fu(e,t){let[n,r]=e,[i,a]=t;const o=Ta(n,i);return 0===o?Ta(r,a):o}class Uu{constructor(e){this.Ir=e,this.buffer=new Jo(Fu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Fu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Bu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){ca(Lu,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fo(e)?ca(Lu,"Ignoring IndexedDB error during garbage collection: ",e):await co(e)}await this.Vr(3e5)})}}class Vu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return uo.resolve(po.ce);const n=new Uu(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ca("LruGarbageCollector","Garbage collection skipped; disabled"),uo.resolve(Ou)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ca("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ou):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ca("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),la()<=Y.DEBUG&&ca("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),uo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Hu(e,t){return new Vu(e,t)}class Gu{constructor(){this.changes=new Ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&mc(n.mutation,e,es.empty(),$a.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Gl()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gl();const r=Fl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ll();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Fl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Gl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Dl();const a=Bl(),o=Bl();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof bc)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),mc(o.mutation,t,o.mutation.getFieldMask(),$a.now())):a.set(t.key,es.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Wu(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Bl();let r=new Ko((e,t)=>e-t),i=Gl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||es.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Gl()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Ul();l.forEach(e=>{if(!i.has(e)){const r=fc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return uo.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ba.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):uo.resolve(Fl());let o=to,s=i;return a.next(t=>uo.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?uo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Gl())).next(e=>({batchId:o,changes:zl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ba(t)).next(e=>{let t=Ll();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Ll();return this.indexManager.getCollectionParents(e,i).next(o=>uo.forEach(o,o=>{const s=function(e,t){return new gl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vs.newInvalidDocument(r)))});let n=Ll();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&mc(a.mutation,r,es.empty(),$a.now()),jl(t,r)&&(n=n.insert(e,r))}),n})}}class Yu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return uo.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ru(e.createTime)}}(t)),uo.resolve()}getNamedQuery(e,t){return uo.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:ju(e.bundledQuery),readTime:ru(e.readTime)}}(t)),uo.resolve()}}class Xu{constructor(){this.overlays=new Ko(Ba.comparator),this.qr=new Map}getOverlay(e,t){return uo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fl();return uo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),uo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),uo.resolve()}getOverlaysForCollection(e,t,n){const r=Fl(),i=t.length+1,a=new Ba(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ko((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Fl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Fl(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return uo.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Nc(t,n));let i=this.qr.get(t);void 0===i&&(i=Gl(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Ku{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(e){return uo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,uo.resolve()}}class Qu{constructor(){this.Qr=new Jo(Zu.$r),this.Ur=new Jo(Zu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Zu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Zu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ba(new za([])),n=new Zu(t,e),r=new Zu(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ba(new za([])),n=new Zu(t,e),r=new Zu(t,e+1);let i=Gl();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Zu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Zu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ba.comparator(e.key,t.key)||Ta(e.Yr,t.Yr)}static Kr(e,t){return Ta(e.Yr,t.Yr)||Ba.comparator(e.key,t.key)}}class Ju{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Jo(Zu.$r)}checkEmpty(e){return uo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Ac(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new Zu(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return uo.resolve(a)}lookupMutationBatch(e,t){return uo.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return uo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return uo.resolve(0===this.mutationQueue.length?mo:this.tr-1)}getAllMutationBatches(e){return uo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zu(t,0),r=new Zu(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),uo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Jo(Ta);return t.forEach(e=>{const t=new Zu(e,0),r=new Zu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),uo.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ba.isDocumentKey(i)||(i=i.child(""));const a=new Zu(new Ba(i),0);let o=new Jo(Ta);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),uo.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ma(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return uo.forEach(t.mutations,r=>{const i=new Zu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Zu(t,0),r=this.Zr.firstAfterOrEqual(n);return uo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uo.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $u{constructor(e){this.ri=e,this.docs=new Ko(Ba.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uo.resolve(n?n.document.mutableCopy():Vs.newInvalidDocument(t))}getEntries(e,t){let n=Dl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vs.newInvalidDocument(e))}),uo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Dl();const a=t.path,o=new Ba(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||oo(io(o),n)<=0||(r.has(o.key)||jl(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return uo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fa(9500)}ii(e,t){return uo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ed(this)}getSize(e){return uo.resolve(this.size)}}class ed extends Gu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),uo.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class td{constructor(e){this.persistence=e,this.si=new Ol(e=>fl(e),pl),this.lastRemoteSnapshotVersion=eo.min(),this.highestTargetId=0,this.oi=0,this._i=new Qu,this.targetCount=0,this.ai=Ru.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),uo.resolve()}getLastRemoteSnapshotVersion(e){return uo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uo.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),uo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),uo.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ru(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,uo.resolve()}updateTargetData(e,t){return this.Pr(t),uo.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,uo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),uo.waitFor(i).next(()=>r)}getTargetCount(e){return uo.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return uo.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),uo.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),uo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),uo.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return uo.resolve(n)}containsKey(e,t){return uo.resolve(this._i.containsKey(t))}}class nd{constructor(e,t){this.ui={},this.overlays={},this.ci=new po(0),this.li=!1,this.li=!0,this.hi=new Ku,this.referenceDelegate=e(this),this.Pi=new td(this),this.indexManager=new Iu,this.remoteDocumentCache=function(e){return new $u(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Cu(t),this.Ii=new Yu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ju(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ca("MemoryPersistence","Starting transaction:",e);const r=new rd(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return uo.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class rd extends lo{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.Ri=new Qu,this.Vi=null}static mi(e){return new id(e)}get fi(){if(this.Vi)return this.Vi;throw fa(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),uo.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),uo.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),uo.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uo.forEach(this.fi,n=>{const r=Ba.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,eo.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return uo.or([()=>uo.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ad{constructor(e,t){this.persistence=e,this.pi=new Ol(e=>wo(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Hu(this,t)}static mi(e,t){return new ad(e,t)}Ei(){}di(e){return uo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return uo.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?uo.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,eo.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),uo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),uo.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),uo.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),uo.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ts(e.data.value)),t}br(e,t,n){return uo.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return uo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class od{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Gl(),r=Gl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new od(e,t.fromCache,n,r)}}class sd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ld{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=j()?8:ho(N())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new sd;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(la()<=Y.DEBUG&&ca("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),uo.resolve()):(la()<=Y.DEBUG&&ca("QueryEngine","Query:",Cl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(la()<=Y.DEBUG&&ca("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kl(t))):uo.resolve())}ys(e,t){if(bl(t))return uo.resolve(null);let n=kl(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Al(t,null,"F"),n=kl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Gl(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,Al(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return bl(t)||r.isEqual(eo.min())?uo.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?uo.resolve(null):(la()<=Y.DEBUG&&ca("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cl(t)),this.vs(e,a,t,ro(r,to)).next(e=>e))})}Ds(e,t){let n=new Jo(Il(e));return t.forEach((t,r)=>{jl(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return la()<=Y.DEBUG&&ca("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.ps.getDocumentsMatchingQuery(e,t,ao.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const cd="LocalStore";class ud{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ko(Ta),this.xs=new Ol(e=>fl(e),pl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function dd(e,t,n,r){return new ud(e,t,n,r)}async function hd(e,t){const n=ga(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=Gl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function fd(e){const t=ga(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function pd(e,t,n){let r=Gl(),i=Gl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Dl();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(eo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ca(cd,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{ks:r,qs:i}})}function md(e,t){const n=ga(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=mo),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function gd(e,t){const n=ga(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,uo.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Nu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function yd(e,t,n){const r=ga(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!fo(e))throw e;ca(cd,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function vd(e,t,n){const r=ga(e);let i=eo.min(),a=Gl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ga(e),i=r.xs.get(n);return void 0!==i?uo.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,kl(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:eo.min(),n?a:Gl())).next(e=>(bd(r,Tl(t),e),{documents:e,Qs:a})))}function bd(e,t,n){let r=e.Os.get(t)||eo.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class wd{constructor(){this.activeTargetIds=ql()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xd{constructor(){this.Mo=new wd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kd{Oo(e){}shutdown(){}}const Sd="ConnectivityMonitor";class _d{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ca(Sd,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ca(Sd,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ad=null;function Ed(){return null===Ad?Ad=268435456+Math.round(2147483648*Math.random()):Ad++,"0x"+Ad.toString(16)}const Nd="RestConnection",Cd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jd{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===ms?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=Ed(),o=this.zo(e,t.toUriEncodedString());ca(Nd,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),c=k(l);return this.Jo(e,o,s,n,c).then(t=>(ca(Nd,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw da(Nd,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Cd[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Td{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Id="WebChannelConnection";class Pd extends jd{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Ed();return new Promise((i,o)=>{const s=new Yi;s.setWithCredentials(!0),s.listenOnce(Ki.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Qi.NO_ERROR:const n=s.getResponseJson();ca(Id,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case Qi.TIMEOUT:ca(Id,"RPC '".concat(e,"' ").concat(a," timed out")),o(new va(ya.DEADLINE_EXCEEDED,"Request time out"));break;case Qi.HTTP_ERROR:const r=s.getStatus();if(ca(Id,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ya).indexOf(t)>=0?t:ya.UNKNOWN}(n.status);o(new va(e,n.message))}else o(new va(ya.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new va(ya.UNAVAILABLE,"Connection failed."));break;default:fa(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{ca(Id,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);ca(Id,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ed(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ea(),o=$i(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");ca(Id,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new Td({Yo:t=>{h?ca(Id,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ca(Id,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ca(Id,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Xi.EventType.OPEN,()=>{h||(ca(Id,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Xi.EventType.CLOSE,()=>{h||(h=!0,ca(Id,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Xi.EventType.ERROR,t=>{h||(h=!0,da(Id,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new va(ya.UNAVAILABLE,"The operation could not be completed")))}),p(u,Xi.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];ma(!!i,16349);const a=i,o=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ca(Id,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=jc[e];if(void 0!==t)return Pc(t)}(t),i=o.message;void 0===n&&(n=ya.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.a_(new va(n,i)),u.close()}else ca(Id,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,Ji.STAT_EVENT,t=>{t.stat===Zi.PROXY?ca(Id,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Zi.NOPROXY&&ca(Id,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Od(){return"undefined"!=typeof document?document:null}function Md(e){return new Jc(e,!0)}class Dd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ca("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Rd="PersistentStream";class Ld{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dd(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ya.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ya.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new va(ya.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ca(Rd,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ca(Rd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zd extends Ld{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fa(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ma(void 0===t||"string"==typeof t,58123),ns.fromBase64String(t||"")):(ma(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ns.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?ya.UNKNOWN:Pc(e.code);return new va(t,e.message||"")}(o);n=new Gc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lu(e,r.document.name),a=ru(r.document.updateTime),o=r.document.createTime?ru(r.document.createTime):eo.min(),s=new Us({mapValue:{fields:r.document.fields}}),l=Vs.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Vc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lu(e,r.document),a=r.readTime?ru(r.readTime):eo.min(),o=Vs.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Vc([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lu(e,r.document),a=r.removedTargetIds||[];n=new Vc([],a,i,null)}else{if(!("filter"in t))return fa(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Cc(r,i),o=e.targetId;n=new Hc(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?eo.min():t.readTime?ru(t.readTime):eo.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=du(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ml(r)?{documents:mu(e,r)}:{query:gu(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tu(e,t.resumeToken);const r=$c(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(eo.min())>0){n.readTime=eu(e,t.snapshotVersion.toTimestamp());const r=$c(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fa(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=du(this.serializer),t.removeTarget=e,this.q_(t)}}class Fd extends Ld{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ma(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ma(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ma(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ma(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ru(e.updateTime):ru(t);return n.isEqual(eo.min())&&(n=ru(t)),new cc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ru(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=du(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>pu(this.serializer,e))};this.q_(t)}}class Ud{}class Bd extends Ud{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new va(ya.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Go(e,au(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ya.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new va(ya.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Ho(e,au(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ya.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new va(ya.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Vd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ua(t),this.aa=!1):ca("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Hd="RemoteStore";class Gd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{$d(this)&&(ca(Hd,"Restarting streams for network reachability change."),await async function(e){const t=ga(e);t.Ea.add(4),await qd(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Wd(t)}(this))})}),this.Ra=new Vd(n,r)}}async function Wd(e){if($d(e))for(const t of e.da)await t(!0)}async function qd(e){for(const t of e.da)await t(!1)}function Yd(e,t){const n=ga(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Jd(n)?Zd(n):vh(n).O_()&&Kd(n,t))}function Xd(e,t){const n=ga(e),r=vh(n);n.Ia.delete(t),r.O_()&&Qd(n,t),0===n.Ia.size&&(r.O_()?r.L_():$d(n)&&n.Ra.set("Unknown"))}function Kd(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vh(e).Y_(t)}function Qd(e,t){e.Va.Ue(t),vh(e).Z_(t)}function Zd(e){e.Va=new qc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),vh(e).start(),e.Ra.ua()}function Jd(e){return $d(e)&&!vh(e).x_()&&e.Ia.size>0}function $d(e){return 0===ga(e).Ea.size}function eh(e){e.Va=void 0}async function th(e){e.Ra.set("Online")}async function nh(e){e.Ia.forEach((t,n)=>{Kd(e,t)})}async function rh(e,t){eh(e),Jd(e)?(e.Ra.ha(t),Zd(e)):e.Ra.set("Unknown")}async function ih(e,t,n){if(e.Ra.set("Online"),t instanceof Gc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){ca(Hd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ah(e,n)}else if(t instanceof Vc?e.Va.Ze(t):t instanceof Hc?e.Va.st(t):e.Va.tt(t),!n.isEqual(eo.min()))try{const t=await fd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(ns.EMPTY_BYTE_STRING,r.snapshotVersion)),Qd(e,t);const i=new Nu(r.target,t,n,r.sequenceNumber);Kd(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ca(Hd,"Failed to raise snapshot:",t),await ah(e,t)}}async function ah(e,t,n){if(!fo(t))throw t;e.Ea.add(1),await qd(e),e.Ra.set("Offline"),n||(n=()=>fd(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ca(Hd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Wd(e)})}function oh(e,t){return t().catch(n=>ah(e,n,t))}async function sh(e){const t=ga(e),n=bh(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mo;for(;lh(t);)try{const e=await md(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,ch(t,e)}catch(e){await ah(t,e)}uh(t)&&dh(t)}function lh(e){return $d(e)&&e.Ta.length<10}function ch(e,t){e.Ta.push(t);const n=bh(e);n.O_()&&n.X_&&n.ea(t.mutations)}function uh(e){return $d(e)&&!bh(e).x_()&&e.Ta.length>0}function dh(e){bh(e).start()}async function hh(e){bh(e).ra()}async function fh(e){const t=bh(e);for(const n of e.Ta)t.ea(n.mutations)}async function ph(e,t,n){const r=e.Ta.shift(),i=Ec.from(r,t,n);await oh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sh(e)}async function mh(e,t){t&&bh(e).X_&&await async function(e,t){if(function(e){return Ic(e)&&e!==ya.ABORTED}(t.code)){const n=e.Ta.shift();bh(e).B_(),await oh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sh(e)}}(e,t),uh(e)&&dh(e)}async function gh(e,t){const n=ga(e);n.asyncQueue.verifyOperationInProgress(),ca(Hd,"RemoteStore received new credentials");const r=$d(n);n.Ea.add(3),await qd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Wd(n)}async function yh(e,t){const n=ga(e);t?(n.Ea.delete(2),await Wd(n)):t||(n.Ea.add(2),await qd(n),n.Ra.set("Unknown"))}function vh(e){return e.ma||(e.ma=function(e,t,n){const r=ga(e);return r.sa(),new zd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:th.bind(null,e),t_:nh.bind(null,e),r_:rh.bind(null,e),H_:ih.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Jd(e)?Zd(e):e.Ra.set("Unknown")):(await e.ma.stop(),eh(e))})),e.ma}function bh(e){return e.fa||(e.fa=function(e,t,n){const r=ga(e);return r.sa(),new Fd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:hh.bind(null,e),r_:mh.bind(null,e),ta:fh.bind(null,e),na:ph.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await sh(e)):(await e.fa.stop(),e.Ta.length>0&&(ca(Hd,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class wh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new wh(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new va(ya.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xh(e,t){if(ua("AsyncQueue","".concat(t,": ").concat(e)),fo(e))return new va(ya.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class kh{static emptySet(e){return new kh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ba.comparator(t.key,n.key):(e,t)=>Ba.comparator(e.key,t.key),this.keyedMap=Ll(),this.sortedSet=new Ko(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new kh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sh{constructor(){this.ga=new Ko(Ba.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):fa(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class _h{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new _h(e,t,kh.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ah{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Eh{constructor(){this.queries=Nh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ga(e),r=n.queries;n.queries=Nh(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new va(ya.ABORTED,"Firestore shutting down"))}}function Nh(){return new Ol(e=>Nl(e),El)}async function Ch(e,t){const n=ga(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Ah,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=xh(e,"Initialization of query '".concat(Cl(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Ph(n)}async function jh(e,t){const n=ga(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Th(e,t){const n=ga(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Ph(n)}function Ih(e,t,n){const r=ga(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function Ph(e){e.Ca.forEach(e=>{e.next()})}var Oh,Mh;(Mh=Oh||(Oh={})).Ma="default",Mh.Cache="cache";class Dh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _h(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Oh.Cache}}class Rh{constructor(e){this.key=e}}class Lh{constructor(e){this.key=e}}class zh{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gl(),this.mutatedKeys=Gl(),this.eu=Il(e),this.tu=new kh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Sh,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=jl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fa(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==a.length||l?{snapshot:new _h(this.query,e.tu,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Lh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Rh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Gl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _h.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Fh="SyncEngine";class Uh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bh{constructor(e){this.key=e,this.hu=!1}}class Vh{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ol(e=>Nl(e),El),this.Iu=new Map,this.Eu=new Set,this.du=new Ko(Ba.comparator),this.Au=new Map,this.Ru=new Qu,this.Vu={},this.mu=new Map,this.fu=Ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Hh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=df(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Wh(r,t,n,!0),i}async function Gh(e,t){const n=df(e);await Wh(n,t,!0,!1)}async function Wh(e,t,n,r){const i=await gd(e.localStore,kl(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await qh(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Yd(e.remoteStore,i),s}async function qh(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await vd(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return af(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const a=await vd(e.localStore,t,!0),o=new zh(t,a.Qs),s=o.ru(a.documents),l=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);af(e,n,c.au);const u=new Uh(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Yh(e,t,n){const r=ga(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!El(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xd(r.remoteStore,i.targetId),nf(r,i.targetId)}).catch(co)):(nf(r,i.targetId),await yd(r.localStore,i.targetId,!0))}async function Xh(e,t){const n=ga(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xd(n.remoteStore,r.targetId))}async function Kh(e,t){const n=ga(e);try{const e=await function(e,t){const n=ga(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ns.EMPTY_BYTE_STRING,eo.min()).withLastLimboFreeSnapshotVersion(eo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Pi.updateTargetData(e,c))});let s=Dl(),l=Gl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(pd(e,a,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(eo.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return uo.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ma(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ma(r.hu,14607):e.removedDocuments.size>0&&(ma(r.hu,42227),r.hu=!1))}),await lf(n,e,t)}catch(e){await co(e)}}function Qh(e,t,n){const r=ga(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ga(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Ph(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zh(e,t,n){const r=ga(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new Ko(Ba.comparator);e=e.insert(a,Vs.newNoDocument(a,eo.min()));const n=Gl().add(a),i=new Uc(eo.min(),new Map,new Ko(Ta),e,n);await Kh(r,i),r.du=r.du.remove(a),r.Au.delete(t),sf(r)}else await yd(r.localStore,t,!1).then(()=>nf(r,t,n)).catch(co)}async function Jh(e,t){const n=ga(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ga(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=uo.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);ma(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);tf(n,r,null),ef(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,e)}catch(e){await co(e)}}async function $h(e,t,n){const r=ga(e);try{const e=await function(e,t){const n=ga(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ma(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);tf(r,t,n),ef(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lf(r,e)}catch(n){await co(n)}}function ef(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function tf(e,t,n){const r=ga(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||rf(e,t)})}function rf(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Xd(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),sf(e))}function af(e,t,n){for(const r of n)r instanceof Rh?(e.Ru.addReference(r.key,t),of(e,r)):r instanceof Lh?(ca(Fh,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||rf(e,r.key)):fa(19791,{wu:r})}function of(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ca(Fh,"New document in limbo: "+n),e.Eu.add(r),sf(e))}function sf(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ba(za.fromString(t)),r=e.fu.next();e.Au.set(r,new Bh(n)),e.du=e.du.insert(n,r),Yd(e.remoteStore,new Nu(kl(vl(n.path)),r,"TargetPurposeLimboResolution",po.ce))}}async function lf(e,t,n){const r=ga(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=od.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=ga(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>uo.forEach(t,t=>uo.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>uo.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fo(e))throw e;ca(cd,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function cf(e,t){const n=ga(e);if(!n.currentUser.isEqual(t)){ca(Fh,"User change. New user:",t.toKey());const e=await hd(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new va(ya.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lf(n,e.Ls)}}function uf(e,t){const n=ga(e),r=n.Au.get(t);if(r&&r.hu)return Gl().add(r.key);{let e=Gl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function df(e){const t=ga(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zh.bind(null,t),t.Pu.H_=Th.bind(null,t.eventManager),t.Pu.yu=Ih.bind(null,t.eventManager),t}function hf(e){const t=ga(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$h.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dd(this.persistence,new ld,e.initialUser,this.serializer)}Cu(e){return new nd(id.mi,this.serializer)}Du(e){return new xd}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class pf extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ma(this.persistence.referenceDelegate instanceof ad,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Bu(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Du.withCacheSize(this.cacheSizeBytes):Du.DEFAULT;return new nd(e=>ad.mi(e,t),this.serializer)}}class mf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cf.bind(null,this.syncEngine),await yh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Eh}createDatastore(e){const t=Md(e.databaseInfo.databaseId),n=function(e){return new Pd(e)}(e.databaseInfo);return function(e,t,n,r){return new Bd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Gd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Qh(this.syncEngine,e,0),_d.v()?new _d:new kd)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Vh(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ga(e);ca(Hd,"RemoteStore shutting down."),t.Ea.add(5),await qd(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}mf.provider={build:()=>new mf};class gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class yf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new va(ya.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=ga(e),r={documents:t.map(e=>su(n.serializer,e))},i=await n.Ho("BatchGetDocuments",n.serializer.databaseId,za.emptyPath(),r,t.length),a=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){ma(!!t.found,43571),t.found.name,t.found.updateTime;const n=lu(e,t.found.name),r=ru(t.found.updateTime),i=t.found.createTime?ru(t.found.createTime):eo.min(),a=new Us({mapValue:{fields:t.found.fields}});return Vs.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ma(!!t.missing,3894),ma(!!t.readTime,22933);const n=lu(e,t.missing),r=ru(t.readTime);return Vs.newNoDocument(n,r)}(e,t):fa(7234,{result:t})}(n.serializer,e);a.set(t.key.toString(),t)});const o=[];return t.forEach(e=>{const t=a.get(e.toString());ma(!!t,55234,{key:e}),o.push(t)}),o}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Ba.fromPath(t);this.mutations.push(new _c(n,this.precondition(n)))}),await async function(e,t){const n=ga(e),r={writes:t.map(e=>pu(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,za.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fa(50498,{Gu:e.constructor.name});t=eo.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new va(ya.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(eo.min())?uc.exists(!1):uc.updateTime(t):uc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eo.min()))throw new va(ya.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return uc.updateTime(t)}return uc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vf{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new Dd(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new yf(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!go(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===(null===e||void 0===e?void 0:e.name)){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ic(t)}return!1}}const bf="FirestoreClient";class wf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=aa.UNAUTHENTICATED,this.clientId=ja.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{ca(bf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ca(bf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function xf(e,t){e.asyncQueue.verifyOperationInProgress(),ca(bf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await hd(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function kf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Sf(e);ca(bf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>gh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>gh(t.remoteStore,n)),e._onlineComponents=t}async function Sf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ca(bf,"Using user provided OfflineComponentProvider");try{await xf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ya.FAILED_PRECONDITION||e.code===ya.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await xf(e,new ff)}}else ca(bf,"Using default OfflineComponentProvider"),await xf(e,new pf(void 0));return e._offlineComponents}async function _f(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ca(bf,"Using user provided OnlineComponentProvider"),await kf(e,e._uninitializedComponentsProvider._online)):(ca(bf,"Using default OnlineComponentProvider"),await kf(e,new mf))),e._onlineComponents}function Af(e){return _f(e).then(e=>e.syncEngine)}function Ef(e){return _f(e).then(e=>e.datastore)}async function Nf(e){const t=await _f(e),n=t.eventManager;return n.onListen=Hh.bind(null,t.syncEngine),n.onUnlisten=Yh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Xh.bind(null,t.syncEngine),n}function Cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ba;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new gf({next:s=>{a.Nu(),t.enqueueAndForget(()=>jh(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new va(ya.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new va(ya.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Dh(vl(n.path),a,{includeMetadataChanges:!0,qa:!0});return Ch(e,o)}(await Nf(e),e.asyncQueue,t,n,r)),r.promise}function jf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ba;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new gf({next:n=>{a.Nu(),t.enqueueAndForget(()=>jh(e,o)),n.fromCache&&"server"===r.source?i.reject(new va(ya.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Dh(n,a,{includeMetadataChanges:!0,qa:!0});return Ch(e,o)}(await Nf(e),e.asyncQueue,t,n,r)),r.promise}function Tf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const If=new Map,Pf="firestore.googleapis.com",Of=!0;class Mf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new va(ya.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pf,this.ssl=Of}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Of;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Mu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<zu)throw new va(ya.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new va(ya.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new va(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new va(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new va(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new va(ya.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new va(ya.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xa;switch(e.type){case"firstParty":return new Aa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new va(ya.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=If.get(e);t&&(ca("ComponentProvider","Removing Datastore"),If.delete(e),t.terminate())}(this),Promise.resolve()}}function Rf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ya(e,Df);const i=k(t),a=e._getSettings(),o=u(u({},a),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);i&&(S("https://".concat(s)),E("Firestore",!0)),a.host!==Pf&&a.host!==s&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=u(u({},a),{},{host:s,ssl:i,emulatorOptions:r});if(!M(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=aa.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new va(ya.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new aa(i)}e._authCredentials=new ka(new wa(t,n))}}class Lf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lf(this.firestore,e,this._query)}}class zf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zf(this.firestore,e,this._key)}toJSON(){return{type:zf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Qa(t,zf._jsonSchema))return new zf(e,n||null,new Ba(za.fromString(t.referencePath)))}}zf._jsonSchemaVersion="firestore/documentReference/1.0",zf._jsonSchema={type:Ka("string",zf._jsonSchemaVersion),referencePath:Ka("string")};class Ff extends Lf{constructor(e,t,n){super(e,t,vl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zf(this.firestore,null,new Ba(e))}withConverter(e){return new Ff(this.firestore,e,this._path)}}function Uf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=B(e),Va("collection","path",t),e instanceof Df){const n=za.fromString(t,...r);return Ga(n),new Ff(e,null,n)}{if(!(e instanceof zf||e instanceof Ff))throw new va(ya.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(za.fromString(t,...r));return Ga(n),new Ff(e.firestore,null,n)}}function Bf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=B(e),1===arguments.length&&(t=ja.newId()),Va("doc","path",t),e instanceof Df){const n=za.fromString(t,...r);return Ha(n),new zf(e,null,new Ba(n))}{if(!(e instanceof zf||e instanceof Ff))throw new va(ya.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(za.fromString(t,...r));return Ha(n),new zf(e.firestore,e instanceof Ff?e.converter:null,new Ba(n))}}const Vf="AsyncQueue";class Hf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dd(this,"async_queue_retry"),this._c=()=>{const e=Od();e&&ca(Vf,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Od();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Od();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ba;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;ca(Vf,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ua("INTERNAL UNHANDLED ERROR: ",Gf(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=wh.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&fa(47125,{Pc:Gf(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Gf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Wf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class qf extends Df{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hf,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hf(e),this._firestoreClient=void 0,await e}}}function Yf(e){if(e._terminated)throw new va(ya.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Xf(e),e._firestoreClient}function Xf(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new ps(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Tf(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new wf(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Kf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kf(ns.fromBase64String(e))}catch(e){throw new va(ya.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Kf(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qa(e,Kf._jsonSchema))return Kf.fromBase64String(e.bytes)}}Kf._jsonSchemaVersion="firestore/bytes/1.0",Kf._jsonSchema={type:Ka("string",Kf._jsonSchemaVersion),bytes:Ka("string")};class Qf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new va(ya.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ua(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zf{constructor(e){this._methodName=e}}class Jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new va(ya.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new va(ya.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ta(this._lat,e._lat)||Ta(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jf._jsonSchemaVersion}}static fromJSON(e){if(Qa(e,Jf._jsonSchema))return new Jf(e.latitude,e.longitude)}}Jf._jsonSchemaVersion="firestore/geoPoint/1.0",Jf._jsonSchema={type:Ka("string",Jf._jsonSchemaVersion),latitude:Ka("number"),longitude:Ka("number")};class $f{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$f._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qa(e,$f._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new $f(e.vectorValues);throw new va(ya.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$f._jsonSchemaVersion="firestore/vectorValue/1.0",$f._jsonSchema={type:Ka("string",$f._jsonSchemaVersion),vectorValues:Ka("object")};const ep=/^__.*__$/;class tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new bc(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class np{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new bc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fa(40011,{Ac:e})}}class ip{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ip(u(u({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(rp(this.Ac)&&ep.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ap{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Md(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ip({Ac:e,methodName:t,Dc:n,path:Ua.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(e){const t=e._freezeSettings(),n=Md(e._databaseId);return new ap(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sp(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);yp("Data must be an object, but it was:",o,r);const s=mp(r,o);let l,c;if(a.merge)l=new es(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=vp(t,r,n);if(!o.contains(i))throw new va(ya.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));kp(e,i)||e.push(i)}l=new es(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new tp(new Us(s),l,c)}class lp extends Zf{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}class cp extends Zf{_toFieldTransform(e){return new lc(e.path,new ec)}isEqual(e){return e instanceof cp}}class up extends Zf{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new ac(e.serializer,Kl(e.serializer,this.Fc));return new lc(e.path,t)}isEqual(e){return e instanceof up&&this.Fc===e.Fc}}function dp(e,t,n,r){const i=e.Cc(1,t,n);yp("Data must be an object, but it was:",i,r);const a=[],o=Us.empty();Yo(r,(e,r)=>{const s=wp(t,e,n);r=B(r);const l=i.yc(s);if(r instanceof lp)a.push(s);else{const e=pp(r,l);null!=e&&(a.push(s),o.set(s,e))}});const s=new es(a);return new np(o,s,i.fieldTransforms)}function hp(e,t,n,r,i,a){const o=e.Cc(1,t,n),s=[vp(t,r,n)],l=[i];if(a.length%2!=0)throw new va(ya.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)s.push(vp(t,a[h])),l.push(a[h+1]);const c=[],u=Us.empty();for(let h=s.length-1;h>=0;--h)if(!kp(c,s[h])){const e=s[h];let t=l[h];t=B(t);const n=o.yc(e);if(t instanceof lp)c.push(e);else{const r=pp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new es(c);return new np(u,d,o.fieldTransforms)}function fp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pp(n,e.Cc(r?4:3,t))}function pp(e,t){if(gp(e=B(e)))return yp("Unsupported field value:",t,e),mp(e,t);if(e instanceof Zf)return function(e,t){if(!rp(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pp(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=B(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$a.fromDate(e);return{timestampValue:eu(t.serializer,n)}}if(e instanceof $a){const n=new $a(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eu(t.serializer,n)}}if(e instanceof Jf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kf)return{bytesValue:tu(t.serializer,e._byteString)};if(e instanceof zf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:iu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof $f)return function(e,t){return{mapValue:{fields:{[ys]:{stringValue:ws},[xs]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Yl(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(qa(e)))}(e,t)}function mp(e,t){const n={};return Xo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yo(e,(e,r)=>{const i=pp(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function gp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $a||e instanceof Jf||e instanceof Kf||e instanceof zf||e instanceof Zf||e instanceof $f)}function yp(e,t,n){if(!gp(n)||!Wa(n)){const r=qa(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function vp(e,t,n){if((t=B(t))instanceof Qf)return t._internalPath;if("string"==typeof t)return wp(e,t);throw xp("Field path arguments must be of type string or ",e,!1,void 0,n)}const bp=new RegExp("[~\\*/\\[\\]]");function wp(e,t,n){if(t.search(bp)>=0)throw xp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Qf(...t.split("."))._internalPath}catch(nm){throw xp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function xp(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new va(ya.INVALID_ARGUMENT,s+e+l)}function kp(e,t){return e.some(e=>e.isEqual(t))}class Sp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _p(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ap("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _p extends Sp{data(){return super.data()}}function Ap(e,t){return"string"==typeof t?wp(e,t):t instanceof Qf?t._internalPath:t._delegate._internalPath}function Ep(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new va(ya.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class Cp extends Np{}function jp(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Np&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Pp).length,n=e.filter(e=>e instanceof Tp).length;if(t>1||t>0&&n>0)throw new va(ya.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Tp extends Cp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Tp(e,t,n)}_apply(e){const t=this._parse(e);return Lp(e._query,t),new Lf(e.firestore,e.converter,_l(e._query,t))}_parse(e){const t=op(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new va(ya.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Rp(o,a);const t=[];for(const n of o)t.push(Dp(r,e,n));s={arrayValue:{values:t}}}else s=Dp(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Rp(o,a),s=fp(n,t,o,"in"===a||"not-in"===a);return Ks.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ip(e,t,n){const r=t,i=Ap("where",e);return Tp._create(i,r,n)}class Pp extends Np{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pp(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Qs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Lp(n,i),n=_l(n,i)}(e._query,t),new Lf(e.firestore,e.converter,_l(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Op extends Cp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Op(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new va(ya.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new va(ya.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qs(t,n)}(e._query,this._field,this._direction);return new Lf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Mp extends Cp{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Mp(e,t,n)}_apply(e){return new Lf(e.firestore,e.converter,Al(e._query,this._limit,this._limitType))}}function Dp(e,t,n){if("string"==typeof(n=B(n))){if(""===n)throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wl(t)&&-1!==n.indexOf("/"))throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(za.fromString(n));if(!Ba.isDocumentKey(r))throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Is(e,new Ba(r))}if(n instanceof zf)return Is(e,n._key);throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qa(n),"."))}function Rp(e,t){if(!Array.isArray(e)||0===e.length)throw new va(ya.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Lp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new va(ya.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new va(ya.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class zp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return as(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fa(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Yo(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[xs].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>as(e.doubleValue));return new $f(n)}convertGeoPoint(e){return new Jf(as(e.latitude),as(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fs(e));default:return null}}convertTimestamp(e){const t=is(e);return new $a(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=za.fromString(e);ma(Eu(n),9688,{name:e});const r=new gs(n.get(1),n.get(3)),i=new Ba(n.popFirst(5));return r.isEqual(t)||ua("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Fp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Up extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zf(this.firestore,null,t)}}class Bp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vp extends Sp{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ap("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new va(ya.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vp._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Vp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vp._jsonSchema={type:Ka("string",Vp._jsonSchemaVersion),bundleSource:Ka("string","DocumentSnapshot"),bundleName:Ka("string"),bundle:Ka("string")};class Hp extends Vp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Gp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Bp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Hp(this._firestore,this._userDataWriter,n.key,n,new Bp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new va(ya.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Hp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Bp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Hp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Wp(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new va(ya.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ja.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fa(61501,{type:e})}}Gp._jsonSchemaVersion="firestore/querySnapshot/1.0",Gp._jsonSchema={type:Ka("string",Gp._jsonSchemaVersion),bundleSource:Ka("string","QuerySnapshot"),bundleName:Ka("string"),bundle:Ka("string")};class qp extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zf(this.firestore,null,t)}}function Yp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=B(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||Wf(n[a])||(i=n[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Wf(n[a])){var s,l,c;const e=n[a];n[a]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof zf)d=Ya(e.firestore,qf),h=vl(e._key.path),u={next:t=>{n[a]&&n[a](Kp(d,e,t))},error:n[a+1],complete:n[a+2]};else{const t=Ya(e,Lf);d=Ya(t.firestore,qf),h=t._query;const r=new qp(d);u={next:e=>{n[a]&&n[a](new Gp(d,r,t,e))},error:n[a+1],complete:n[a+2]},Ep(e._query)}return function(e,t,n,r){const i=new gf(r),a=new Dh(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Ch(await Nf(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>jh(await Nf(e),a))}}(Yf(d),h,o,u)}function Xp(e,t){return function(e,t){const n=new ba;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=hf(e);try{const e=await function(e,t){const n=ga(e),r=$a.now(),i=t.reduce((e,t)=>e.add(t.key),Gl());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Dl(),l=Gl();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=gc(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new bc(e.key,t,Bs(t.value.mapValue),uc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:zl(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ko(Ta)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await lf(r,e.changes),await sh(r.remoteStore)}catch(e){const t=xh(e,"Failed to persist write");n.reject(t)}}(await Af(e),t,n)),n.promise}(Yf(e),t)}function Kp(e,t,n){const r=n.docs.get(t._key),i=new qp(e);return new Vp(e,i,t._key,r,new Bp(n.hasPendingWrites,n.fromCache),t.converter)}const Qp={maxAttempts:5};function Zp(e,t){if((e=B(e)).firestore!==t)throw new va(ya.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Jp{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=op(e)}get(e){const t=Zp(e,this._firestore),n=new Up(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return fa(24041);const r=e[0];if(r.isFoundDocument())return new Sp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Sp(this._firestore,n,t._key,null,t.converter);throw fa(18433,{doc:r})})}set(e,t,n){const r=Zp(e,this._firestore),i=Fp(r.converter,t,n),a=sp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}update(e,t,n){const r=Zp(e,this._firestore);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return i="string"==typeof(t=B(t))||t instanceof Qf?hp(this._dataReader,"Transaction.update",r._key,t,n,o):dp(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Zp(e,this._firestore);return this._transaction.delete(t._key),this}}class $p extends Jp{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zp(e,this._firestore),n=new qp(this._firestore);return super.get(e).then(e=>new Vp(this._firestore,n,t._key,e._document,new Bp(!1,!1),t.converter))}}function em(){return new cp("serverTimestamp")}function tm(e){return new up("increment",e)}new WeakMap;function nm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rm(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nm(e))&&(r&&(r+=" "),r+=t);return r}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){oa=e}(nt),Ze(new V("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new qf(new Sa(e.getProvider("auth-internal")),new Na(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new va(ya.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gs(e.options.projectId,t)}(a,r),a);return i=u({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),at(ra,ia,e),at(ra,ia,"esm2020")}();var im=n(7820),am=n.n(im),om=n(7770),sm=n.n(om),lm=e=>0===e?0:e>0?1:-1,cm=e=>"number"==typeof e&&e!=+e,um=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,dm=e=>("number"===typeof e||e instanceof Number)&&!cm(e),hm=e=>dm(e)||"string"===typeof e,fm=0,pm=e=>{var t=++fm;return"".concat(e||"").concat(t)},mm=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!dm(e)&&"string"!==typeof e)return r;if(um(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return cm(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},gm=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function ym(e,t,n){return dm(e)&&dm(t)?e+n*(t-e):t}function vm(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):sm()(e,t))===n)}var bm=e=>null===e||"undefined"===typeof e,wm=e=>bm(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),xm=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?km(Object(n),!0).forEach(function(t){_m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Am=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:i={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[v,b]=(0,t.useState)({containerWidth:i.width,containerHeight:i.height}),w=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;w(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};d>0&&(e=am()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return w(n,r),t.observe(g.current),()=>{t.disconnect()}},[w,d]);var x=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=v;if(e<0||n<0)return null;xm(um(a)||um(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,o),xm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=um(a)?e:a,d=um(o)?n:o;return r&&r>0&&(i?d=i/r:d&&(i=d*r),c&&d>c&&(d=c)),xm(i>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,d,a,o,s,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:i,height:d,style:Sm({width:i,height:d},e.props.style)}))},[r,u,o,c,l,s,v,a]);return t.createElement("div",{id:h?"".concat(h):void 0,className:rm("recharts-responsive-container",f),style:Sm(Sm({},m),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},x))});function Em(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Nm=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Cm=()=>Math.random().toString(36).substring(7).split("").join("."),jm={INIT:"@@redux/INIT".concat(Cm()),REPLACE:"@@redux/REPLACE".concat(Cm()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Cm())};function Tm(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Im(e,t,n){if("function"!==typeof e)throw new Error(Em(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Em(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Em(1));return n(Im)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(Em(3));return i}function d(e){if("function"!==typeof e)throw new Error(Em(4));if(l)throw new Error(Em(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(Em(6));t=!1,c(),o.delete(n),a=null}}}function h(e){if(!Tm(e))throw new Error(Em(7));if("undefined"===typeof e.type)throw new Error(Em(8));if("string"!==typeof e.type)throw new Error(Em(17));if(l)throw new Error(Em(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}h({type:jm.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Em(10));r=e,h({type:jm.REPLACE})},[Nm]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Em(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Nm](){return this}}}}}function Pm(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:jm.INIT}))throw new Error(Em(12));if("undefined"===typeof n(void 0,{type:jm.PROBE_UNKNOWN_ACTION()}))throw new Error(Em(13))})}(n)}catch(a){i=a}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Em(14))}o[s]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?o:e}}function Om(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Mm(e){return Tm(e)&&"type"in e&&"string"===typeof e.type}function Dm(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Rm=Dm(),Lm=Dm,zm=Symbol.for("immer-nothing"),Fm=Symbol.for("immer-draftable"),Um=Symbol.for("immer-state");function Bm(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Vm=Object.getPrototypeOf;function Hm(e){return!!e&&!!e[Um]}function Gm(e){var t;return!!e&&(qm(e)||Array.isArray(e)||!!e[Fm]||!(null===(t=e.constructor)||void 0===t||!t[Fm])||Zm(e)||Jm(e))}var Wm=Object.prototype.constructor.toString();function qm(e){if(!e||"object"!==typeof e)return!1;const t=Vm(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Wm}function Ym(e,t){0===Xm(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Xm(e){const t=e[Um];return t?t.type_:Array.isArray(e)?1:Zm(e)?2:Jm(e)?3:0}function Km(e,t){return 2===Xm(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Qm(e,t,n){const r=Xm(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Zm(e){return e instanceof Map}function Jm(e){return e instanceof Set}function $m(e){return e.copy_||e.base_}function eg(e,t){if(Zm(e))return new Map(e);if(Jm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=qm(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Um];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Vm(e),t)}{const t=Vm(e);if(null!==t&&n)return u({},e);const r=Object.create(t);return Object.assign(r,e)}}function tg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rg(e)||Hm(e)||!Gm(e)||(Xm(e)>1&&(e.set=e.add=e.clear=e.delete=ng),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return tg(n,!0)})),e}function ng(){Bm(2)}function rg(e){return Object.isFrozen(e)}var ig,ag={};function og(e){const t=ag[e];return t||Bm(0),t}function sg(){return ig}function lg(e,t){t&&(og("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cg(e){ug(e),e.drafts_.forEach(hg),e.drafts_=null}function ug(e){e===ig&&(ig=e.parent_)}function dg(e){return ig={drafts_:[],parent_:ig,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hg(e){const t=e[Um];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Um].modified_&&(cg(t),Bm(4)),Gm(e)&&(e=pg(t,e),t.parent_||gg(t,e)),t.patches_&&og("Patches").generateReplacementPatches_(n[Um].base_,e,t.patches_,t.inversePatches_)):e=pg(t,n,[]),cg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zm?e:void 0}function pg(e,t,n){if(rg(t))return t;const r=t[Um];if(!r)return Ym(t,(i,a)=>mg(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return gg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Ym(i,(i,o)=>mg(e,r,t,i,o,n,a)),gg(e,t,!1),n&&e.patches_&&og("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function mg(e,t,n,r,i,a,o){if(Hm(i)){const o=pg(e,i,a&&t&&3!==t.type_&&!Km(t.assigned_,r)?a.concat(r):void 0);if(Qm(n,r,o),!Hm(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Gm(i)&&!rg(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;pg(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||gg(e,i)}}function gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tg(t,n)}var yg={get(e,t){if(t===Um)return e;const n=$m(e);if(!Km(n,t))return function(e,t,n){var r;const i=wg(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Gm(r)?r:r===bg(e.base_,t)?(kg(e),e.copy_[t]=Sg(r,e)):r},has:(e,t)=>t in $m(e),ownKeys:e=>Reflect.ownKeys($m(e)),set(e,t,n){const r=wg($m(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=bg($m(e),t),i=null===r||void 0===r?void 0:r[Um];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Km(e.base_,t)))return!0;kg(e),xg(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==bg(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,kg(e),xg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=$m(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Bm(11)},getPrototypeOf:e=>Vm(e.base_),setPrototypeOf(){Bm(12)}},vg={};function bg(e,t){const n=e[Um];return(n?$m(n):e)[t]}function wg(e,t){if(!(t in e))return;let n=Vm(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Vm(n)}}function xg(e){e.modified_||(e.modified_=!0,e.parent_&&xg(e.parent_))}function kg(e){e.copy_||(e.copy_=eg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ym(yg,(e,t)=>{vg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),vg.deleteProperty=function(e,t){return vg.set.call(this,e,t,void 0)},vg.set=function(e,t,n){return yg.set.call(this,e[0],t,n,e[0])};function Sg(e,t){const n=Zm(e)?og("MapSet").proxyMap_(e,t):Jm(e)?og("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:sg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=yg;n&&(i=[r],a=vg);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:sg()).drafts_.push(n),n}function _g(e){return Hm(e)||Bm(10),Ag(e)}function Ag(e){if(!Gm(e)||rg(e))return e;const t=e[Um];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=eg(e,t.scope_.immer_.useStrictShallowCopy_)}else n=eg(e,!0);return Ym(n,(e,t)=>{Qm(n,e,Ag(t))}),t&&(t.finalized_=!1),n}var Eg=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Bm(6),void 0!==n&&"function"!==typeof n&&Bm(7),Gm(e)){const i=dg(this),a=Sg(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?cg(i):ug(i)}return lg(i,n),fg(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===zm&&(r=void 0),this.autoFreeze_&&tg(r,!0),n){const t=[],i=[];og("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Bm(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Gm(e)||Bm(8),Hm(e)&&(e=_g(e));const t=dg(this),n=Sg(e,void 0);return n[Um].isManual_=!0,ug(t),n}finishDraft(e,t){const n=e&&e[Um];n&&n.isManual_||Bm(9);const{scope_:r}=n;return lg(r,t),fg(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=og("Patches").applyPatches_;return Hm(e)?r(e,t):this.produce(e,e=>r(e,t))}},Ng=Eg.produce;Eg.produceWithPatches.bind(Eg),Eg.setAutoFreeze.bind(Eg),Eg.setUseStrictShallowCopy.bind(Eg),Eg.applyPatches.bind(Eg),Eg.createDraft.bind(Eg),Eg.finishDraft.bind(Eg);const Cg=["reducerPath"];var jg="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Om:Om.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Tg(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(_y(0));return u(u({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>Mm(t)&&t.type===e,n}var Ig=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Pg(e){return Gm(e)?Ng(e,()=>{}):e}function Og(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Mg="RTK_autoBatch",Dg=e=>t=>{setTimeout(t,e)},Rg=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Ig(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Dg(10):"callback"===e.type?e.queueNotification:Dg(e.timeout),l=()=>{a=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Mg]),i=!r,i&&(a||(a=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Lg(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new Ig;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(Rm):a.push(Lm(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!Tm(n))throw new Error(_y(1));l=Pm(n)}c="function"===typeof r?r(t):t();let d=Om;i&&(d=jg(u({trace:!1},"object"===typeof i&&i)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Em(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},s=t.map(e=>e(o));return a=Om(...s)(i.dispatch),u(u({},i),{},{dispatch:a})}}(...c),f=Rg(h);return Im(l,o,d(..."function"===typeof s?s(f):f()))}function zg(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(_y(28));if(r in t)throw new Error(_y(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Fg=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Ug=Symbol.for("rtk-slice-createasyncthunk");function Bg(e,t){return"".concat(e,"/").concat(t)}function Vg(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Ug];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(_y(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return u({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(_y(12));if(n in s.sliceCaseReducersByType)throw new Error(_y(13));return s.sliceCaseReducersByType[n]=t,l},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(s.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},n=[],r]="function"===typeof e.extraReducers?zg(e.extraReducers):[e.extraReducers],i=u(u({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=zg(t);if(function(e){return"function"===typeof e}(e))n=()=>Pg(e());else{const t=Pg(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,n)=>{if(n){if(Hm(e)){const r=n(e,t);return void 0===r?e:r}if(Gm(e))return Ng(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const a=i[r],o={reducerName:r,type:Bg(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(_y(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(o,r).exposeAction(o,i?Tg(a,i):Tg(a))}(o,a,l):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(_y(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,o,d);n.exposeAction(a,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(a,{fulfilled:s||Wg,pending:l||Wg,rejected:c||Wg,settled:u||Wg})}(o,a,l,n)});const d=e=>e,h=new Map,f=new WeakMap;let p;function m(e,t){return p||(p=c()),p(e,t)}function g(){return p||(p=c()),p.getInitialState()}function y(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=Og(f,r,g)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const r=Og(h,n,()=>new WeakMap);return Og(r,t,()=>{const r={};for(const[a,o]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[a]=Hg(o,t,()=>Og(f,t,g),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const v=u(u({name:t,reducer:m,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:g},y(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=a(t,Cg);const o=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:o,reducer:m},i),u(u({},v),y(o,!0))}});return v}}function Hg(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(a,...s)}return i.unwrapped=e,i}var Gg=Vg();function Wg(){}var qg="listener",Yg="completed",Xg="cancelled",Kg="task-".concat(Xg),Qg="task-".concat(Yg),Zg="".concat(qg,"-").concat(Xg),Jg="".concat(qg,"-").concat(Yg),$g=class{constructor(e){l(this,"name","TaskAbortError"),l(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Xg," (reason: ").concat(e,")")}},ey=(e,t)=>{if("function"!==typeof e)throw new TypeError(_y(32))},ty=()=>{},ny=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ty;return e.catch(t),e},ry=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),iy=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ay=e=>{if(e.aborted){const{reason:t}=e;throw new $g(t)}};function oy(e,t){let n=ty;return new Promise((r,i)=>{const a=()=>i(new $g(e.reason));e.aborted?a():(n=ry(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=ty})}var sy=e=>t=>ny(oy(e,t).then(t=>(ay(e),t))),ly=e=>{const t=sy(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:cy}=Object,uy={},dy="listenerMiddleware",hy=(e,t)=>(n,r)=>{ey(n);const i=new AbortController;var a;a=i,ry(e,()=>iy(a,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof $g?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{ay(e),ay(i.signal);const t=await n({pause:sy(i.signal),delay:ly(i.signal),signal:i.signal});return ay(i.signal),t},()=>iy(i,Qg));return null!==r&&void 0!==r&&r.autoJoin&&t.push(o.catch(ty)),{result:sy(e)(o),cancel(){iy(i,Kg)}}},fy=(e,t)=>(n,r)=>ny((async(n,r)=>{ay(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await oy(t,Promise.race(a));return ay(t),e}finally{i()}})(n,r)),py=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Tg(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_y(21));return ey(a),{predicate:i,type:t,effect:a}},my=cy(e=>{const{type:t,predicate:n,effect:r}=py(e);return{id:Fg(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_y(22))}}},{withTypes:()=>my}),gy=(e,t)=>{const{type:n,effect:r,predicate:i}=py(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},yy=e=>{e.pending.forEach(e=>{iy(e,Zg)})},vy=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},by=cy(Tg("".concat(dy,"/add")),{withTypes:()=>by}),wy=Tg("".concat(dy,"/removeAll")),xy=cy(Tg("".concat(dy,"/remove")),{withTypes:()=>xy}),ky=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(dy,"/error"),...t)},Sy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=ky}=e;ey(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&yy(e)}))(null!==(n=gy(t,e))&&void 0!==n?n:my(e))};cy(i,{withTypes:()=>i});const a=e=>{const n=gy(t,e);return n&&(n.unsubscribe(),e.cancelActive&&yy(n)),!!n};cy(a,{withTypes:()=>a});const o=async(e,a,o,s)=>{const l=new AbortController,c=fy(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,cy({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:ly(l.signal),pause:sy(l.signal),extra:n,signal:l.signal,fork:hy(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(iy(e,Zg),n.delete(e))})},cancel:()=>{iy(l,Zg),e.pending.delete(l)},throwIfCancelled:()=>{ay(l.signal)}})))}catch(d){d instanceof $g||vy(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),iy(l,Jg),e.pending.delete(l)}},s=(e=>()=>{e.forEach(yy),e.clear()})(t);return{middleware:e=>n=>l=>{if(!Mm(l))return n(l);if(by.match(l))return i(l.payload);if(wy.match(l))return void s();if(xy.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===uy)throw new Error(_y(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,vy(r,h,{raisedBy:"predicate"})}i&&o(t,l,e,u)}}}finally{c=uy}return d},startListening:i,stopListening:a,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function _y(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Ay(e,t){if(t){var n=Number.parseInt(t,10);if(!cm(n))return null===e||void 0===e?void 0:e[n]}}var Ey=Gg({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ny=Ey.reducer,{createEventEmitter:Cy}=Ey.actions;n(7237);function jy(e){e()}var Ty={notify(){},get:()=>[]};function Iy(e,t){let n,r=Ty,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jy(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=Ty)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var Py=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Oy=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),My=(()=>Py||Oy?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Dy=Symbol.for("react-redux-context"),Ry="undefined"!==typeof globalThis?globalThis:{};function Ly(){var e;if(!t.createContext)return{};const n=null!==(e=Ry[Dy])&&void 0!==e?e:Ry[Dy]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var zy=Ly();var Fy=function(e){const{children:n,context:r,serverState:i,store:a}=e,o=t.useMemo(()=>{const e=Iy(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}},[a,i]),s=t.useMemo(()=>a.getState(),[a]);My(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=r||zy;return t.createElement(l.Provider,{value:o},n)};var Uy=Symbol.for("immer-nothing"),By=Symbol.for("immer-draftable"),Vy=Symbol.for("immer-state");function Hy(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Gy=Object.getPrototypeOf;function Wy(e){return!!e&&!!e[Vy]}function qy(e){var t;return!!e&&(Xy(e)||Array.isArray(e)||!!e[By]||!(null===(t=e.constructor)||void 0===t||!t[By])||$y(e)||ev(e))}var Yy=Object.prototype.constructor.toString();function Xy(e){if(!e||"object"!==typeof e)return!1;const t=Gy(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Yy}function Ky(e,t){0===Qy(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Qy(e){const t=e[Vy];return t?t.type_:Array.isArray(e)?1:$y(e)?2:ev(e)?3:0}function Zy(e,t){return 2===Qy(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jy(e,t,n){const r=Qy(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function $y(e){return e instanceof Map}function ev(e){return e instanceof Set}function tv(e){return e.copy_||e.base_}function nv(e,t){if($y(e))return new Map(e);if(ev(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Xy(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Vy];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Gy(e),t)}{const t=Gy(e);if(null!==t&&n)return u({},e);const r=Object.create(t);return Object.assign(r,e)}}function rv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return av(e)||Wy(e)||!qy(e)||(Qy(e)>1&&(e.set=e.add=e.clear=e.delete=iv),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return rv(n,!0)})),e}function iv(){Hy(2)}function av(e){return Object.isFrozen(e)}var ov,sv={};function lv(e){const t=sv[e];return t||Hy(0),t}function cv(){return ov}function uv(e,t){t&&(lv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dv(e){hv(e),e.drafts_.forEach(pv),e.drafts_=null}function hv(e){e===ov&&(ov=e.parent_)}function fv(e){return ov={drafts_:[],parent_:ov,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pv(e){const t=e[Vy];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function mv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Vy].modified_&&(dv(t),Hy(4)),qy(e)&&(e=gv(t,e),t.parent_||vv(t,e)),t.patches_&&lv("Patches").generateReplacementPatches_(n[Vy].base_,e,t.patches_,t.inversePatches_)):e=gv(t,n,[]),dv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Uy?e:void 0}function gv(e,t,n){if(av(t))return t;const r=t[Vy];if(!r)return Ky(t,(i,a)=>yv(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return vv(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Ky(i,(i,o)=>yv(e,r,t,i,o,n,a)),vv(e,t,!1),n&&e.patches_&&lv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function yv(e,t,n,r,i,a,o){if(Wy(i)){const o=gv(e,i,a&&t&&3!==t.type_&&!Zy(t.assigned_,r)?a.concat(r):void 0);if(Jy(n,r,o),!Wy(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(qy(i)&&!av(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;gv(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||vv(e,i)}}function vv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rv(t,n)}var bv={get(e,t){if(t===Vy)return e;const n=tv(e);if(!Zy(n,t))return function(e,t,n){var r;const i=kv(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!qy(r)?r:r===xv(e.base_,t)?(_v(e),e.copy_[t]=Av(r,e)):r},has:(e,t)=>t in tv(e),ownKeys:e=>Reflect.ownKeys(tv(e)),set(e,t,n){const r=kv(tv(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=xv(tv(e),t),i=null===r||void 0===r?void 0:r[Vy];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Zy(e.base_,t)))return!0;_v(e),Sv(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==xv(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,_v(e),Sv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=tv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Hy(11)},getPrototypeOf:e=>Gy(e.base_),setPrototypeOf(){Hy(12)}},wv={};function xv(e,t){const n=e[Vy];return(n?tv(n):e)[t]}function kv(e,t){if(!(t in e))return;let n=Gy(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Gy(n)}}function Sv(e){e.modified_||(e.modified_=!0,e.parent_&&Sv(e.parent_))}function _v(e){e.copy_||(e.copy_=nv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ky(bv,(e,t)=>{wv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wv.deleteProperty=function(e,t){return wv.set.call(this,e,t,void 0)},wv.set=function(e,t,n){return bv.set.call(this,e[0],t,n,e[0])};function Av(e,t){const n=$y(e)?lv("MapSet").proxyMap_(e,t):ev(e)?lv("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:cv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=bv;n&&(i=[r],a=wv);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:cv()).drafts_.push(n),n}function Ev(e){if(!qy(e)||av(e))return e;const t=e[Vy];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=nv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=nv(e,!0);return Ky(n,(e,t)=>{Jy(n,e,Ev(t))}),t&&(t.finalized_=!1),n}var Nv=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Hy(6),void 0!==n&&"function"!==typeof n&&Hy(7),qy(e)){const i=fv(this),a=Av(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?dv(i):hv(i)}return uv(i,n),mv(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Uy&&(r=void 0),this.autoFreeze_&&rv(r,!0),n){const t=[],i=[];lv("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Hy(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qy(e)||Hy(8),Wy(e)&&(e=function(e){Wy(e)||Hy(10);return Ev(e)}(e));const t=fv(this),n=Av(e,void 0);return n[Vy].isManual_=!0,hv(t),n}finishDraft(e,t){const n=e&&e[Vy];n&&n.isManual_||Hy(9);const{scope_:r}=n;return uv(r,t),mv(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=lv("Patches").applyPatches_;return Wy(e)?r(e,t):this.produce(e,e=>r(e,t))}};Nv.produce,Nv.produceWithPatches.bind(Nv),Nv.setAutoFreeze.bind(Nv),Nv.setUseStrictShallowCopy.bind(Nv),Nv.applyPatches.bind(Nv),Nv.createDraft.bind(Nv),Nv.finishDraft.bind(Nv);var Cv={active:!1,index:null,dataKey:void 0,coordinate:void 0},jv=Gg({name:"tooltip",initialState:{itemInteraction:{click:Cv,hover:Cv},axisInteraction:{click:Cv,hover:Cv},keyboardInteraction:Cv,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=_g(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Tv,removeTooltipEntrySettings:Iv,setTooltipSettingsState:Pv,setActiveMouseOverItemIndex:Ov,mouseLeaveItem:Mv,mouseLeaveChart:Dv,setActiveClickItemIndex:Rv,setMouseOverAxisIndex:Lv,setMouseClickAxisIndex:zv,setSyncInteraction:Fv,setKeyboardInteraction:Uv}=jv.actions,Bv=jv.reducer,Vv=Gg({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Hv,setDataStartEndIndexes:Gv,setComputedData:Wv}=Vv.actions,qv=Vv.reducer,Yv=Gg({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Xv,setLayout:Kv,setChartSize:Qv,setScale:Zv}=Yv.actions,Jv=Yv.reducer;function $v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var eb=e=>Array.isArray(e)?e:[e];function tb(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var nb="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function rb(){return{s:0,v:void 0,o:null,p:null}}function ib(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=rb(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=rb(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new nb(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function ab(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),$v(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=u(u({},i),s),{memoize:d,memoizeOptions:h=[],argsMemoize:f=ib,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=eb(h),y=eb(p),v=tb(t),b=d(function(){return a++,l.apply(null,arguments)},...g);const w=f(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=b.apply(null,e),r},...y);return Object.assign(w,{resultFunc:l,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var ob=ab(ib),sb=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ob;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>sb}),lb=n(8443),cb=(0,t.createContext)(null),ub=e=>e,db=()=>{var e=(0,t.useContext)(cb);return e?e.store.dispatch:ub},hb=()=>{},fb=()=>hb,pb=(e,t)=>e===t;function mb(e){var n=(0,t.useContext)(cb);return(0,lb.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:fb,n?n.store.getState:hb,n?n.store.getState:hb,n?e:hb,pb)}var gb=n(3821),yb=n.n(gb),vb=e=>e.legend.settings,bb=ob([e=>e.legend.payload,vb],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?yb()(r,n):r});function wb(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function xb(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function kb(e){return function(){return e}}function Sb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _b(e,t){return e[t]}function Ab(e){const t=[];return t.key=e,t}function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(n),!0).forEach(function(t){Cb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jb=Math.PI/180,Tb=e=>180*e/Math.PI,Ib=(e,t,n,r)=>({x:e+Math.cos(-jb*r)*n,y:t+Math.sin(-jb*r)*n}),Pb=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:Tb(l),angleInRadian:l}},Ob=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},Mb=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Pb({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Nb(Nb({},t),{},{radius:i,angle:Ob(d,t)}):null};function Db(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rb(Object(n),!0).forEach(function(t){zb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fb(e,t,n){return bm(e)||bm(t)?n:hm(t)?sm()(e,t,n):"function"===typeof t?t(e):n}var Ub=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Bb=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(n),o},Vb=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||n)&&"category"===i&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&a&&a.length>=2?2*lm(a[0]-a[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+m,value:e,offset:m,index:t}}).filter(e=>!cm(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:r?r[e]:e,index:t,offset:m}))},Hb=1e-4,Gb={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=cm(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}wb(e,t)}},none:wb,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}wb(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,wb(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=cm(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},Wb=(e,t,n)=>{var r=Gb[n],i=function(){var e=kb([]),t=Sb,n=wb,r=_b;function i(i){var a,o,s=Array.from(e.apply(this,arguments),Ab),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=xb(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:kb(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:kb(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Sb:"function"===typeof e?e:kb(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?wb:e,i):n},i}().keys(t).value((e,t)=>+Fb(e,t,0)).order(Sb).offset(r);return i(e)};function qb(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!bm(i[t.dataKey])){var s=vm(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Fb(i,bm(o)?t.dataKey:o);return bm(l)?null:t.scale(l)}var Yb=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(dm);return[Math.min(...t),Math.max(...t)]})(Db(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Xb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=yb()(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function Zb(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Lb(Lb({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Jb(e,t){return e?String(e):"string"===typeof t?t:void 0}var $b=e=>e.layout.width,ew=e=>e.layout.height,tw=e=>e.layout.scale,nw=e=>e.layout.margin,rw=ob(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),iw=ob(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ow(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aw(Object(n),!0).forEach(function(t){sw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lw=ob([$b,ew,nw,e=>e.brush.height,rw,iw,vb,e=>e.legend.size],(e,t,n,r,i,a,o,s)=>{var l=a.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return ow(ow({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:ow(ow({},e),{},{[n]:sm()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=ow(ow({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&dm(e[a]))return Lb(Lb({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&dm(e[o]))return Lb(Lb({},e),{},{[o]:e[o]+(i||0)})}return e})(u,o,s);var h=e-u.left-u.right,f=t-u.top-u.bottom;return ow(ow({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),cw=ob(lw,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uw=ob($b,ew,(e,t)=>({x:0,y:0,width:e,height:t})),dw=(0,t.createContext)(null),hw=()=>null!=(0,t.useContext)(dw),fw=e=>e.brush,pw=ob([fw,lw,nw],(e,t,n)=>({height:e.height,x:dm(e.x)?e.x:t.left,y:dm(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:dm(e.width)?e.width:t.width})),mw=()=>{var e,t=hw(),n=mb(cw),r=mb(pw),i=null===(e=mb(fw))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},gw={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yw=()=>{var e;return null!==(e=mb(lw))&&void 0!==e?e:gw},vw=()=>mb($b),bw=()=>mb(ew),ww={top:0,right:0,bottom:0,left:0},xw=e=>e.layout.layoutType,kw=()=>mb(xw),Sw=n(9859),_w=n.n(Sw);function Aw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ew(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Nw extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iw;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Cw(this,e))}has(e){return super.has(Cw(this,e))}set(e,t){return super.set(jw(this,e),t)}delete(e){return super.delete(Tw(this,e))}}Set;function Cw(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function jw(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Tw(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Iw(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Pw=Symbol("implicit");function Ow(){var e=new Nw,t=[],n=[],r=Pw;function i(i){let a=e.get(i);if(void 0===a){if(r!==Pw)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Nw;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Ow(t,n).unknown(r)},Aw.apply(i,arguments),i}function Mw(){var e,t,n=Ow().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Mw(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Aw.apply(d(),arguments)}function Dw(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Dw(t())},e}function Rw(){return Dw(Mw.apply(null,arguments).paddingInner(1))}const Lw=Math.sqrt(50),zw=Math.sqrt(10),Fw=Math.sqrt(2);function Uw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Lw?10:a>=zw?5:a>=Fw?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Uw(e,t,2*n):[s,l,c]}function Bw(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?Uw(t,e,n):Uw(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Vw(e,t,n){return Uw(e=+e,t=+t,n=+n)[2]}function Hw(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Vw(t,e,n):Vw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Gw(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ww(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qw(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Gw,n=(t,n)=>Gw(e(t),n),r=(t,n)=>e(t)-n):(t=e===Gw||e===Ww?e:Yw,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Yw(){return 0}function Xw(e){return null===e?NaN:+e}const Kw=qw(Gw),Qw=Kw.right,Zw=(Kw.left,qw(Xw).center,Qw);function Jw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $w(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ex(){}var tx=.7,nx=1/tx,rx="\\s*([+-]?\\d+)\\s*",ix="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ax="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ox=/^#([0-9a-f]{3,8})$/,sx=new RegExp("^rgb\\(".concat(rx,",").concat(rx,",").concat(rx,"\\)$")),lx=new RegExp("^rgb\\(".concat(ax,",").concat(ax,",").concat(ax,"\\)$")),cx=new RegExp("^rgba\\(".concat(rx,",").concat(rx,",").concat(rx,",").concat(ix,"\\)$")),ux=new RegExp("^rgba\\(".concat(ax,",").concat(ax,",").concat(ax,",").concat(ix,"\\)$")),dx=new RegExp("^hsl\\(".concat(ix,",").concat(ax,",").concat(ax,"\\)$")),hx=new RegExp("^hsla\\(".concat(ix,",").concat(ax,",").concat(ax,",").concat(ix,"\\)$")),fx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function px(){return this.rgb().formatHex()}function mx(){return this.rgb().formatRgb()}function gx(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ox.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?yx(t):3===n?new wx(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?vx(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?vx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=sx.exec(e))?new wx(t[1],t[2],t[3],1):(t=lx.exec(e))?new wx(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=cx.exec(e))?vx(t[1],t[2],t[3],t[4]):(t=ux.exec(e))?vx(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=dx.exec(e))?Ex(t[1],t[2]/100,t[3]/100,1):(t=hx.exec(e))?Ex(t[1],t[2]/100,t[3]/100,t[4]):fx.hasOwnProperty(e)?yx(fx[e]):"transparent"===e?new wx(NaN,NaN,NaN,0):null}function yx(e){return new wx(e>>16&255,e>>8&255,255&e,1)}function vx(e,t,n,r){return r<=0&&(e=t=n=NaN),new wx(e,t,n,r)}function bx(e,t,n,r){return 1===arguments.length?((i=e)instanceof ex||(i=gx(i)),i?new wx((i=i.rgb()).r,i.g,i.b,i.opacity):new wx):new wx(e,t,n,null==r?1:r);var i}function wx(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function xx(){return"#".concat(Ax(this.r)).concat(Ax(this.g)).concat(Ax(this.b))}function kx(){const e=Sx(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(_x(this.r),", ").concat(_x(this.g),", ").concat(_x(this.b)).concat(1===e?")":", ".concat(e,")"))}function Sx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _x(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ax(e){return((e=_x(e))<16?"0":"")+e.toString(16)}function Ex(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cx(e,t,n,r)}function Nx(e){if(e instanceof Cx)return new Cx(e.h,e.s,e.l,e.opacity);if(e instanceof ex||(e=gx(e)),!e)return new Cx;if(e instanceof Cx)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Cx(o,s,l,e.opacity)}function Cx(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function jx(e){return(e=(e||0)%360)<0?e+360:e}function Tx(e){return Math.max(0,Math.min(1,e||0))}function Ix(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Px(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Jw(ex,gx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:px,formatHex:px,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Nx(this).formatHsl()},formatRgb:mx,toString:mx}),Jw(wx,bx,$w(ex,{brighter(e){return e=null==e?nx:Math.pow(nx,e),new wx(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?tx:Math.pow(tx,e),new wx(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wx(_x(this.r),_x(this.g),_x(this.b),Sx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xx,formatHex:xx,formatHex8:function(){return"#".concat(Ax(this.r)).concat(Ax(this.g)).concat(Ax(this.b)).concat(Ax(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:kx,toString:kx})),Jw(Cx,function(e,t,n,r){return 1===arguments.length?Nx(e):new Cx(e,t,n,null==r?1:r)},$w(ex,{brighter(e){return e=null==e?nx:Math.pow(nx,e),new Cx(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?tx:Math.pow(tx,e),new Cx(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wx(Ix(e>=240?e-240:e+120,i,r),Ix(e,i,r),Ix(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Cx(jx(this.h),Tx(this.s),Tx(this.l),Sx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sx(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(jx(this.h),", ").concat(100*Tx(this.s),"%, ").concat(100*Tx(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Ox=e=>()=>e;function Mx(e,t){return function(n){return e+n*t}}function Dx(e){return 1===(e=+e)?Rx:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ox(isNaN(t)?n:t)}}function Rx(e,t){var n=t-e;return n?Mx(e,n):Ox(isNaN(e)?t:e)}const Lx=function e(t){var n=Dx(t);function r(e,t){var r=n((e=bx(e)).r,(t=bx(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Rx(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function zx(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=bx(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}zx(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Px((n-r/t)*t,o,i,a,s)}}),zx(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Px((n-r/t)*t,i,a,o,s)}});function Fx(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Yx(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Ux(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Vx(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Yx(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Hx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gx=new RegExp(Hx.source,"g");function Wx(e,t){var n,r,i,a=Hx.lastIndex=Gx.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Hx.exec(e))&&(r=Gx.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Bx(n,r)})),a=Gx.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function qx(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Yx(e,t){var n,r=typeof t;return null==t||"boolean"===r?Ox(t):("number"===r?Bx:"string"===r?(n=gx(t))?(t=n,Lx):Wx:t instanceof gx?Lx:t instanceof Date?Ux:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?qx:Array.isArray(t)?Fx:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Vx:Bx)(e,t)}function Xx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Kx(e){return+e}var Qx=[0,1];function Zx(e){return e}function Jx(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function $x(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Jx(i,r),a=n(o,a)):(r=Jx(r,i),a=n(a,o)),function(e){return a(r(e))}}function ek(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Jx(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Zw(e,t,1,r)-1;return a[n](i[n](t))}}function tk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nk(){var e,t,n,r,i,a,o=Qx,s=Qx,l=Yx,c=Zx;function u(){var e=Math.min(o.length,s.length);return c!==Zx&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?ek:$x,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),Bx)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Kx),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Xx,u()},d.clamp=function(e){return arguments.length?(c=!!e||Zx,u()):c!==Zx},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function rk(){return nk()(Zx,Zx)}var ik,ak=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ok(e){if(!(t=ak.exec(e)))throw new Error("invalid format: "+e);var t;return new sk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function sk(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function lk(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ck(e){return(e=lk(Math.abs(e)))?e[1]:NaN}function uk(e,t){var n=lk(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ok.prototype=sk.prototype,sk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const dk={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uk(100*e,t),r:uk,s:function(e,t){var n=lk(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(ik=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+lk(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hk(e){return e}var fk,pk,mk,gk=Array.prototype.map,yk=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function vk(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?hk:(t=gk.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?hk:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(gk.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ok(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):dk[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?a:/[%p]/.test(v)?l:"",x=dk[v],k=/[defgprs%]/.test(v);function S(e){var i,a,l,h=b,S=w;if("c"===v)S=x(e)+S,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==d&&(_=!1),h=(_?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?yk[8+ik/3]:"")+S+(_&&"("===d?")":""),k)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var A=h.length+e.length+S.length,E=A<p?new Array(p-A+1).join(t):"";switch(m&&f&&(e=r(E+e,E.length?p-S.length:1/0),E=""),n){case"<":e=h+e+S+E;break;case"=":e=h+E+e+S;break;case"^":e=E.slice(0,A=E.length>>1)+h+e+S+E.slice(A);break;default:e=E+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=ok(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ck(t)/3))),i=Math.pow(10,-r),a=yk[8+r/3];return function(e){return n(i*e)+a}}}}function bk(e,t,n,r){var i,a=Hw(e,t,n);switch((r=ok(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ck(t)/3)))-ck(Math.abs(e)))}(a,o))||(r.precision=i),mk(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ck(t)-ck(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-ck(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return pk(r)}function wk(e){var t=e.domain;return e.ticks=function(e){var n=t();return Bw(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return bk(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=Vw(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function xk(){var e=rk();return e.copy=function(){return tk(e,xk())},Aw.apply(e,arguments),wk(e)}function kk(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Kx),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return kk(e).unknown(t)},e=arguments.length?Array.from(e,Kx):[0,1],wk(n)}function Sk(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function _k(e){return Math.log(e)}function Ak(e){return Math.exp(e)}function Ek(e){return-Math.log(-e)}function Nk(e){return-Math.exp(-e)}function Ck(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jk(e){return(t,n)=>-e(-t,n)}function Tk(e){const t=e(_k,Ak),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?Ck:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=jk(r),i=jk(i),e(Ek,Nk)):e(_k,Ak),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Bw(o,s,f))}else p=Bw(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=ok(n)).precision||(n.trim=!0),n=pk(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(Sk(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Ik(){const e=Tk(nk()).domain([1,10]);return e.copy=()=>tk(e,Ik()).base(e.base()),Aw.apply(e,arguments),e}function Pk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ok(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mk(e){var t=1,n=e(Pk(t),Ok(t));return n.constant=function(n){return arguments.length?e(Pk(t=+n),Ok(t)):t},wk(n)}function Dk(){var e=Mk(nk());return e.copy=function(){return tk(e,Dk()).constant(e.constant())},Aw.apply(e,arguments)}function Rk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lk(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zk(e){return e<0?-e*e:e*e}function Fk(e){var t=e(Zx,Zx),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Zx,Zx):.5===n?e(Lk,zk):e(Rk(n),Rk(1/n)):n},wk(t)}function Uk(){var e=Fk(nk());return e.copy=function(){return tk(e,Uk()).exponent(e.exponent())},Aw.apply(e,arguments),e}function Bk(){return Uk.apply(null,arguments).exponent(.5)}function Vk(e){return Math.sign(e)*e*e}function Hk(){var e,t=rk(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Vk(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Kx)).map(Vk)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Hk(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Aw.apply(i,arguments),wk(i)}function Gk(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Wk(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function qk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gw;if(e===Gw)return Yk;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Yk(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Xk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Yk:qk(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);Xk(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(Kk(e,n,t),i(e[r],a)>0&&Kk(e,n,r);o<s;){for(Kk(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?Kk(e,n,s):(++s,Kk(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Kk(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Qk(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Wk(e);if(t>=1)return Gk(e);var r,i=(r-1)*t,a=Math.floor(i),o=Gk(Xk(e,a).subarray(0,a+1));return o+(Wk(e.subarray(a+1))-o)*(i-a)}}function Zk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xw;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function Jk(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Zk(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[Zw(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Gw),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return Jk().domain(t).range(n).unknown(e)},Aw.apply(a,arguments)}function $k(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[Zw(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return $k().domain([t,n]).range(a).unknown(e)},Aw.apply(wk(o),arguments)}function eS(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Zw(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return eS().domain(t).range(n).unknown(e)},Aw.apply(i,arguments)}fk=vk({thousands:",",grouping:[3],currency:["$",""]}),pk=fk.format,mk=fk.formatPrefix;const tS=1e3,nS=6e4,rS=36e5,iS=864e5,aS=6048e5,oS=2592e6,sS=31536e6,lS=new Date,cS=new Date;function uS(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>uS(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(lS.setTime(+t),cS.setTime(+r),e(lS),e(cS),Math.floor(n(lS,cS))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const dS=uS(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dS.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?uS(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dS:null);dS.range;const hS=uS(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tS)},(e,t)=>(t-e)/tS,e=>e.getUTCSeconds()),fS=(hS.range,uS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tS)},(e,t)=>{e.setTime(+e+t*nS)},(e,t)=>(t-e)/nS,e=>e.getMinutes())),pS=(fS.range,uS(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nS)},(e,t)=>(t-e)/nS,e=>e.getUTCMinutes())),mS=(pS.range,uS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tS-e.getMinutes()*nS)},(e,t)=>{e.setTime(+e+t*rS)},(e,t)=>(t-e)/rS,e=>e.getHours())),gS=(mS.range,uS(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rS)},(e,t)=>(t-e)/rS,e=>e.getUTCHours())),yS=(gS.range,uS(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nS)/iS,e=>e.getDate()-1)),vS=(yS.range,uS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iS,e=>e.getUTCDate()-1)),bS=(vS.range,uS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iS,e=>Math.floor(e/iS)));bS.range;function wS(e){return uS(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nS)/aS)}const xS=wS(0),kS=wS(1),SS=wS(2),_S=wS(3),AS=wS(4),ES=wS(5),NS=wS(6);xS.range,kS.range,SS.range,_S.range,AS.range,ES.range,NS.range;function CS(e){return uS(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/aS)}const jS=CS(0),TS=CS(1),IS=CS(2),PS=CS(3),OS=CS(4),MS=CS(5),DS=CS(6),RS=(jS.range,TS.range,IS.range,PS.range,OS.range,MS.range,DS.range,uS(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),LS=(RS.range,uS(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),zS=(LS.range,uS(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));zS.every=e=>isFinite(e=Math.floor(e))&&e>0?uS(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;zS.range;const FS=uS(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());FS.every=e=>isFinite(e=Math.floor(e))&&e>0?uS(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;FS.range;function US(e,t,n,r,i,a){const o=[[hS,1,tS],[hS,5,5e3],[hS,15,15e3],[hS,30,3e4],[a,1,nS],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,rS],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,iS],[r,2,1728e5],[n,1,aS],[t,1,oS],[t,3,7776e6],[e,1,sS]];function s(t,n,r){const i=Math.abs(n-t)/r,a=qw(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(Hw(t/sS,n/sS,r));if(0===a)return dS.every(Math.max(Hw(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[BS,VS]=US(FS,LS,jS,bS,gS,pS),[HS,GS]=US(zS,RS,xS,yS,mS,fS);function WS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function YS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var XS,KS,QS,ZS={"-":"",_:" ",0:"0"},JS=/^\s*\d+/,$S=/^%/,e_=/[\\^$*+?|[\]().{}]/g;function t_(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function n_(e){return e.replace(e_,"\\$&")}function r_(e){return new RegExp("^(?:"+e.map(n_).join("|")+")","i")}function i_(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function a_(e,t,n){var r=JS.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function o_(e,t,n){var r=JS.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function s_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function l_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function c_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function u_(e,t,n){var r=JS.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function d_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function h_(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f_(e,t,n){var r=JS.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function p_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function m_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function g_(e,t,n){var r=JS.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function y_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function v_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function b_(e,t,n){var r=JS.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function w_(e,t,n){var r=JS.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function x_(e,t,n){var r=JS.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k_(e,t,n){var r=$S.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function S_(e,t,n){var r=JS.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function __(e,t,n){var r=JS.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function A_(e,t){return t_(e.getDate(),t,2)}function E_(e,t){return t_(e.getHours(),t,2)}function N_(e,t){return t_(e.getHours()%12||12,t,2)}function C_(e,t){return t_(1+yS.count(zS(e),e),t,3)}function j_(e,t){return t_(e.getMilliseconds(),t,3)}function T_(e,t){return j_(e,t)+"000"}function I_(e,t){return t_(e.getMonth()+1,t,2)}function P_(e,t){return t_(e.getMinutes(),t,2)}function O_(e,t){return t_(e.getSeconds(),t,2)}function M_(e){var t=e.getDay();return 0===t?7:t}function D_(e,t){return t_(xS.count(zS(e)-1,e),t,2)}function R_(e){var t=e.getDay();return t>=4||0===t?AS(e):AS.ceil(e)}function L_(e,t){return e=R_(e),t_(AS.count(zS(e),e)+(4===zS(e).getDay()),t,2)}function z_(e){return e.getDay()}function F_(e,t){return t_(kS.count(zS(e)-1,e),t,2)}function U_(e,t){return t_(e.getFullYear()%100,t,2)}function B_(e,t){return t_((e=R_(e)).getFullYear()%100,t,2)}function V_(e,t){return t_(e.getFullYear()%1e4,t,4)}function H_(e,t){var n=e.getDay();return t_((e=n>=4||0===n?AS(e):AS.ceil(e)).getFullYear()%1e4,t,4)}function G_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+t_(t/60|0,"0",2)+t_(t%60,"0",2)}function W_(e,t){return t_(e.getUTCDate(),t,2)}function q_(e,t){return t_(e.getUTCHours(),t,2)}function Y_(e,t){return t_(e.getUTCHours()%12||12,t,2)}function X_(e,t){return t_(1+vS.count(FS(e),e),t,3)}function K_(e,t){return t_(e.getUTCMilliseconds(),t,3)}function Q_(e,t){return K_(e,t)+"000"}function Z_(e,t){return t_(e.getUTCMonth()+1,t,2)}function J_(e,t){return t_(e.getUTCMinutes(),t,2)}function $_(e,t){return t_(e.getUTCSeconds(),t,2)}function eA(e){var t=e.getUTCDay();return 0===t?7:t}function tA(e,t){return t_(jS.count(FS(e)-1,e),t,2)}function nA(e){var t=e.getUTCDay();return t>=4||0===t?OS(e):OS.ceil(e)}function rA(e,t){return e=nA(e),t_(OS.count(FS(e),e)+(4===FS(e).getUTCDay()),t,2)}function iA(e){return e.getUTCDay()}function aA(e,t){return t_(TS.count(FS(e)-1,e),t,2)}function oA(e,t){return t_(e.getUTCFullYear()%100,t,2)}function sA(e,t){return t_((e=nA(e)).getUTCFullYear()%100,t,2)}function lA(e,t){return t_(e.getUTCFullYear()%1e4,t,4)}function cA(e,t){var n=e.getUTCDay();return t_((e=n>=4||0===n?OS(e):OS.ceil(e)).getUTCFullYear()%1e4,t,4)}function uA(){return"+0000"}function dA(){return"%"}function hA(e){return+e}function fA(e){return Math.floor(+e/1e3)}function pA(e){return new Date(e)}function mA(e){return e instanceof Date?+e:+new Date(+e)}function gA(e,t,n,r,i,a,o,s,l,c){var u=rk(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,mA)):h().map(pA)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Sk(n,e)):u},u.copy=function(){return tk(u,gA(e,t,n,r,i,a,o,s,l,c))},u}function yA(){return Aw.apply(gA(HS,GS,zS,RS,xS,yS,mS,fS,hS,KS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vA(){return Aw.apply(gA(BS,VS,FS,LS,jS,vS,gS,pS,hS,QS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bA(){var e,t,n,r,i,a=0,o=1,s=Zx,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Yx),c.rangeRound=u(Xx),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function wA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xA(){var e=wk(bA()(Zx));return e.copy=function(){return wA(e,xA())},Ew.apply(e,arguments)}function kA(){var e=Tk(bA()).domain([1,10]);return e.copy=function(){return wA(e,kA()).base(e.base())},Ew.apply(e,arguments)}function SA(){var e=Mk(bA());return e.copy=function(){return wA(e,SA()).constant(e.constant())},Ew.apply(e,arguments)}function _A(){var e=Fk(bA());return e.copy=function(){return wA(e,_A()).exponent(e.exponent())},Ew.apply(e,arguments)}function AA(){return _A.apply(null,arguments).exponent(.5)}function EA(){var e=[],t=Zx;function n(n){if(null!=n&&!isNaN(n=+n))return t((Zw(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Gw),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Qk(e,r/t))},n.copy=function(){return EA(t).domain(e)},Ew.apply(n,arguments)}function NA(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=Zx,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Yx);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Yx),f.rangeRound=p(Xx),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function CA(){var e=wk(NA()(Zx));return e.copy=function(){return wA(e,CA())},Ew.apply(e,arguments)}function jA(){var e=Tk(NA()).domain([.1,1,10]);return e.copy=function(){return wA(e,jA()).base(e.base())},Ew.apply(e,arguments)}function TA(){var e=Mk(NA());return e.copy=function(){return wA(e,TA()).constant(e.constant())},Ew.apply(e,arguments)}function IA(){var e=Fk(NA());return e.copy=function(){return wA(e,IA()).exponent(e.exponent())},Ew.apply(e,arguments)}function PA(){return IA.apply(null,arguments).exponent(.5)}!function(e){XS=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=r_(i),u=i_(i),d=r_(a),h=i_(a),f=r_(o),p=i_(o),m=r_(s),g=i_(s),y=r_(l),v=i_(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:A_,e:A_,f:T_,g:B_,G:H_,H:E_,I:N_,j:C_,L:j_,m:I_,M:P_,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:hA,s:fA,S:O_,u:M_,U:D_,V:L_,w:z_,W:F_,x:null,X:null,y:U_,Y:V_,Z:G_,"%":dA},w={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:W_,e:W_,f:Q_,g:sA,G:cA,H:q_,I:Y_,j:X_,L:K_,m:Z_,M:J_,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:hA,s:fA,S:$_,u:eA,U:tA,V:rA,w:iA,W:aA,x:null,X:null,y:oA,Y:lA,Z:uA,"%":dA},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return _(e,t,n,r)},d:m_,e:m_,f:x_,g:d_,G:u_,H:y_,I:y_,j:g_,L:w_,m:p_,M:v_,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:f_,Q:S_,s:__,S:b_,u:o_,U:s_,V:l_,w:a_,W:c_,x:function(e,t,r){return _(e,n,t,r)},X:function(e,t,n){return _(e,r,t,n)},y:d_,Y:u_,Z:h_,"%":k_};function k(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=ZS[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var r,i,a=YS(1900,void 0,1);if(_(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=qS(YS(a.y,0,1))).getUTCDay(),r=i>4||0===i?TS.ceil(r):TS(r),r=vS.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=WS(YS(a.y,0,1))).getDay(),r=i>4||0===i?kS.ceil(r):kS(r),r=yS.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?qS(YS(a.y,0,1)).getUTCDay():WS(YS(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,qS(a)):WS(a)}}function _(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=x[i in ZS?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),KS=XS.format,XS.parse,QS=XS.utcFormat,XS.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var OA=e=>e.chartData,MA=ob([OA],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),DA=(e,t,n,r)=>r?MA(e):OA(e);function RA(e){return Number.isFinite(e)}function LA(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function zA(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(RA(t)&&RA(n))return!0}return!1}function FA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var UA=n(8210),BA=n.n(UA),VA=e=>e,HA={"@@functional/placeholder":!0},GA=e=>e===HA,WA=e=>function t(){return 0===arguments.length||1===arguments.length&&GA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qA=(e,t)=>1===e?t:WA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==HA).length;return a>=e?t(...r):qA(e-a,WA(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>GA(e)?n.shift():e);return t(...a,...n)}))}),YA=e=>qA(e.length,e),XA=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},KA=YA((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),QA=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ZA=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function JA(e){return 0===e?1:Math.floor(new(BA())(e).abs().log(10).toNumber())+1}function $A(e,t,n){for(var r=new(BA())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}YA((e,t,n)=>{var r=+e;return r+n*(+t-r)}),YA((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),YA((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var eE=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},tE=(e,t,n)=>{if(e.lte(0))return new(BA())(0);var r=JA(e.toNumber()),i=new(BA())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(BA())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?new(BA())(s.toNumber()):new(BA())(Math.ceil(s.toNumber()))},nE=(e,t,n)=>{var r=new(BA())(1),i=new(BA())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(BA())(10).pow(JA(e)-1),i=new(BA())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(BA())(Math.floor(e)))}else 0===e?i=new(BA())(Math.floor((t-1)/2)):n||(i=new(BA())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return VA;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(KA(e=>i.add(new(BA())(e-o).mul(r)).toNumber()),XA)(0,t)},rE=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(BA())(0),tickMin:new(BA())(0),tickMax:new(BA())(0)};var a,o=tE(new(BA())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(BA())(0):(a=new(BA())(e).add(t).div(2)).sub(new(BA())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(BA())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?rE(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(BA())(s).mul(o)),tickMax:a.add(new(BA())(l).mul(o))})};var iE=ZA(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[o,s]=eE([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...XA(0,r-1).map(()=>1/0)]:[...XA(0,r-1).map(()=>-1/0),s];return t>n?QA(l):l}if(o===s)return nE(o,r,i);var{step:c,tickMin:u,tickMax:d}=rE(o,s,a,i,0),h=$A(u,d.add(new(BA())(.1).mul(c)),c);return t>n?QA(h):h}),aE=ZA(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=eE([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=tE(new(BA())(o).sub(a).div(s-1),i,0),c=[...$A(new(BA())(a),new(BA())(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?QA(c):c}),oE=e=>e.rootProps.stackOffset,sE=e=>e.options.chartName,lE=e=>e.rootProps.syncId,cE=e=>e.rootProps.syncMethod,uE=e=>e.options.eventEmitter,dE=0,hE="auto",fE=!0,pE=!1,mE=!0,gE=0,yE="auto",vE=!0,bE=5,wE=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},xE={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:dE,includeHidden:!1,name:void 0,reversed:!1,scale:hE,tick:fE,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},kE={allowDataOverflow:pE,allowDecimals:!1,allowDuplicatedCategory:mE,dataKey:void 0,domain:void 0,id:gE,includeHidden:!1,name:void 0,reversed:!1,scale:yE,tick:vE,tickCount:bE,ticks:void 0,type:"number",unit:void 0},SE={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:dE,includeHidden:!1,name:void 0,reversed:!1,scale:hE,tick:fE,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_E={allowDataOverflow:pE,allowDecimals:!1,allowDuplicatedCategory:mE,dataKey:void 0,domain:void 0,id:gE,includeHidden:!1,name:void 0,reversed:!1,scale:yE,tick:vE,tickCount:bE,ticks:void 0,type:"category",unit:void 0},AE=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?SE:xE,EE=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?_E:kE,NE=e=>e.polarOptions,CE=ob([$b,ew,lw],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2}),jE=ob([NE,CE],(e,t)=>{if(null!=e)return mm(e.innerRadius,t,0)}),TE=ob([NE,CE],(e,t)=>{if(null!=e)return mm(e.outerRadius,t,.8*t)}),IE=ob([NE],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),PE=(ob([AE,IE],wE),ob([CE,jE,TE],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),OE=(ob([EE,PE],wE),ob([xw,NE,jE,TE,$b,ew],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:mm(o,i,i/2),cy:mm(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),ME=(e,t)=>t,DE=(e,t,n)=>n;function RE(e){return null===e||void 0===e?void 0:e.id}var LE=e=>{var t=xw(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},zE=e=>e.tooltip.settings.axisId,FE=e=>{var t=LE(e),n=zE(e);return $E(e,t,n)};function UE(e,t,n){var{chartData:r=[]}=t,i=null===n||void 0===n?void 0:n.dataKey,a=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=RE(e);n.forEach((t,n)=>{var r,s=null==i?n:String(Fb(t,i,null)),l=Fb(t,e.dataKey,0);r=a.has(s)?a.get(s):{},Object.assign(r,{[o]:l}),a.set(s,r)})}}),Array.from(a.values())}function BE(e){return null!=e.stackId&&null!=e.dataKey}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(t){GE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WE=[0,"auto"],qE={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YE=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?qE:n},XE={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:WE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},KE=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?XE:n},QE={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ZE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?QE:n},JE=(e,t,n)=>{switch(t){case"xAxis":return YE(e,n);case"yAxis":return KE(e,n);case"zAxis":return ZE(e,n);case"angleAxis":return AE(e,n);case"radiusAxis":return EE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$E=(e,t,n)=>{switch(t){case"xAxis":return YE(e,n);case"yAxis":return KE(e,n);case"angleAxis":return AE(e,n);case"radiusAxis":return EE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},eN=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function tN(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var nN=e=>e.graphicalItems.cartesianItems,rN=ob([ME,DE],tN),iN=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),aN=ob([nN,JE,rN],iN),oN=ob([aN],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(BE)),sN=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),lN=ob([aN],sN),cN=e=>e.map(e=>e.data).filter(Boolean).flat(1),uN=ob([aN],cN),dN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},hN=ob([uN,DA],dN),fN=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Fb(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Fb(e,t)}))):e.map(e=>({value:e})),pN=ob([hN,JE,aN],fN);function mN(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function gN(e){return e.filter(e=>hm(e)||e instanceof Date).map(Number).filter(e=>!1===cm(e))}function yN(e,t,n){return!n||"number"!==typeof t||cm(t)?[]:n.length?gN(n.flatMap(n=>{var r,i,a=Fb(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,RA(r)&&RA(i))return[t-r,t+i]})):[]}var vN=ob([oN,DA,FE],UE),bN=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(RE);return[r,{stackedData:Wb(e,a,n),graphicalItems:i}]}))},wN=ob([vN,oN,oE],bN),xN=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=Yb(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},kN=ob([wN,OA,ME],xN),SN=(e,t,n,r,i)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,o,s=null===(a=r[n.id])||void 0===a?void 0:a.filter(e=>mN(i,e)),l=Fb(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:l,errorDomain:yN(e,l,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Fb(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),_N=e=>e.errorBars,AN=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>mN(n,e)),EN=(ob([lN,_N,ME],AN),ob([hN,JE,lN,_N,ME],SN));function NN(e){var{value:t}=e;if(hm(t)||t instanceof Date)return t}var CN=e=>{var t=gN(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},jN=e=>{var t;if(null==e||!("domain"in e))return WE;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=gN(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:WE},TN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},IN=e=>e.referenceElements.dots,PN=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),ON=ob([IN,ME,DE],PN),MN=e=>e.referenceElements.areas,DN=ob([MN,ME,DE],PN),RN=e=>e.referenceElements.lines,LN=ob([RN,ME,DE],PN),zN=(e,t)=>{var n=gN(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},FN=ob(ON,ME,zN),UN=(e,t)=>{var n=gN(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},BN=ob([DN,ME],UN),VN=(e,t)=>{var n=gN(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},HN=ob(LN,ME,VN),GN=ob(FN,HN,BN,(e,t,n)=>TN(e,n,t)),WN=ob([JE],jN),qN=(e,t,n,r,i,a,o)=>{var s=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(RA(i))n=i;else if("function"===typeof i)return;if(RA(a))r=a;else if("function"===typeof a)return;var o=[n,r];if(zA(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(zA(r))return FA(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(dm(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&Xb.test(o)){var l=Xb.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(dm(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&Kb.test(s)){var u=Kb.exec(s);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(zA(h))return null==t?h:FA(h,t,n)}}}(t,"vertical"===a&&"xAxis"===o||"horizontal"===a&&"yAxis"===o?TN(n,i,CN(r)):TN(i,CN(r)),e.allowDataOverflow)},YN=ob([JE,WN,kN,EN,GN,xw,ME],qN),XN=[0,1],KN=(e,t,n,r,i,a,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var{dataKey:s,type:l}=e,c=Ub(t,a);return c&&null==s?_w()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(NN).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&gm(r))?_w()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?XN:o}},QN=ob([JE,xw,hN,pN,oE,ME,YN],KN),ZN=(t,n,r,i,a)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(wm(o));return l in e?l:"point"}}},JN=ob([JE,xw,eN,sE,ME],ZN);function $N(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(wm(t));return n in e?e[n]():void 0}}(n);if(null!=a){var o=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Hb,a=Math.max(r[0],r[1])+Hb,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}})(o),o}}}var eC=(e,t,n)=>{var r=jN(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&zA(e)?iE(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&zA(e)?aE(e,t.tickCount,t.allowDecimals):void 0},tC=ob([QN,$E,JN],eC),nC=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&zA(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},rC=ob([JE,QN,tC,ME],nC),iC=ob(pN,JE,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(gN(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),aC=ob(iC,xw,e=>e.rootProps.barCategoryGap,lw,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!RA(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=mm(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),oC=ob(YE,(e,t)=>{var n=YE(e,t);return null==n||"string"!==typeof n.padding?0:aC(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),sC=ob(KE,(e,t)=>{var n=KE(e,t);return null==n||"string"!==typeof n.padding?0:aC(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),lC=ob([lw,oC,pw,fw,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),cC=ob([lw,xw,sC,pw,fw,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),uC=(e,t,n,r)=>{var i;switch(t){case"xAxis":return lC(e,n,r);case"yAxis":return cC(e,n,r);case"zAxis":return null===(i=ZE(e,n))||void 0===i?void 0:i.range;case"angleAxis":return IE(e);case"radiusAxis":return PE(e,n);default:return}},dC=ob([JE,uC],wE),hC=ob([JE,JN,rC,dC],$N);ob([aN,_N,ME],AN);function fC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pC=(e,t)=>t,mC=(e,t,n)=>n,gC=ob(rw,pC,mC,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(fC)),yC=ob(iw,pC,mC,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(fC)),vC=(e,t)=>({width:e.width,height:t.height}),bC=ob(lw,YE,vC),wC=ob(ew,lw,gC,pC,mC,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=vC(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;o[n.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),xC=ob($b,lw,yC,pC,mC,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;o[n.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),kC=ob(lw,KE,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),SC=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Ub(e,r),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&gm(l)?l:void 0}},_C=ob([xw,pN,JE,ME],SC),AC=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!Ub(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},EC=ob([xw,pN,$E,ME],AC),NC=ob([xw,(e,t,n)=>{switch(t){case"xAxis":return YE(e,n);case"yAxis":return KE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},JN,hC,_C,EC,uC,tC,ME],(e,t,n,r,i,a,o,s,l)=>{if(null==t)return null;var c=Ub(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),CC=ob([xw,$E,JN,hC,tC,uC,_C,EC,ME],(e,t,n,r,i,a,o,s,l)=>{if(null!=t&&null!=r){var c=Ub(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*lm(a[0]-a[1])*p:p;var m=d||i;return m?m.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!cm(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),jC=ob([xw,$E,hC,uC,_C,EC,ME],(e,t,n,r,i,a,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=Ub(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*lm(r[0]-r[1])*c:c,s&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),TC=ob(JE,hC,(e,t)=>{if(null!=e&&null!=t)return HE(HE({},e),{},{scale:t})}),IC=ob([JE,JN,QN,dC],$N),PC=(ob((e,t,n)=>ZE(e,n),IC,(e,t)=>{if(null!=e&&null!=t)return HE(HE({},e),{},{scale:t})}),ob([xw,rw,iw],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),OC=e=>e.options.defaultTooltipEventType,MC=e=>e.options.validateTooltipEventTypes;function DC(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function RC(e,t){return DC(t,OC(e),MC(e))}var LC=(e,t)=>{var n,r=Number(t);if(!cm(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zC(Object(n),!0).forEach(function(t){UC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BC=(e,t,n,r)=>{if(null==t)return Cv;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return Cv;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return FC(FC({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return FC(FC({},Cv),{},{coordinate:i.coordinate})},VC=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!RA(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},HC=(e,t,n,r,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},GC=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},WC=e=>e.options.tooltipPayloadSearcher,qC=e=>e.tooltip;function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(t){KC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QC=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,s),y=Array.isArray(g)?Db(g,c,u):g,v=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,b=null===m||void 0===m?void 0:m.nameKey;(h=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===o?vm(y,r.dataKey,i):a(y,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=XC(XC({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Zb({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:Fb(t.payload,t.dataKey),name:t.name}))}):e.push(Zb({tooltipEntrySettings:m,dataKey:v,payload:h,value:Fb(h,v),name:null!==(f=Fb(h,b))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},ZC=ob([FE,xw,eN,sE,LE],ZN),JC=ob([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$C=ob([LE,zE],tN),ej=ob([JC,FE,$C],iN),tj=ob([ej],e=>e.filter(BE)),nj=ob([ej],cN),rj=ob([nj,OA],dN),ij=ob([tj,OA,FE],UE),aj=ob([rj,FE,ej],fN),oj=ob([FE],jN),sj=ob([ej],e=>e.filter(BE)),lj=ob([ij,sj,oE],bN),cj=ob([lj,OA,LE],xN),uj=ob([ej],sN),dj=ob([rj,FE,uj,_N,LE],SN),hj=ob([IN,LE,zE],PN),fj=ob([hj,LE],zN),pj=ob([MN,LE,zE],PN),mj=ob([pj,LE],UN),gj=ob([RN,LE,zE],PN),yj=ob([gj,LE],VN),vj=ob([fj,yj,mj],TN),bj=ob([FE,oj,cj,dj,vj,xw,LE],qN),wj=ob([FE,xw,rj,aj,oE,LE,bj],KN),xj=ob([wj,FE,ZC],eC),kj=ob([FE,wj,xj,LE],nC),Sj=e=>{var t=LE(e),n=zE(e);return uC(e,t,n,!1)},_j=ob([FE,Sj],wE),Aj=ob([FE,ZC,kj,_j],$N),Ej=ob([xw,aj,FE,LE],SC),Nj=ob([xw,aj,FE,LE],AC),Cj=ob([xw,FE,ZC,Aj,Sj,Ej,Nj,LE],(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=Ub(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*lm(i[0]-i[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),jj=ob([OC,MC,e=>e.tooltip.settings],(e,t,n)=>DC(n.shared,e,t)),Tj=e=>e.tooltip.settings.trigger,Ij=e=>e.tooltip.settings.defaultIndex,Pj=ob([qC,jj,Tj,Ij],BC),Oj=ob([Pj,rj],VC),Mj=ob([Cj,Oj],LC),Dj=ob([Pj],e=>{if(e)return e.dataKey}),Rj=ob([qC,jj,Tj,Ij],GC),Lj=ob([$b,ew,xw,lw,Cj,Ij,Rj,WC],HC),zj=ob([Pj,Lj],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),Fj=ob([Pj],e=>e.active),Uj=ob([Rj,Oj,OA,FE,Mj,WC,jj],QC),Bj=ob([Uj],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),Vj=(e,t)=>t,Hj=(e,t,n)=>n,Gj=(e,t,n,r)=>r,Wj=ob(Cj,e=>yb()(e,e=>e.coordinate)),qj=ob([qC,Vj,Hj,Gj],BC),Yj=ob([qj,rj],VC),Xj=ob([qC,Vj,Hj,Gj],GC),Kj=ob([$b,ew,xw,lw,Cj,Gj,Xj,WC],HC),Qj=ob([qj,Kj],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),Zj=ob(Cj,Yj,LC),Jj=ob([Xj,Yj,OA,FE,Zj,WC,Vj],QC),$j=ob([qj],e=>({isActive:e.active,activeIndex:e.index})),eT=ob([(e,t)=>t,xw,OE,LE,_j,Cj,Wj,lw],(e,t,n,r,i,a,o,s)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?Mb({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,o=-1,s=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(lm(u-c)!==lm(d-u)){var f=[];if(lm(d-u)===lm(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+i[1]-i[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=r;return Lb(Lb(Lb({},r),Ib(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Lb(Lb(Lb({},r),Ib(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),tT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},nT=Tg("mouseClick"),rT=Sy();rT.startListening({actionCreator:nT,effect:(e,t)=>{var n=e.payload,r=eT(t.getState(),tT(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(zv({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var iT=Tg("mouseMove"),aT=Sy();function oT(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(t){cT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aT.startListening({actionCreator:iT,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=RC(r,r.tooltip.settings.shared),a=eT(r,tT(n));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch(Lv({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Dv()))}});var uT=Gg({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=lT(lT({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:dT,removeXAxis:hT,addYAxis:fT,removeYAxis:pT,addZAxis:mT,removeZAxis:gT,updateYAxisWidth:yT}=uT.actions,vT=uT.reducer,bT=Gg({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=_g(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=_g(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=_g(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:wT,replaceCartesianGraphicalItem:xT,removeCartesianGraphicalItem:kT,addPolarGraphicalItem:ST,removePolarGraphicalItem:_T}=bT.actions,AT=bT.reducer,ET=Gg({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=_g(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=_g(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=_g(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:NT,removeDot:CT,addArea:jT,removeArea:TT,addLine:IT,removeLine:PT}=ET.actions,OT=ET.reducer,MT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DT=Gg({name:"brush",initialState:MT,reducers:{setBrushSettings:(e,t)=>null==t.payload?MT:t.payload}}),{setBrushSettings:RT}=DT.actions,LT=DT.reducer,zT=Gg({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=_g(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:FT,setLegendSettings:UT,addLegendPayload:BT,removeLegendPayload:VT}=zT.actions,HT=zT.reducer,GT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},WT=Gg({name:"rootProps",initialState:GT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:GT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),qT=WT.reducer,{updateOptions:YT}=WT.actions,XT=Gg({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:KT,removeRadiusAxis:QT,addAngleAxis:ZT,removeAngleAxis:JT}=XT.actions,$T=XT.reducer,eI=Gg({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tI}=eI.actions,nI=eI.reducer,rI=Tg("keyDown"),iI=Tg("focus"),aI=Sy();aI.startListening({actionCreator:rI,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(VC(r,rj(n))),o=Cj(n);if("Enter"!==i){var s=a+("ArrowRight"===i?1:-1)*("left-to-right"===PC(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=Kj(n,"axis","hover",String(s));t.dispatch(Uv({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=Kj(n,"axis","hover",String(r.index));t.dispatch(Uv({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),aI.startListening({actionCreator:iI,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=Kj(n,"axis","hover",String("0"));t.dispatch(Uv({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var oI=Tg("externalEvent"),sI=Sy();sI.startListening({actionCreator:oI,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:zj(n),activeDataKey:Dj(n),activeIndex:Oj(n),activeLabel:Mj(n),activeTooltipIndex:Oj(n),isTooltipActive:Fj(n)};e.payload.handler(r,e.payload.reactEvent)}}});var lI=ob([qC],e=>e.tooltipItemPayloads),cI=ob([lI,WC,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),uI=Tg("touchMove"),dI=Sy();dI.startListening({actionCreator:uI,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=RC(r,r.tooltip.settings.shared);if("axis"===i){var a=eT(r,tT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(Lv({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute("data-recharts-item-index"),u=null!==(o=l.getAttribute("data-recharts-item-data-key"))&&void 0!==o?o:void 0,d=cI(t.getState(),c,u);t.dispatch(Ov({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var hI=Gg({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:fI,removeErrorBar:pI}=hI.actions,mI=Pm({brush:LT,cartesianAxis:vT,chartData:qv,errorBars:hI.reducer,graphicalItems:AT,layout:Jv,legend:HT,options:Ny,polarAxis:$T,polarOptions:nI,referenceElements:OT,rootProps:qT,tooltip:Bv});function gI(e){var{preloadedState:n,children:r,reduxStoreName:i}=e,a=hw(),o=(0,t.useRef)(null);if(a)return r;null==o.current&&(o.current=function(e){return Lg({reducer:mI,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([rT.middleware,aT.middleware,aI.middleware,sI.middleware,dI.middleware]),devTools:{serialize:{replacer:oT},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,i));var s=cb;return t.createElement(Fy,{context:s,store:o.current},r)}var yI=e=>{var{chartData:n}=e,r=db(),i=hw();return(0,t.useEffect)(()=>i?()=>{}:(r(Hv(n)),()=>{r(Hv(void 0))}),[n,r,i]),null};function vI(e){var{layout:n,width:r,height:i,margin:a}=e,o=db(),s=hw();return(0,t.useEffect)(()=>{s||(o(Kv(n)),o(Qv({width:r,height:i})),o(Xv(a)))},[o,s,n,r,i,a]),null}function bI(e){var n=db();return(0,t.useEffect)(()=>{n(YT(e))},[n,e]),null}var wI=()=>mb(e=>e.rootProps.accessibilityLayer),xI=n(528),kI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SI(e){return"string"===typeof e&&kI.includes(e)}var _I=["points","pathLength"],AI={svg:["viewBox","children"],polygon:_I,polyline:_I},EI=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var i={};return Object.keys(r).forEach(e=>{SI(e)&&(i[e]=n||(t=>r[e](r,t)))}),i},NI=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];SI(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},CI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function jI(e){return"string"===typeof e&&CI.includes(e)}function TI(e){var t=Object.entries(e).filter(e=>{var[t]=e;return jI(t)});return Object.fromEntries(t)}var II=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",PI=null,OI=null,MI=e=>{if(e===PI&&Array.isArray(OI))return OI;var n=[];return t.Children.forEach(e,e=>{bm(e)||((0,xI.zv)(e)?n=n.concat(MI(e.props.children)):n.push(e))}),OI=n,PI=e,n};function DI(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>II(e)):[II(t)],MI(e).forEach(e=>{var t=sm()(e,"type.displayName")||sm()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var RI=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),LI=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),"object"!==typeof i&&"function"!==typeof i)return null;var a={};return Object.keys(i).forEach(e=>{var t;((e,t,n,r)=>{var i;if("symbol"===typeof t||"number"===typeof t)return!0;var a=null!==(i=r&&(null===AI||void 0===AI?void 0:AI[r]))&&void 0!==i?i:[],o=t.startsWith("data-"),s="function"!==typeof e&&(Boolean(r)&&a.includes(t)||jI(t)),l=Boolean(n)&&SI(t);return o||s||l})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(a[e]=i[e])}),a},zI=["children","width","height","viewBox","className","style","title","desc"];function FI(){return FI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FI.apply(null,arguments)}var UI=(0,t.forwardRef)((e,n)=>{var{children:r,width:i,height:a,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,zI),h=o||{width:i,height:a,x:0,y:0},f=rm("recharts-surface",s);return t.createElement("svg",FI({},LI(d,!0,"svg"),{className:f,width:i,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),BI=["children"];function VI(){return VI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VI.apply(null,arguments)}var HI={width:"100%",height:"100%"},GI=(0,t.forwardRef)((e,n)=>{var r=vw(),i=bw(),a=wI();if(!LA(r)||!LA(i))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,s="string"===typeof c.role?c.role:a?"application":void 0,t.createElement(UI,VI({},c,{title:u,desc:d,role:s,tabIndex:o,width:r,height:i,style:HI,ref:n}),l)}),WI=e=>{var{children:n}=e,r=mb(pw);if(!r)return null;var{width:i,height:a,y:o,x:s}=r;return t.createElement(UI,{width:i,height:a,x:s,y:o},n)},qI=(0,t.forwardRef)((e,n)=>{var{children:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,BI);return hw()?t.createElement(WI,null,r):t.createElement(GI,VI({ref:n},i),r)});var YI=new(n(7283)),XI="recharts.syncEvent.tooltip",KI="recharts.syncEvent.brush";function QI(e){return e.tooltip.syncInteraction}var ZI=()=>{};function JI(){var e=db();(0,t.useEffect)(()=>{e(Cy())},[e]),function(){var e=mb(lE),n=mb(uE),r=db(),i=mb(cE),a=mb(Cj),o=kw(),s=mw(),l=mb(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return ZI;var t=(t,l,c)=>{if(n!==c&&e===t)if("index"!==i){if(null!=a){var u;if("function"===typeof i){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=i(a,d);u=a[h]}else"value"===i&&(u=a.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:m}=f,g=Math.min(p,s.x+s.width),y=Math.min(m,s.y+s.height),v={x:"horizontal"===o?u.coordinate:g,y:"horizontal"===o?y:u.coordinate},b=Fv({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(b)}else r(Fv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else r(l)};return YI.on(XI,t),()=>{YI.off(XI,t)}},[l,r,n,e,i,a,o,s])}(),function(){var e=mb(lE),n=mb(uE),r=db();(0,t.useEffect)(()=>{if(null==e)return ZI;var t=(t,i,a)=>{n!==a&&e===t&&r(Gv(i))};return YI.on(KI,t),()=>{YI.off(KI,t)}},[r,n,e])}()}function $I(e,n,r,i,a,o){var s=mb(t=>((e,t,n)=>{if(null!=t){var r=qC(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=mb(uE),c=mb(lE),u=mb(cE),d=mb(QI),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Fv({active:o,coordinate:r,dataKey:s,index:a,label:"number"===typeof i?String(i):i});YI.emit(XI,c,e,l)}},[h,r,s,a,i,l,c,u,o])}var eP=(0,t.createContext)(null),tP=(0,t.createContext)(null);function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(t){iP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aP=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=db(),[w,x]=(0,t.useState)(null),[k,S]=(0,t.useState)(null);JI();var _=function(){var e=db(),[n,r]=(0,t.useState)(null),i=mb(tw);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;RA(t)&&t!==i&&e(Zv(t))}},[n,e,i]),r}(),A=(0,t.useCallback)(e=>{_(e),"function"===typeof n&&n(e),x(e),S(e)},[_,n,x,S]),E=(0,t.useCallback)(e=>{b(nT(e)),b(oI({handler:o,reactEvent:e}))},[b,o]),N=(0,t.useCallback)(e=>{b(iT(e)),b(oI({handler:u,reactEvent:e}))},[b,u]),C=(0,t.useCallback)(e=>{b(Dv()),b(oI({handler:d,reactEvent:e}))},[b,d]),j=(0,t.useCallback)(e=>{b(iT(e)),b(oI({handler:h,reactEvent:e}))},[b,h]),T=(0,t.useCallback)(()=>{b(iI())},[b]),I=(0,t.useCallback)(e=>{b(rI(e.key))},[b]),P=(0,t.useCallback)(e=>{b(oI({handler:s,reactEvent:e}))},[b,s]),O=(0,t.useCallback)(e=>{b(oI({handler:l,reactEvent:e}))},[b,l]),M=(0,t.useCallback)(e=>{b(oI({handler:c,reactEvent:e}))},[b,c]),D=(0,t.useCallback)(e=>{b(oI({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(oI({handler:g,reactEvent:e}))},[b,g]),L=(0,t.useCallback)(e=>{b(uI(e)),b(oI({handler:m,reactEvent:e}))},[b,m]),z=(0,t.useCallback)(e=>{b(oI({handler:p,reactEvent:e}))},[b,p]);return t.createElement(eP.Provider,{value:w},t.createElement(tP.Provider,{value:k},t.createElement("div",{className:rm("recharts-wrapper",i),style:rP({position:"relative",cursor:"default",width:v,height:a},y),onClick:E,onContextMenu:P,onDoubleClick:O,onFocus:T,onKeyDown:I,onMouseDown:M,onMouseEnter:N,onMouseLeave:C,onMouseMove:j,onMouseUp:D,onTouchEnd:z,onTouchMove:L,onTouchStart:R,ref:A},r)))}),oP=ob([lw],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),sP=ob([oP,$b,ew],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),lP=()=>mb(sP),cP=(0,t.createContext)(void 0),uP=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(pm("recharts"),"-clip")),i=lP();if(null==i)return null;var{x:a,y:o,width:s,height:l}=i;return t.createElement(cP.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:a,y:o,height:l,width:s}))),n)},dP=["children","className","width","height","style","compact","title","desc"];var hP=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,width:a,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dP),h=TI(d);return l?t.createElement(qI,{otherAttributes:h,title:c,desc:u},r):t.createElement(aP,{className:i,style:s,width:a,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(qI,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement(uP,null,r)))});function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mP(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(t){pP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var gP=["width","height"];function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(null,arguments)}var vP={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},bP=(0,t.forwardRef)(function(e,n){var r,i=mP(e.categoricalChartProps,vP),{width:a,height:o}=i,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,gP);if(!LA(a)||!LA(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(gI,{preloadedState:{options:f},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(yI,{chartData:h.data}),t.createElement(vI,{width:a,height:o,layout:i.layout,margin:i.margin}),t.createElement(bI,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),t.createElement(hP,yP({},s,{width:a,height:o,ref:n})))}),wP=["axis"],xP=(0,t.forwardRef)((e,n)=>t.createElement(bP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wP,tooltipPayloadSearcher:Ay,categoricalChartProps:e,ref:n})),kP=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function SP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(t){EP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NP=AP({},{cacheSize:2e3,enableCache:!0}),CP=new class{constructor(e){SP(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(NP.cacheSize),jP={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TP="recharts_measurement_span";var IP=(e,t)=>{try{var n=document.getElementById(TP);n||((n=document.createElement("span")).setAttribute("id",TP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,jP,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},PP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||kP)return{width:0,height:0};if(!NP.enableCache)return IP(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),r=CP.get(n);if(r)return r;var i=IP(e,t);return CP.set(n,i),i};function OP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class MP{static create(e){return new MP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}OP(MP,"EPS",1e-4);function DP(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function RP(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function LP(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(t){UP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BP(e,t,n){var r,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(dm(c)||kP)return null!==(r=function(e,t){return DP(e,t+1)}(a,dm(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?PP(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===p?RP(PP(i,{fontSize:t,letterSpacing:n}),m,h):PP(i,{fontSize:t,letterSpacing:n})[p]},y=a.length>=2?lm(a[1].coordinate-a[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(o,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:DP(r,u)};var a,o=c,h=()=>(void 0===a&&(a=n(t,o)),a),f=t.coordinate,p=0===c||LP(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(y,v,g,a,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=FP(FP({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),LP(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=FP(FP({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var r,a=o[t],s=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=FP(FP({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=FP(FP({},a),{},{tickCoord:a.coordinate});LP(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=FP(FP({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(y,v,g,a,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=FP(FP({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=FP(FP({},c),{},{tickCoord:c.coordinate});LP(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=FP(FP({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(y,v,g,a,s),f.filter(e=>e.isShow))}function VP(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var HP=["children","className"];function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GP.apply(null,arguments)}var WP=t.forwardRef((e,n)=>{var{children:r,className:i}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,HP),o=rm("recharts-layer",i);return t.createElement("g",GP({className:o},LI(a,!0),{ref:n}),r)}),qP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XP=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KP=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ZP=Object.keys(QP),JP="NaN";class $P{static parse(e){var t,[,n,r]=null!==(t=KP.exec(e))&&void 0!==t?t:[];return new $P(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,cm(e)&&(this.unit=""),""===t||XP.test(t)||(this.num=NaN,this.unit=""),ZP.includes(t)&&(this.num=function(e,t){return e*QP[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new $P(NaN,""):new $P(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new $P(NaN,""):new $P(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new $P(NaN,""):new $P(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new $P(NaN,""):new $P(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cm(this.num)}}function eO(e){if(e.includes(JP))return JP;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=qP.exec(t))&&void 0!==n?n:[],o=$P.parse(null!==r&&void 0!==r?r:""),s=$P.parse(null!==a&&void 0!==a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return JP;t=t.replace(qP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=YP.exec(t))&&void 0!==c?c:[],f=$P.parse(null!==u&&void 0!==u?u:""),p=$P.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return JP;t=t.replace(YP,m.toString())}return t}var tO=/\(([^()]*)\)/;function nO(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=tO.exec(n));){var[,r]=t;n=n.replace(tO,eO(r))}return n}(t),t=eO(t)}function rO(e){var t=function(e){try{return nO(e)}catch(t){return JP}}(e.slice(5,-1));return t===JP?"":t}var iO=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aO=["dx","dy","angle","className","breakAll"];function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oO.apply(null,arguments)}function sO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var lO=/[ \f\n\r\t\v\u2028\u2029]+/,cO=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return bm(t)||(i=n?t.toString().split(""):t.toString().split(lO)),{wordsWithComputedWidth:i.map(e=>({word:e,width:PP(e,r).width})),spaceWidth:n?0:PP("\xa0",r).width}}catch(a){return null}},uO=e=>[{words:bm(e)?[]:e.toString().split(lO)}],dO=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!kP){var s=cO({breakAll:a,children:r,style:i});if(!s)return uO(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=dm(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:o}=t,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=cO({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),w=b-1,[x,k]=m(w),[S]=m(b);if(x||S||(g=b+1),x&&S&&(y=b-1),!x&&S){p=k;break}v++}return p||h})({breakAll:a,children:r,maxLines:o,style:i},l,c,t,n)}return uO(r)},hO="#808080",fO=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=hO}=e,d=sO(e,iO),h=(0,t.useMemo)(()=>dO({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=sO(d,aO);if(!hm(r)||!hm(i))return null;var b,w=r+(dm(f)?f:0),x=i+(dm(p)?p:0);switch(c){case"start":b=rO("calc(".concat(o,")"));break;case"middle":b=rO("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:b=rO("calc(".concat(h.length-1," * -").concat(a,")"))}var k=[];if(s){var S=h[0].width,{width:_}=d;k.push("scale(".concat(dm(_)?_/S:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(w,", ").concat(x,")")),k.length&&(v.transform=k.join(" ")),t.createElement("text",oO({},LI(v,!0),{ref:n,x:w,y:x,className:rm("recharts-text",g),textAnchor:l,fill:u.includes("url")?hO:u}),h.map((e,n)=>{var r=e.words.join(y?"":" ");return t.createElement("tspan",{x:w,dy:0===n?b:a,key:"".concat(r,"-").concat(n)},r)}))});fO.displayName="Text";var pO=["offset"],mO=["labelRef"];function gO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yO(Object(n),!0).forEach(function(t){bO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wO(){return wO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wO.apply(null,arguments)}var xO=e=>null!=e&&"function"===typeof e,kO=(e,n,r,i)=>{var a,o,{position:s,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,y=(h+f)/2,v=((e,t)=>lm(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=v>=0?1:-1;"insideStart"===s?(a=p+b*l,o=g):"insideEnd"===s?(a=m-b*l,o=!g):"end"===s&&(a=m+b*l,o=g),o=v<=0?o:!o;var w=Ib(u,d,y,a),x=Ib(u,d,y,a+359*(o?1:-1)),k="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(x.x,",").concat(x.y),S=bm(e.id)?pm("recharts-radial-line-"):e.id;return t.createElement("text",wO({},r,{dominantBaseline:"central",className:rm("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(S)},n))};function SO(e){var{offset:n=5}=e,r=vO({offset:n},gO(e,pO)),{viewBox:i,position:a,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=mb(OE),f=mw(),p=i||("center"===a?f:null!==h&&void 0!==h?h:f);if(!p||bm(o)&&bm(s)&&!(0,t.isValidElement)(l)&&"function"!==typeof l)return null;var m,g=vO(vO({},r),{},{viewBox:p});if((0,t.isValidElement)(l)){var{labelRef:y}=g,v=gO(g,mO);return(0,t.cloneElement)(l,v)}if("function"===typeof l){if(m=(0,t.createElement)(l,g),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=bm(e.children)?t:e.children;return"function"===typeof n?n(r):r})(r);var b=(e=>"cx"in e&&dm(e.cx))(p),w=LI(r,!0);if(b&&("insideStart"===a||"insideEnd"===a||"end"===a))return kO(r,m,w,p);var x=b?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=Ib(r,i,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:f,y:p}=Ib(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:o,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=s>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===i)return vO(vO({},{x:a+s/2,y:o-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:s}:{});if("bottom"===i)return vO(vO({},{x:a+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(o+l),0),width:s}:{});if("left"===i){var y={x:a-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return vO(vO({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===i){var v={x:a+s+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return vO(vO({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===i?vO({x:a+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===i?vO({x:a+s-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===i?vO({x:a+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===i?vO({x:a+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===i?vO({x:a+p,y:o+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===i?vO({x:a+s-p,y:o+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===i?vO({x:a+p,y:o+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===i?vO({x:a+s-p,y:o+l-u,textAnchor:m,verticalAnchor:d},b):i&&"object"===typeof i&&(dm(i.x)||um(i.x))&&(dm(i.y)||um(i.y))?vO({x:a+mm(i.x,s),y:o+mm(i.y,l),textAnchor:"end",verticalAnchor:"end"},b):vO({x:a+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(r,p);return t.createElement(fO,wO({ref:d,className:rm("recharts-label",c)},w,x,{breakAll:u}),m)}SO.displayName="Label";var _O=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(dm(p)&&dm(m)){if(dm(u)&&dm(d))return{x:u,y:d,width:p,height:m};if(dm(h)&&dm(f))return{x:h,y:f,width:p,height:m}}return dm(u)&&dm(d)?{x:u,y:d,width:0,height:0}:dm(t)&&dm(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:void 0};SO.parseViewBox=_O,SO.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,o=_O(e),s=DI(i,SO).map((e,r)=>(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)}));if(!r)return s;var l=((e,n,r)=>{if(!e)return null;var i={viewBox:n,labelRef:r};return!0===e?t.createElement(SO,wO({key:"label-implicit"},i)):hm(e)?t.createElement(SO,wO({key:"label-implicit",value:e},i)):(0,t.isValidElement)(e)?e.type===SO?(0,t.cloneElement)(e,vO({key:"label-implicit"},i)):t.createElement(SO,wO({key:"label-implicit",content:e},i)):xO(e)?t.createElement(SO,wO({key:"label-implicit",content:e},i)):e&&"object"===typeof e?t.createElement(SO,wO({},e,{key:"label-implicit"},i)):null})(e.label,n||o,a);return[l,...s]};var AO=["viewBox"],EO=["viewBox"];function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NO.apply(null,arguments)}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(t){IO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class PO extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=TO(e,AO),i=this.props,{viewBox:a}=i,o=TO(i,EO);return!VP(n,a)||!VP(r,o)||!VP(t,this.state)}getTickLineCoord(e){var t,n,r,i,a,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=dm(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(i=l+ +!f*u)-m*g)-m*p,a=y;break;case"left":r=i=e.coordinate,a=(t=(n=s+ +!f*c)-m*g)-m*p,o=y;break;case"right":r=i=e.coordinate,a=(t=(n=s+ +f*c)+m*g)+m*p,o=y;break;default:t=n=e.coordinate,o=(r=(i=l+ +f*u)+m*g)+m*p,a=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:o}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=jO(jO(jO({},LI(this.props,!1)),LI(s,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!o||"bottom"===a&&o);l=jO(jO({},l),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var u=+("left"===a&&!o||"right"===a&&o);l=jO(jO({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+i})}return t.createElement("line",NO({},l,{className:rm("recharts-cartesian-axis-line",sm()(s,"className"))}))}static renderTickItem(e,n,r){var i,a=rm(n.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))i=t.cloneElement(e,jO(jO({},n),{},{className:a}));else if("function"===typeof e)i=e(jO(jO({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=rm(o,e.className)),i=t.createElement(fO,NO({},n,{className:o}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l,padding:c}=this.props,u=BP(jO(jO({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=TI(this.props),p=LI(o,!1),m=jO(jO({},f),{},{fill:"none"},LI(i,!1)),g=u.map((e,n)=>{var{line:r,tick:g}=this.getTickLineCoord(e),y=jO(jO(jO(jO({textAnchor:d,verticalAnchor:h},f),{},{stroke:"none",fill:a},p),g),{},{index:n,payload:e,visibleTicksCount:u.length,tickFormatter:s,padding:c});return t.createElement(WP,NO({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},NI(this.props,e,n)),i&&t.createElement("line",NO({},m,r,{className:rm("recharts-cartesian-axis-tick-line",sm()(i,"className"))})),o&&PO.renderTickItem(o,y,"".concat("function"===typeof s?s(e.value,n):e.value).concat(l||"")))});return g.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return null!=n&&n<=0||null!=r&&r<=0?null:t.createElement(WP,{className:rm("recharts-cartesian-axis",i),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),SO.renderCallByParent(this.props))}}IO(PO,"displayName","CartesianAxis"),IO(PO,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OO=["x1","y1","x2","y2","key"],MO=["offset"],DO=["xAxisId","yAxisId"],RO=["xAxisId","yAxisId"];function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(t){FO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UO.apply(null,arguments)}function BO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var VO=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:i,y:a,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HO(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:i,y1:a,x2:o,y2:s,key:l}=n,c=TI(BO(n,OO)),{offset:u}=c,d=BO(c,MO);r=t.createElement("line",UO({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return r}function GO(e){var{x:n,width:r,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=BO(e,DO),c=a.map((e,t)=>{var a=zO(zO({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return HO(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function WO(e){var{y:n,height:r,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=BO(e,RO),c=a.map((e,t)=>{var a=zO(zO({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return HO(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function qO(e){var{horizontalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function YO(e){var{vertical:n=!0,verticalFill:r,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?a+s-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var XO=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Bb(BP(zO(zO(zO({},PO.defaultProps),n),{},{ticks:Vb(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},KO=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Bb(BP(zO(zO(zO({},PO.defaultProps),n),{},{ticks:Vb(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},QO={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ZO(e){var n=vw(),r=bw(),i=yw(),a=zO(zO({},mP(e,QO)),{},{x:dm(e.x)?e.x:i.left,y:dm(e.y)?e.y:i.top,width:dm(e.width)?e.width:i.width,height:dm(e.height)?e.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,m=hw(),g=mb(e=>NC(e,"xAxis",o,m)),y=mb(e=>NC(e,"yAxis",s,m));if(!dm(u)||u<=0||!dm(d)||d<=0||!dm(l)||l!==+l||!dm(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||XO,b=a.horizontalCoordinatesGenerator||KO,{horizontalPoints:w,verticalPoints:x}=a;if((!w||!w.length)&&"function"===typeof b){var k=f&&f.length,S=b({yAxis:y?zO(zO({},y),{},{ticks:k?f:y.ticks}):void 0,width:n,height:r,offset:i},!!k||h);xm(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!x||!x.length)&&"function"===typeof v){var _=p&&p.length,A=v({xAxis:g?zO(zO({},g),{},{ticks:_?p:g.ticks}):void 0,width:n,height:r,offset:i},!!_||h);xm(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(x=A)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(VO,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),t.createElement(qO,UO({},a,{horizontalPoints:w})),t.createElement(YO,UO({},a,{verticalPoints:x})),t.createElement(GO,UO({},a,{offset:i,horizontalPoints:w,xAxis:g,yAxis:y})),t.createElement(WO,UO({},a,{offset:i,verticalPoints:x,xAxis:g,yAxis:y})))}ZO.displayName="CartesianGrid";var JO=["children"],$O=["dangerouslySetInnerHTML","ticks"];function eM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tM(){return tM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tM.apply(null,arguments)}function nM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rM(e){var n=db(),r=(0,t.useMemo)(()=>{var{children:t}=e;return nM(e,JO)},[e]),i=mb(e=>YE(e,r.id)),a=r===i;return(0,t.useEffect)(()=>(n(dT(r)),()=>{n(hT(r))}),[r,n]),a?e.children:null}var iM=e=>{var{xAxisId:n,className:r}=e,i=mb(uw),a=hw(),o="xAxis",s=mb(e=>hC(e,o,n,a)),l=mb(e=>CC(e,o,n,a)),c=mb(e=>bC(e,n)),u=mb(e=>((e,t)=>{var n=lw(e),r=YE(e,t);if(null!=r){var i=wC(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,n));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=nM(e,$O);return t.createElement(PO,tM({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:rm("recharts-".concat(o," ").concat(o),r),viewBox:i,ticks:l}))},aM=e=>{var n,r,i,a,o;return t.createElement(rM,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},t.createElement(iM,e))};class oM extends t.Component{render(){return t.createElement(aM,this.props)}}eM(oM,"displayName","XAxis"),eM(oM,"defaultProps",{allowDataOverflow:qE.allowDataOverflow,allowDecimals:qE.allowDecimals,allowDuplicatedCategory:qE.allowDuplicatedCategory,height:qE.height,hide:!1,mirror:qE.mirror,orientation:qE.orientation,padding:qE.padding,reversed:qE.reversed,scale:qE.scale,tickCount:qE.tickCount,type:qE.type,xAxisId:0});var sM=["dangerouslySetInnerHTML","ticks"];function lM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cM.apply(null,arguments)}function uM(e){var n=db();return(0,t.useEffect)(()=>(n(fT(e)),()=>{n(pT(e))}),[e,n]),null}var dM=e=>{var n,{yAxisId:r,className:i,width:a,label:o}=e,s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=mb(uw),u=hw(),d=db(),h="yAxis",f=mb(e=>hC(e,h,r,u)),p=mb(e=>kC(e,r)),m=mb(e=>((e,t)=>{var n=lw(e),r=KE(e,t);if(null!=r){var i=xC(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,r)),g=mb(e=>CC(e,h,r,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===a&&p&&!xO(o)&&!(0,t.isValidElement)(o)){var n=s.current,i=null===n||void 0===n||null===(e=n.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=n.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(i+a)+s+(n?r:0);return Math.round(l)}return 0})({ticks:i,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(yT({id:r,width:h}))}},[s,null===s||void 0===s||null===(n=s.current)||void 0===n||null===(n=n.tickRefs)||void 0===n?void 0:n.current,null===p||void 0===p?void 0:p.width,p,d,o,r,a]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,sM);return t.createElement(PO,cM({},b,{ref:s,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:rm("recharts-".concat(h," ").concat(h),i),viewBox:c,ticks:g}))},hM=e=>{var n,r,i,a,o;return t.createElement(t.Fragment,null,t.createElement(uM,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),t.createElement(dM,e))},fM={allowDataOverflow:XE.allowDataOverflow,allowDecimals:XE.allowDecimals,allowDuplicatedCategory:XE.allowDuplicatedCategory,hide:!1,mirror:XE.mirror,orientation:XE.orientation,padding:XE.padding,reversed:XE.reversed,scale:XE.scale,tickCount:XE.tickCount,type:XE.type,width:XE.width,yAxisId:0};class pM extends t.Component{render(){return t.createElement(hM,this.props)}}lM(pM,"displayName","YAxis"),lM(pM,"defaultProps",fM);var mM=n(7950);function gM(){return gM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gM.apply(null,arguments)}function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(t){bM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wM(e){return Array.isArray(e)&&hm(e[0])&&hm(e[1])?e.join(" ~ "):e}var xM=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:i={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=vM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=vM({margin:0},a),g=!bm(d),y=g?d:"",v=rm("recharts-default-tooltip",c),b=rm("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(y=h(d,o));var w=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",gM({className:v,style:p},w),t.createElement("p",{className:b,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(o&&o.length){var e=(l?yb()(o,l):o).map((e,r)=>{if("none"===e.type)return null;var a=e.formatter||s||wM,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,r,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=vM({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},hm(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,hm(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},kM="recharts-tooltip-wrapper",SM={visibility:"hidden"};function _M(e){var{coordinate:t,translateX:n,translateY:r}=e;return rm(kM,{["".concat(kM,"-right")]:dm(n)&&t&&dm(t.x)&&n>=t.x,["".concat(kM,"-left")]:dm(n)&&t&&dm(t.x)&&n<t.x,["".concat(kM,"-bottom")]:dm(r)&&t&&dm(t.y)&&r>=t.y,["".concat(kM,"-top")]:dm(r)&&t&&dm(t.y)&&r<t.y})}function AM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&dm(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(t){CM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jM extends t.PureComponent{constructor(){super(...arguments),CM(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),CM(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=AM({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=AM({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):SM,{cssProperties:t,cssClasses:_M({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),w=y?{}:NM(NM({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=NM(NM({},w),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:x,ref:g},a)}}var TM=n(4332),IM=n.n(TM);function PM(e,t,n){return!0===t?IM()(e,n):"function"===typeof t?IM()(e,t):e}var OM,MM,DM,RM,LM,zM,FM,UM,BM,VM,HM,GM,WM,qM;function YM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),i=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),i={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(i.height-n.height)>1||Math.abs(i.left-n.left)>1||Math.abs(i.top-n.top)>1||Math.abs(i.width-n.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,i]}function XM(){}function KM(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function QM(e){this._context=e}function ZM(e){this._context=e}function JM(e){this._context=e}QM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:KM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:KM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ZM.prototype={areaStart:XM,areaEnd:XM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:KM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:KM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class $M{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function eD(e){this._context=e}function tD(e){this._context=e}function nD(e){return new tD(e)}function rD(e){return e<0?-1:1}function iD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(rD(a)+rD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function aD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function oD(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function sD(e){this._context=e}function lD(e){this._context=new cD(e)}function cD(e){this._context=e}function uD(e){this._context=e}function dD(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function hD(e,t){this._context=e,this._t=t}function fD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}eD.prototype={areaStart:XM,areaEnd:XM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},tD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},sD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oD(this,this._t0,aD(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,oD(this,aD(this,n=iD(this,e,t)),n);break;default:oD(this,this._t0,n=iD(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(lD.prototype=Object.create(sD.prototype)).point=function(e,t){sD.prototype.point.call(this,t,e)},cD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=dD(e),i=dD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},hD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const pD=Math.PI,mD=2*pD,gD=1e-6,yD=mD-gD;function vD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class bD{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?vD:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return vD;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(OM||(OM=fD(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(MM||(MM=fD(["Z"]))))}lineTo(e,t){this._append(DM||(DM=fD(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(RM||(RM=fD(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(LM||(LM=fD(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(zM||(zM=fD(["M",",",""])),this._x1=e,this._y1=t);else if(d>gD)if(Math.abs(u*s-l*c)>gD&&i){let h=n-a,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((pD-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>gD&&this._append(UM||(UM=fD(["L",",",""])),e+b*c,t+b*u),this._append(BM||(BM=fD(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+w*s,this._y1=t+w*l)}else this._append(FM||(FM=fD(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(VM||(VM=fD(["M",",",""])),l,c):(Math.abs(this._x1-l)>gD||Math.abs(this._y1-c)>gD)&&this._append(HM||(HM=fD(["L",",",""])),l,c),n&&(d<0&&(d=d%mD+mD),d>yD?this._append(GM||(GM=fD(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>gD&&this._append(WM||(WM=fD(["A",",",",0,",",",",",",",""])),n,n,+(d>=pD),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(qM||(qM=fD(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function wD(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new bD(t)}function xD(e){return e[0]}function kD(e){return e[1]}function SD(e,t){var n=kb(!0),r=null,i=nD,a=null,o=wD(s);function s(s){var l,c,u,d=(s=xb(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?xD:kb(e),t="function"===typeof t?t:void 0===t?kD:kb(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:kb(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:kb(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:kb(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function _D(e,t,n){var r=null,i=kb(!0),a=null,o=nD,s=null,l=wD(c);function c(c){var u,d,h,f,p,m=(c=xb(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return SD().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?xD:kb(+e),t="function"===typeof t?t:kb(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?kD:kb(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:kb(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:kb(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:kb(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:kb(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:kb(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:kb(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:kb(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function AD(){return AD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AD.apply(null,arguments)}function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ND(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(t){CD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jD={curveBasisClosed:function(e){return new ZM(e)},curveBasisOpen:function(e){return new JM(e)},curveBasis:function(e){return new QM(e)},curveBumpX:function(e){return new $M(e,!0)},curveBumpY:function(e){return new $M(e,!1)},curveLinearClosed:function(e){return new eD(e)},curveLinear:nD,curveMonotoneX:function(e){return new sD(e)},curveMonotoneY:function(e){return new lD(e)},curveNatural:function(e){return new uD(e)},curveStep:function(e){return new hD(e,.5)},curveStepAfter:function(e){return new hD(e,1)},curveStepBefore:function(e){return new hD(e,0)}},TD=e=>RA(e.x)&&RA(e.y),ID=e=>e.x,PD=e=>e.y,OD=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(wm(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?jD[n]||nD:jD["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=o?r.filter(TD):r;if(Array.isArray(i)){var c=o?i.filter(e=>TD(e)):i,u=l.map((e,t)=>ND(ND({},e),{},{base:c[t]}));return(t="vertical"===a?_D().y(PD).x1(ID).x0(e=>e.base.x):_D().x(ID).y1(PD).y0(e=>e.base.y)).defined(TD).curve(s),t(u)}return(t="vertical"===a&&dm(i)?_D().y(PD).x1(ID).x0(i):dm(i)?_D().x(ID).y1(PD).y0(i):SD().x(ID).y(PD)).defined(TD).curve(s),t(l)},MD=e=>{var{className:n,points:r,path:i,pathRef:a}=e;if((!r||!r.length)&&!i)return null;var o=r&&r.length?OD(e):i;return t.createElement("path",AD({},TI(e),EI(e),{className:rm("recharts-curve",n),d:null===o?void 0:o,ref:a}))},DD=["x","y","top","left","width","height","className"];function RD(){return RD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RD.apply(null,arguments)}function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FD=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),UD=e=>{var{x:n=0,y:r=0,top:i=0,left:a=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,DD),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(t){zD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:i,left:a,width:o,height:s},c);return dm(n)&&dm(r)&&dm(o)&&dm(s)&&dm(i)&&dm(a)?t.createElement("path",RD({},LI(u,!0),{className:rm("recharts-cross",l),d:FD(n,r,o,s,i,a)})):null};var BD=n(4250),VD=n.n(BD),HD=1e-4,GD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WD=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),qD=(e,t)=>n=>{var r=GD(e,t);return WD(r,n)},YD=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=a[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=qD(e,t),d=qD(n,r),h=(l=e,c=t,e=>{var t=[...GD(l,c).map((e,t)=>e*t).slice(1),0];return WD(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<HD||a<HD)return d(n);n=f(n-i/a)}return d(n)};return p.isStepper=!1,p},XD=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YD(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*n)*r/1e3,s=a*r/1e3+e;return Math.abs(s-i)<HD&&Math.abs(o)<HD?[i,0]:[s,o]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return YD(e)}return"function"===typeof e?e:null};function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(n),!0).forEach(function(t){ZD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JD=(e,t)=>Object.keys(t).reduce((n,r)=>QD(QD({},n),{},{[r]:e(r,t[r])}),{});function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(t){tR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nR=(e,t,n)=>e+(t-e)*n,rR=e=>{var{from:t,to:n}=e;return t!==n},iR=(e,t,n)=>{var r=JD((t,n)=>{if(rR(n)){var[r,i]=e(n.from,n.to,n.velocity);return eR(eR({},n),{},{from:r,velocity:i})}return n},t);return n<1?JD((e,t)=>rR(t)?eR(eR({},t),{},{velocity:nR(t.velocity,r[e].velocity,n),from:nR(t.from,r[e].from,n)}):t,t):iR(e,r,n-1)};function aR(e,t,n,r,i,a){var o,s=r.reduce((n,r)=>eR(eR({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=iR(n,s,u),i(eR(eR(eR({},e),t),JD((e,t)=>t.from,s))),o=r,Object.values(s).filter(rR).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const oR=(e,t,n,r,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?aR(e,t,n,l,i,a):function(e,t,n,r,i,a,o){var s,l=null,c=i.reduce((n,r)=>eR(eR({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var d=(i-s)/r,h=JD((e,t)=>nR(...t,n(d)),c);if(a(eR(eR(eR({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=JD((e,t)=>nR(...t,n(1)),c);a(eR(eR(eR({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};class sR{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function lR(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new sR)}var cR=(0,t.createContext)(lR);function uR(e,n){var r=(0,t.useContext)(cR);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}var dR=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function hR(){return hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hR.apply(null,arguments)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(t){mR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class gR extends t.PureComponent{constructor(e,t){super(e,t),mR(this,"mounted",!1),mR(this,"manager",void 0),mR(this,"stopJSAnimation",null),mR(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:a,children:o,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"===typeof o&&(this.state={style:a}));if(i){if("function"===typeof o)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:a,from:o}=this.props,{style:s}=this.state;if(n)if(t){if(!(VD()(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?o:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(pR(pR({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:a}:a};this.state&&s&&(r&&s[r]!==a||!r&&s!==a)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:a,onAnimationEnd:o,onAnimationStart:s}=e,l=oR(t,n,XD(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,a,()=>{this.stopJSAnimation=l()},r,o])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:a,onAnimationStart:o,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof l&&"spring"!==a){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,a);this.manager.start([o,t,pR(pR({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dR),g=t.Children.count(n),y=this.state.style;if("function"===typeof n)return n(y);if(!s||0===g||i<=0)return n;var v=e=>{var{style:n={},className:r}=e.props;return(0,t.cloneElement)(e,pR(pR({},m),{},{style:pR(pR({},n),y),className:r}))};return 1===g?v(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,e=>v(e)))}}function yR(e){var n,r=uR(null!==(n=e.attributeName)&&void 0!==n?n:Object.keys(e.to).join(","),e.animationManager);return t.createElement(gR,hR({},e,{animationManager:r}))}function vR(){return vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vR.apply(null,arguments)}mR(gR,"displayName","Animate"),mR(gR,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var bR=(e,t,n,r,i)=>{var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},wR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xR=e=>{var n=mP(e,wR),r=(0,t.useRef)(null),[i,a]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var y=rm("recharts-rectangle",d);return g?t.createElement(yR,{canBegin:i>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:f,animationEasing:h,isActive:g},e=>{var{width:a,height:o,x:s,y:l}=e;return t.createElement(yR,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",vR({},LI(n,!0),{className:y,d:bR(s,l,a,o,u),ref:r})))}):t.createElement("path",vR({},LI(n,!0),{className:y,d:bR(o,s,l,c,u)}))};function kR(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[Ib(t,n,r,i),Ib(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function SR(){return SR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SR.apply(null,arguments)}var _R=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/jb,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Ib(t,n,c,d),circleTangency:Ib(t,n,r,d),lineTangency:Ib(t,n,c*Math.cos(u*jb),h),theta:u}},AR=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>lm(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=Ib(t,n,i,a),u=Ib(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=Ib(t,n,r,a),f=Ib(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},ER={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NR=e=>{var n=mP(e,ER),{cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(o<a||u===d)return null;var f,p=rm("recharts-sector",h),m=o-a,g=mm(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=lm(c-l),{circleTangency:d,lineTangency:h,theta:f}=_R({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=_R({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):AR({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:w,theta:x}=_R({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:S,theta:_}=_R({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(l-c):Math.abs(l-c)-x-_;if(A<0&&0===a)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(S.x,",").concat(S.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):AR({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",SR({},LI(n,!0),{className:p,d:f}))};function CR(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return kR(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Ib(s,l,c,d),f=Ib(s,l,u,d);r=h.x,i=h.y,a=f.x,o=f.y}return[{x:r,y:i},{x:a,y:o}]}function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(t){IR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PR=()=>{var e=mb(FE),t=mb(Cj),n=mb(Aj);return Qb(TR(TR({},e),{},{scale:n}),t)};function OR(){return OR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OR.apply(null,arguments)}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(t){RR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LR(e){var n,r,{coordinate:i,payload:a,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=i,p=a,m=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=UD;else if("BarChart"===h)n=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,s,l),r=xR;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:w}=kR(f);n={cx:g,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},r=NR}else n={points:CR(c,f,s)},r=MD;var x="object"===typeof u&&"className"in u?u.className:void 0,k=DR(DR(DR(DR({stroke:"#ccc",pointerEvents:"none"},s),n),LI(u,!1)),{},{payload:p,payloadIndex:m,className:rm("recharts-tooltip-cursor",x)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,k):(0,t.createElement)(r,k)}function zR(e){var n=PR(),r=yw(),i=kw(),a=mb(sE);return t.createElement(LR,OR({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:i,tooltipAxisBandSize:n,chartName:a}))}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(t){BR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VR(e){return e.dataKey}var HR=[],GR={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!kP,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function WR(e){var n=mP(e,GR),{active:r,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:x}=n,k=db(),S="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{k(Pv({shared:y,trigger:v,axisId:x,active:r,defaultIndex:S}))},[k,y,v,x,r,S]);var _=mw(),A=wI(),E=function(e){return mb(t=>RC(t,e))}(y),{activeIndex:N,isActive:C}=mb(e=>$j(e,E,v,S)),j=mb(e=>Jj(e,E,v,S)),T=mb(e=>Zj(e,E,v,S)),I=mb(e=>Qj(e,E,v,S)),P=j,O=(0,t.useContext)(eP),M=null!==r&&void 0!==r?r:C,[D,R]=YM([P,M]),L="axis"===E?T:void 0;$I(E,v,I,L,N,M);var z=null!==w&&void 0!==w?w:O;if(null==z)return null;var F=null!==P&&void 0!==P?P:HR;M||(F=HR),l&&F.length&&(F=PM(P.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,VR));var U=F.length>0,B=t.createElement(jM,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:c,active:M,coordinate:I,hasPayload:U,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:_,wrapperStyle:m,lastBoundingBox:D,innerRef:R,hasPortalFromProps:Boolean(w)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(xM,n)}(s,UR(UR({},n),{},{payload:F,label:L,active:M,coordinate:I,accessibilityLayer:A})));return t.createElement(t.Fragment,null,(0,mM.createPortal)(B,z),M&&t.createElement(zR,{cursor:g,tooltipEventType:E,coordinate:I,payload:P,index:N}))}Math.abs,Math.atan2;const qR=Math.cos,YR=(Math.max,Math.min,Math.sin),XR=Math.sqrt,KR=Math.PI,QR=2*KR;const ZR={draw(e,t){const n=XR(t/KR);e.moveTo(n,0),e.arc(0,0,n,0,QR)}},JR={draw(e,t){const n=XR(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},$R=XR(1/3),eL=2*$R,tL={draw(e,t){const n=XR(t/eL),r=n*$R;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nL={draw(e,t){const n=XR(t),r=-n/2;e.rect(r,r,n,n)}},rL=YR(KR/10)/YR(7*KR/10),iL=YR(QR/10)*rL,aL=-qR(QR/10)*rL,oL={draw(e,t){const n=XR(.8908130915292852*t),r=iL*n,i=aL*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=QR*a/5,o=qR(t),s=YR(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},sL=XR(3),lL={draw(e,t){const n=-XR(t/(3*sL));e.moveTo(0,2*n),e.lineTo(-sL*n,-n),e.lineTo(sL*n,-n),e.closePath()}},cL=-.5,uL=XR(3)/2,dL=1/XR(12),hL=3*(dL/2+1),fL={draw(e,t){const n=XR(t/hL),r=n/2,i=n*dL,a=r,o=n*dL+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(cL*r-uL*i,uL*r+cL*i),e.lineTo(cL*a-uL*o,uL*a+cL*o),e.lineTo(cL*s-uL*l,uL*s+cL*l),e.lineTo(cL*r+uL*i,cL*i-uL*r),e.lineTo(cL*a+uL*o,cL*o-uL*a),e.lineTo(cL*s+uL*l,cL*l-uL*s),e.closePath()}};XR(3),XR(3);var pL=["type","size","sizeType"];function mL(){return mL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mL.apply(null,arguments)}function gL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gL(Object(n),!0).forEach(function(t){vL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bL={symbolCircle:ZR,symbolCross:JR,symbolDiamond:tL,symbolSquare:nL,symbolStar:oL,symbolTriangle:lL,symbolWye:fL},wL=Math.PI/180,xL=e=>{var{type:n="circle",size:r=64,sizeType:i="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,pL),o=yL(yL({},a),{},{type:n,size:r,sizeType:i}),{className:s,cx:l,cy:c}=o,u=LI(o,!0);return l===+l&&c===+c&&r===+r?t.createElement("path",mL({},u,{className:rm("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(wm(e));return bL[t]||ZR})(n),t=function(e,t){let n=null,r=wD(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:kb(e||ZR),t="function"===typeof t?t:kb(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:kb(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:kb(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*wL;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,i,n));return t()})()})):null};function kL(){return kL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kL.apply(null,arguments)}function SL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xL.registerSymbol=(e,t)=>{bL["symbol".concat(wm(e))]=t};var AL=32;class EL extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=16,a=AL/6,o=AL/3,s=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:AL,y2:i,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,"\n            H").concat(AL,"M").concat(2*o,",").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(AL,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SL(Object(n),!0).forEach(function(t){_L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(xL,{fill:s,cx:i,cy:i,size:AL,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:AL,height:AL},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||i,d=rm({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?a:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",kL({className:d,style:l,key:"legend-item-".concat(r)},NI(this.props,e,r)),t.createElement(UI,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}_L(EL,"displayName","Legend"),_L(EL,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var NL=["contextPayload"];function CL(){return CL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CL.apply(null,arguments)}function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(t){IL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PL(e){return e.value}function OL(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,NL),i=PM(n,e.payloadUniqBy,PL),a=TL(TL({},r),{},{payload:i});return t.isValidElement(e.content)?t.cloneElement(e.content,a):"function"===typeof e.content?t.createElement(e.content,a):t.createElement(EL,a)}function ML(e){var n=db();return(0,t.useEffect)(()=>{n(UT(e))},[n,e]),null}function DL(e){var n=db();return(0,t.useEffect)(()=>(n(FT(e)),()=>{n(FT({width:0,height:0}))}),[n,e]),null}function RL(e){var n=mb(bb),r=(0,t.useContext)(tP),i=(()=>{var e;return null!==(e=mb(e=>e.layout.margin))&&void 0!==e?e:ww})(),{width:a,height:o,wrapperStyle:s,portal:l}=e,[c,u]=YM([n]),d=vw(),h=bw(),f=d-(i.left||0)-(i.right||0),p=LL.getWidthOrHeight(e.layout,o,a,f),m=l?s:TL(TL({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||a||"auto",height:(null===p||void 0===p?void 0:p.height)||o||"auto"},function(e,t,n,r,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),TL(TL({},o),s)}(s,e,i,d,h,c)),s),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(ML,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(DL,{width:c.width,height:c.height}),t.createElement(OL,CL({},e,p,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,mM.createPortal)(y,g)}class LL extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&dm(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(RL,this.props)}}function zL(){return zL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zL.apply(null,arguments)}IL(LL,"displayName","Legend"),IL(LL,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var FL=e=>{var{cx:n,cy:r,r:i,className:a}=e,o=rm("recharts-dot",a);return n===+n&&r===+r&&i===+i?t.createElement("circle",zL({},TI(e),EI(e),{className:o,cx:n,cy:r,r:i})):null},UL=n(356),BL=n.n(UL),VL=["valueAccessor"],HL=["data","dataKey","clockWise","id","textBreakAll"];function GL(){return GL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GL.apply(null,arguments)}function WL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WL(Object(n),!0).forEach(function(t){YL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var KL=e=>Array.isArray(e.value)?BL()(e.value):e.value;function QL(e){var{valueAccessor:n=KL}=e,r=XL(e,VL),{data:i,dataKey:a,clockWise:o,id:s,textBreakAll:l}=r,c=XL(r,HL);return i&&i.length?t.createElement(WP,{className:"recharts-label-list"},i.map((e,r)=>{var i=bm(a)?n(e,r):Fb(e&&e.payload,a),u=bm(s)?{}:{id:"".concat(s,"-").concat(r)};return t.createElement(SO,GL({},LI(e,!0),c,u,{parentViewBox:e.parentViewBox,value:i,textBreakAll:l,viewBox:SO.parseViewBox(bm(o)?e:qL(qL({},e),{},{clockWise:o})),key:"label-".concat(r),index:r}))})):null}function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(t){$L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}QL.displayName="LabelList",QL.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:i}=e,a=DI(i,QL).map((e,r)=>(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)}));return r?[function(e,n){return e?!0===e?t.createElement(QL,{key:"labelList-implicit",data:n}):t.isValidElement(e)||xO(e)?t.createElement(QL,{key:"labelList-implicit",data:n,content:e}):"object"===typeof e?t.createElement(QL,GL({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n),...a]:a};function ez(e){var{points:n,mainColor:r,activeDot:i,itemDataKey:a}=e,o=mb(Oj),s=mb(Bj);if(null==n||null==s)return null;var l=n.find(e=>s.includes(e.payload));return bm(l)?null:(e=>{var{point:n,childIndex:r,mainColor:i,activeDot:a,dataKey:o}=e;if(!1===a||null==n.x||null==n.y)return null;var s,l=JL(JL({index:r,dataKey:o,cx:n.x,cy:n.y,r:4,fill:null!==i&&void 0!==i?i:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},LI(a,!1)),EI(a));return s=(0,t.isValidElement)(a)?(0,t.cloneElement)(a,l):"function"===typeof a?a(l):t.createElement(FL,l),t.createElement(WP,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:i})}function tz(e){var{fn:n,args:r}=e,i=db(),a=hw();return(0,t.useEffect)(()=>{if(!a){var e=n(r);return i(Tv(e)),()=>{i(Iv(e))}}},[n,r,i,a]),null}var nz=["children"];var rz={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iz=(0,t.createContext)(rz);function az(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nz);return t.createElement(iz.Provider,{value:r},n)}function oz(e,t){var n,r,i=mb(t=>YE(t,e)),a=mb(e=>KE(e,t)),o=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:qE.allowDataOverflow,s=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:XE.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function sz(e){var{xAxisId:n,yAxisId:r,clipPathId:i}=e,a=lP(),{needClipX:o,needClipY:s,needClip:l}=oz(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return t.createElement("clipPath",{id:"clipPath-".concat(i)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}var lz=(e,t,n,r)=>TC(e,"xAxis",t,r),cz=(e,t,n,r)=>jC(e,"xAxis",t,r),uz=(e,t,n,r)=>TC(e,"yAxis",n,r),dz=(e,t,n,r)=>jC(e,"yAxis",n,r),hz=ob([xw,lz,uz,cz,dz],(e,t,n,r,i)=>Ub(e,"xAxis")?Qb(t,r,!1):Qb(n,i,!1));function fz(e){return"line"===e.type}var pz,mz=ob([nN,(e,t,n,r,i)=>i],(e,t)=>e.filter(fz).find(e=>e.id===t)),gz=ob([xw,lz,uz,cz,dz,mz,hz,DA],(e,t,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=Fb(e,o);if("horizontal"===t)return{x:qb({axis:n,ticks:i,bandSize:s,entry:e,index:l}),y:bm(c)?null:r.scale(c),value:c,payload:e};var u=bm(c)?null:n.scale(c),d=qb({axis:r,ticks:a,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:d})}}),yz=()=>{};function vz(e){var{legendPayload:n}=e,r=db(),i=hw();return(0,t.useEffect)(()=>i?yz:(r(BT(n)),()=>{r(VT(n))}),[r,i,n]),null}var bz=null!==(pz=r["useId".toString()])&&void 0!==pz?pz:()=>{var[e]=t.useState(()=>pm("uid-"));return e};var wz=(0,t.createContext)(void 0),xz=e=>{var{id:n,type:r,children:i}=e,a=function(e,t){var n=bz();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(wz.Provider,{value:a},i(a))};function kz(e){var n=db(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null===r.current?n(wT(e)):r.current!==e&&n(xT({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(kT(r.current)),r.current=null)},[n]),null}function Sz(){}var _z={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Az={t:0},Ez={t:1};function Nz(e){var n=mP(e,_z),{isActive:r,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=uR("JavascriptAnimate",n.animationManager),[h,f]=(0,t.useState)(r?Az:Ez),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(Ez)},[r]),(0,t.useEffect)(()=>{if(!r||!i)return Sz;var e=oR(Az,Ez,XD(o),a,f,d.getTimeoutController());return d.start([c,s,()=>{p.current=e()},a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,i,a,o,s,c,l,d]),u(h.t)}var Cz=["id"],jz=["type","layout","connectNulls","needClip"],Tz=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Iz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iz(Object(n),!0).forEach(function(t){Oz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dz(){return Dz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dz.apply(null,arguments)}var Rz=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Jb(n,t),payload:e}]};function Lz(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Jb(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var zz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Fz(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function Uz(e){var{clipPathId:n,points:r,props:i}=e,{dot:a,dataKey:o,needClip:s}=i;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,a))return null;var{id:l}=i,c=Mz(i,Cz),u=RI(a),d=TI(c),h=LI(a,!0),f=r.map((e,n)=>{var i=Pz(Pz(Pz({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:r});return function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var i=rm("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(FL,Dz({},n,{className:i}))}return r}(a,i)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(n,")"):void 0};return t.createElement(WP,Dz({className:"recharts-line-dots",key:"dots"},p),f)}function Bz(e){var{clipPathId:n,pathRef:r,points:i,strokeDasharray:a,props:o,showLabels:s}=e,{type:l,layout:c,connectNulls:u,needClip:d}=o,h=Mz(o,jz),f=Pz(Pz({},LI(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(n,")"):void 0,points:i,type:l,layout:c,connectNulls:u,strokeDasharray:null!==a&&void 0!==a?a:o.strokeDasharray});return t.createElement(t.Fragment,null,(null===i||void 0===i?void 0:i.length)>1&&t.createElement(MD,Dz({},f,{pathRef:r})),t.createElement(Uz,{points:i,clipPathId:n,props:o}),s&&QL.renderCallByParent(o,i))}function Vz(e){var{clipPathId:n,props:r,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=a.current,b=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(pm(n)),i=(0,t.useRef)(e);return i.current!==e&&(r.current=pm(n),i.current=e),r.current}(r,"recharts-line-"),[w,x]=(0,t.useState)(!1),k=(0,t.useCallback)(()=>{"function"===typeof g&&g(),x(!1)},[g]),S=(0,t.useCallback)(()=>{"function"===typeof y&&y(),x(!0)},[y]),_=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(i.current),A=o.current;return t.createElement(Nz,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:k,onAnimationStart:S,key:b},e=>{var c,u=ym(A,_+A,e),d=Math.min(u,_);if(l){var h="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return zz(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){s=[...n.slice(0,l),a-c];break}var u=s.length%2===0?[0,o]:[o];return[...Fz(n,i),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(d,_,h)}else c=zz(_,d);if(v){var g=v.length/s.length,y=1===e?s:s.map((t,n)=>{var r=Math.floor(n*g);if(v[r]){var i=v[r];return Pz(Pz({},t),{},{x:ym(i.x,t.x,e),y:ym(i.y,t.y,e)})}return Pz(Pz({},t),{},f?{x:ym(2*p,t.x,e),y:ym(m/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=y,t.createElement(Bz,{props:r,points:y,clipPathId:n,pathRef:i,showLabels:!w,strokeDasharray:c})}return e>0&&_>0&&(a.current=s,o.current=d),t.createElement(Bz,{props:r,points:s,clipPathId:n,pathRef:i,showLabels:!w,strokeDasharray:c})})}function Hz(e){var{clipPathId:n,props:r}=e,{points:i,isAnimationActive:a}=r,o=(0,t.useRef)(null),s=(0,t.useRef)(0),l=(0,t.useRef)(null),c=o.current;return a&&i&&i.length&&c!==i?t.createElement(Vz,{props:r,clipPathId:n,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):t.createElement(Bz,{props:r,points:i,clipPathId:n,pathRef:l,showLabels:!0})}var Gz=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Fb(e.payload,t)});class Wz extends t.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f}=this.props;if(n)return null;var p=rm("recharts-line",a),m=h,{r:g=3,strokeWidth:y=2}=null!==(e=LI(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},v=RI(r),b=2*g+y;return t.createElement(t.Fragment,null,t.createElement(WP,{className:p},f&&t.createElement("defs",null,t.createElement(sz,{clipPathId:m,xAxisId:o,yAxisId:s}),!v&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),t.createElement(Hz,{props:this.props,clipPathId:m}),t.createElement(az,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:Gz,errorBarOffset:0},this.props.children)),t.createElement(ez,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var qz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!kP,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Yz(e){var n=mP(e,qz),{activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=n,y=Mz(n,Tz),{needClip:v}=oz(p,m),b=lP(),w=kw(),x=hw(),k=mb(e=>gz(e,p,m,x,g));if("horizontal"!==w&&"vertical"!==w||null==k||null==b)return null;var{height:S,width:_,x:A,y:E}=b;return t.createElement(Wz,Dz({},y,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:k,layout:w,height:S,width:_,left:A,top:E,needClip:v}))}function Xz(e){var n=mP(e,qz),r=hw();return t.createElement(xz,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(vz,{legendPayload:Rz(n)}),t.createElement(tz,{fn:Lz,args:n}),t.createElement(kz,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(Yz,Dz({},n,{id:e}))))}Xz.displayName="Line";const Kz=n.p+"static/media/Cockpit_View.dfadb0351a894773f593.png",Qz=n.p+"static/media/Starmap_Select_Background.553728c6d5e2cb8cc1d2.png",Zz=n.p+"static/media/planet_1.6130d658fa08519167dc.png",Jz=n.p+"static/media/planet_2.519ec87b9662bc976c0a.png",$z=(n.p,n.p+"static/media/planet_4.c115be88b73a9f413790.png"),eF=n.p+"static/media/planet_5.4af4c00eb4888baa06e0.png",tF=n.p+"static/media/planet_6.73ceaa54a7b8506fedf7.png",nF=n.p+"static/media/planet_7.1fae756979ccafca4d3d.png",rF=n.p+"static/media/planet_8.d8cea8a2467870e44707.png",iF=n.p+"static/media/planet_9.9b60f350be03bb11f738.png",aF=n.p+"static/media/planet_10.7175b844a6681bf4d662.png",oF=n.p+"static/media/Animated_Starfield.54df6273ed1fa74e10ff.mp4",sF=(n.p,n.p+"static/media/spaceship.b4050948d737d6f1a2a9.png"),lF=(n.p,n.p+"static/media/Wingmen_icon_sheet.7d1a33d33c7e8319640a.png"),cF=n.p+"static/media/AlchemyLabIndoors.a9e13d7c216ec43457a2.png",uF=n.p+"static/media/cauldron.bb5a07b27ef496c3bde2.png",dF=n.p+"static/media/AlchemyLabOutdoors.724566ea7ab4f37a0a51.png",hF=n.p+"static/media/Carroticon.b491340a4cdfbf84f524.png",fF=n.p+"static/media/ChamomileLeavesicon.d892e324f26ebdc70449.png",pF=n.p+"static/media/driedroseicon.742c0ccb51e2fe2d2f95.png",mF=(n.p,n.p+"static/media/OysterMushroomicon.6d93d10a1961f453e5d5.png"),gF=(n.p,n.p,n.p+"static/media/spinachicon.d3c74be153db516300ac.png"),yF=n.p+"static/media/Sunflowericon.98a6c219e08de1d79956.png";n.p;var vF=n(579);const bF=["id"],wF=["front","back"],xF=e=>(console.log("%c[Firestore READ]","color: #34d399; font-weight: bold;",{path:e.path}),console.trace("Trace for Read"),function(e){e=Ya(e,zf);const t=Ya(e.firestore,qf);return Cf(Yf(t),e._key).then(n=>Kp(t,e,n))}(e)),kF=(e,t)=>(console.log("%c[Firestore WRITE (Add)]","color: #60a5fa; font-weight: bold;",{path:e.path,data:t}),console.trace("Trace for Write (Add)"),function(e,t){const n=Ya(e.firestore,qf),r=Bf(e),i=Fp(e.converter,t);return Xp(n,[sp(op(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,uc.exists(!1))]).then(()=>r)}(e,t)),SF=(e,t,n)=>(console.log("%c[Firestore WRITE (Set)]","color: #facc15; font-weight: bold;",{path:e.path,data:t,options:n}),console.trace("Trace for Write (Set)"),function(e,t,n){e=Ya(e,zf);const r=Ya(e.firestore,qf),i=Fp(e.converter,t,n);return Xp(r,[sp(op(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,uc.none())])}(e,t,n)),_F=(e,t)=>(console.log("%c[Firestore WRITE (Update)]","color: #f97316; font-weight: bold;",{path:e.path,data:t}),console.trace("Trace for Write (Update)"),function(e,t,n){e=Ya(e,zf);const r=Ya(e.firestore,qf),i=op(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=B(t))||t instanceof Qf?hp(i,"updateDoc",e._key,t,n,s):dp(i,"updateDoc",e._key,t),Xp(r,[a.toMutation(e._key,uc.exists(!0))])}(e,t)),AF=e=>{return console.log("%c[Firestore WRITE (Delete)]","color: #ef4444; font-weight: bold;",{path:e.path}),console.trace("Trace for Write (Delete)"),Xp(Ya((t=e).firestore,qf),[new Sc(t._key,uc.none())]);var t},EF=e=>(console.log("%c[Firestore READ (Query)]","color: #34d399; font-weight: bold;",{query:e}),console.trace("Trace for Read (Query)"),function(e){e=Ya(e,Lf);const t=Ya(e.firestore,qf),n=Yf(t),r=new qp(t);return Ep(e._query),jf(n,e._query).then(n=>new Gp(t,r,e,n))}(e)),NF=(e,t)=>(console.log("%c[Firestore READ (Listen)]","color: #c084fc; font-weight: bold;",{path:e.path}),console.trace("Trace for Read (Listen)"),Yp(e,t)),CF=(e,t)=>(console.log("%c[Firestore TRANSACTION]","color: #ec4899; font-weight: bold;","Starting transaction..."),console.trace("Trace for Transaction"),function(e,t,n){e=Ya(e,qf);const r=u(u({},Qp),n);return function(e){if(e.maxAttempts<1)throw new va(ya.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ba;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Ef(e);new vf(e.asyncQueue,i,n,t,r).ju()}),r.promise}(Yf(e),n=>t(new $p(e,n)),r)}(e,t));console.log("Is my Project ID loading?","assignment-tracker-d2dc2");const jF="default-app-id",TF={apiKey:"AIzaSyCsx6RHun1exNzs-ihuwXGpsnJGR4jQMW8",authDomain:"assignment-tracker-d2dc2.firebaseapp.com",projectId:"assignment-tracker-d2dc2",storageBucket:"assignment-tracker-d2dc2.firebasestorage.app",messagingSenderId:"382969075357",appId:"1:382969075357:web:ee7194ec6c12a8faece674",measurementId:"G-47D2YMVQN3"};let IF,PF,OF;TF.projectId&&"your-project-id-here"!==TF.projectId?(IF=rt(TF),PF=function(e,t){const n="object"==typeof e?e:it(),r="string"==typeof e?e:t||ms,i=Je(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(()=>{const e=v("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&Rf(i,...e)}return i}(IF),OF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();const t=Je(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Je(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(M(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;_t(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ri,persistence:[qr,Er,Ir]}),r=w("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ui)return;const r=null===t||void 0===t?void 0:t.token;Bi!==r&&(Bi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){B(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){B(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=v("auth");return a&&qn(n,"http://".concat(a)),n}(IF),console.log('[Firebase Diagnostics] App initialized for project ID: "'.concat(TF.projectId,'". Please verify this is correct in your Google Cloud Console.'))):console.error("[Firebase Diagnostics] Firebase config is missing or using a placeholder Project ID. Please check your .env.local file.");const MF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const r=document.getElementById("messageBox"),i=document.getElementById("messageText");r&&i&&(i.textContent=e,r.className="fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform ".concat("error"===t?"bg-red-500 text-white":"bg-blue-500 text-white"," translate-y-0 opacity-100"),setTimeout(()=>{r.className="fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-y-full opacity-0"},n))},DF={avatars:[{id:"avatar_star",name:"Star Pupil",type:"avatar",display:"\ud83c\udf1f",rarity:"common",placeholder:"https://avatarfiles.alphacoders.com/364/thumb-1920-364190.png"},{id:"avatar_brain",name:"Brainiac",type:"avatar",display:"\ud83e\udde0",rarity:"common",placeholder:"https://media.istockphoto.com/photos/male-brain-picture-id462459425?k=6&m=462459425&s=612x612&w=0&h=3Gz2Umdfe8JjTX6lyfBvU707pzo610et6icnA8_xAuM="},{id:"avatar_rocket",name:"Rocket Learner",type:"avatar",display:"\ud83d\ude80",rarity:"rare",placeholder:"https://tse4.mm.bing.net/th/id/OIP.nZ9698V3hFFNkGK0QJ5iOAHaFW?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_owl",name:"Wise Owl",type:"avatar",display:"\ud83e\udd89",rarity:"common",placeholder:"https://wallpaperaccess.com/full/156003.jpg"},{id:"avatar_robot",name:"Efficient Bot",type:"avatar",display:"\ud83e\udd16",rarity:"rare",placeholder:"https://wallpaperaccess.com/full/1224636.jpg"},{id:"avatar_genius",name:"Genius Mind",type:"avatar",display:"\ud83d\udca1",rarity:"rare",placeholder:"https://is.zobj.net/image-server/v1/images?r=eHDomy1YZ1FrW7ojzlmZmq0NuHjZJVQvvNBgi0dbsJo5k2H9UnazK8si3m1pUUudk2YjTG9EMxDuQKaWKy5QA0OEONAX0WdoENitTVAAl71hADqs5D36GElxGc6W-t8eZFWxQKLwRBUFJykponxzbq5PA5YpjPTupu9eZgTu_yjSv7g9tXyAZgjwUixrW-rrRMjSb7q3qJ-U4AHpKskwaSFVylSRDRuTV21eC62hkJJqDQ5n1SrRX7W7ubw"},{id:"avatar_cat",name:"Purrfect Student",type:"avatar",display:"\ud83d\udc31",rarity:"common",placeholder:"https://tse2.mm.bing.net/th/id/OIP.9k51CV49PTWmHkkBg-LdFwHaHa?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_dog",name:"Loyal Companion",type:"avatar",display:"\ud83d\udc36",rarity:"common",placeholder:"https://th.bing.com/th/id/R.4475147aa7d62435c1927ffb8939d122?rik=Jx0WLCZbrcMZLg&pid=ImgRaw&r=0"},{id:"avatar_dragon",name:"Mythic Scholar",type:"avatar",display:"\ud83d\udc09",rarity:"epic",placeholder:"https://avatarfiles.alphacoders.com/375/375300.png"},{id:"avatar_unicorn",name:"Magical Thinker",type:"avatar",display:"\ud83e\udd84",rarity:"epic",placeholder:"https://static.vecteezy.com/system/resources/previews/017/047/818/original/cute-unicorn-illustration-unicorn-kawaii-chibi-drawing-style-unicorn-cartoon-vector.jpg"},{id:"avatar_fox",name:"Clever Fox",type:"avatar",display:"\ud83e\udd8a",rarity:"rare",placeholder:"https://tse1.explicit.bing.net/th/id/OIP.DO8TDZQv0qYnE_7RgCsYBQHaHa?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_panda",name:"Zen Master",type:"avatar",display:"\ud83d\udc3c",rarity:"common",placeholder:"https://tse4.mm.bing.net/th/id/OIP.735_5CnTHUFnq3EJ5AEYcgHaHZ?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_lion",name:"Bold Leader",type:"avatar",display:"\ud83e\udd81",rarity:"rare",placeholder:"https://wallpaperaccess.com/full/1137900.jpg"},{id:"avatar_koala",name:"Chill Learner",type:"avatar",display:"\ud83d\udc28",rarity:"common",placeholder:"https://i.pinimg.com/736x/d0/96/45/d096459c7d33f928c1884b838d76901b.jpg"},{id:"avatar_tiger",name:"Fierce Focus",type:"avatar",display:"\ud83d\udc2f",rarity:"rare",placeholder:"https://avatarfiles.alphacoders.com/372/thumb-1920-372778.png"},{id:"avatar_bear",name:"Strong Foundation",type:"avatar",display:"\ud83d\udc3b",rarity:"common",placeholder:"https://i.pinimg.com/474x/cc/ea/6e/ccea6e6f248de50f296154ec95be9e76.jpg?nii=t"}],banners:[{id:"banner_gradient_blue",name:"Blue Gradient",type:"banner",style:"bg-gradient-to-r from-blue-400 to-purple-500 text-white",rarity:"rare",themeColors:{primary:"#60a5fa",accent:"#a78bfa",text:"#ffffff"},placeholder:"https://th.bing.com/th/id/R.3e6aed2b8eb249ec7b4a25559df7a6e6?rik=qIS4fr0qtZHNrg&riu=http%3a%2f%2fgetwallpapers.com%2fwallpaper%2ffull%2f6%2fe%2fe%2f101557.jpg&ehk=98AjuwsmwgYC1gbZKC8Rd0WY%2bi0AHMINFBKwbXuMXMU%3d&risl=&pid=ImgRaw&r=0"},{id:"banner_confetti",name:"Confetti Burst",type:"banner",style:"bg-yellow-200 text-gray-800",rarity:"common",placeholder:"https://tse1.mm.bing.net/th/id/OIP.3eHpbJthJIkcUFgEXWfb0QHaE4?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"banner_geometric",name:"Geometric Pattern",type:"banner",style:"bg-teal-200 text-gray-800",rarity:"common",placeholder:"https://wallpaperaccess.com/full/3223142.jpg"},{id:"banner_dark_forest",name:"Dark Forest",type:"banner",style:"bg-green-800 text-white",rarity:"rare",themeColors:{primary:"#16a34a",accent:"#4ade80",text:"#ffffff"},placeholder:"https://tse4.mm.bing.net/th/id/OIP.-EJUaTZ_O73RH6LI7rYBcwAAAA?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"banner_rainbow",name:"Rainbow Glow",type:"banner",style:"bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500 text-white",rarity:"rare",placeholder:"https://th.bing.com/th/id/OIP.hcBH5l3XrU1sXVp0b-jIgAHaEo?w=289&h=180&c=7&r=0&o=7&pid=1.7&rm=3"},{id:"banner_sunset",name:"Sunset Hues",type:"banner",style:"bg-gradient-to-r from-orange-400 to-red-500 text-white",rarity:"common",themeColors:{primary:"#f97316",accent:"#ef4444",text:"#ffffff"},placeholder:"https://th.bing.com/th/id/R.f0d7a60a2efd30f950b6d4f865c42fa3?rik=W2rmzfUrr7zarA&pid=ImgRaw&r=0&sres=1&sresct=1"},{id:"banner_ocean",name:"Deep Ocean",type:"banner",style:"bg-gradient-to-r from-blue-700 to-cyan-500 text-white",rarity:"rare",placeholder:"https://th.bing.com/th/id/OIP.2A_RSlYMWxE289IuTWsDTgHaCt?w=330&h=127&c=7&r=0&o=7&pid=1.7&rm=3"},{id:"banner_galaxy",name:"Stellar Galaxy",type:"banner",style:"bg-gradient-to-r from-gray-900 to-indigo-900 text-white",rarity:"epic",themeColors:{primary:"#4f46e5",accent:"#c084fc",text:"#ffffff"},placeholder:"https://tse4.mm.bing.net/th/id/OIP.B9LC-h4DwC7HqGh5Glkf1AHaCx?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"banner_spring",name:"Spring Blossom",type:"banner",style:"bg-pink-200 text-gray-800",rarity:"common",placeholder:"https://th.bing.com/th/id/OIP.qK_E2DAamuQBCbPhfwvIagHaCU?w=300&h=109&c=7&r=0&o=7&pid=1.7&rm=3"},{id:"banner_autumn",name:"Autumn Leaves",type:"banner",style:"bg-orange-600 text-white",rarity:"common",placeholder:"https://th.bing.com/th/id/OIP.tcuASdYo4L4-v4qsl8jWDwHaDF?w=331&h=145&c=7&r=0&o=5&pid=1.7"},{id:"banner_winter",name:"Winter Wonderland",type:"banner",style:"bg-blue-100 text-blue-800",rarity:"rare",placeholder:"https://png.pngtree.com/background/20210715/original/pngtree-winter-landscape-dreamy-banner-background-with-snowflakes-picture-image_1300439.jpg"},{id:"banner_lava",name:"Volcanic Flow",type:"banner",style:"bg-gradient-to-r from-red-800 to-yellow-600 text-white",rarity:"epic",themeColors:{primary:"#dc2626",accent:"#f59e0b",text:"#ffffff"},placeholder:"https://img.freepik.com/premium-photo/abstract-background-fire-volcanoes-lava-illustration-banner-design-showcasing-raw-energy-molten-lava-fire-volcanoes-against-captivating-background-generative-ai_198565-7386.jpg"},{id:"banner_cyber",name:"Cyber Grid",type:"banner",style:"bg-gray-800 text-green-400",rarity:"rare",themeColors:{primary:"#2dd4bf",accent:"#6ee7b7",text:"#ffffff"},placeholder:"https://static.vecteezy.com/system/resources/previews/013/446/271/large_2x/digital-technology-banner-green-blue-background-cyber-technology-circuit-abstract-binary-tech-innovation-future-data-internet-network-ai-big-data-futuristic-wifi-connection-illustration-vector.jpg"},{id:"banner_retro",name:"Retro Wave",type:"banner",style:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",rarity:"rare",placeholder:"https://static.vecteezy.com/system/resources/previews/003/818/278/original/vintage-sun-retro-banner-background-colourful-grunge-sunburst-illustration-vector.jpg"},{id:"banner_tech",name:"Circuit Board",type:"banner",style:"bg-gray-700 text-cyan-400",rarity:"epic",placeholder:"https://as1.ftcdn.net/v2/jpg/01/41/83/86/1000_F_141838647_aKYhGVqL5a0Ynq9IYcKboe9iuzfA0OHQ.jpg"},{id:"banner_forest_path",name:"Forest Path",type:"banner",style:"bg-green-600 text-white",rarity:"common",placeholder:"https://tse2.mm.bing.net/th/id/OIP.XkqF76yi65wRg7Pln-DqpAHaDt?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"}],backgrounds:[{id:"bg_clouds",name:"Cloudy Sky",type:"background",style:"bg-blue-100",rarity:"common",placeholder:"https://th.bing.com/th/id/R.f690668f8e85ad6fdc21e81d7d0538a9?rik=Ma4pIqjZcWiA5w&riu=http%3a%2f%2fwww.pixelstalk.net%2fwp-content%2fuploads%2f2016%2f05%2fDesktop-Sky-Wallpapers-High-Resolution.jpg&ehk=Lw0FiErzf7ABoZjpB7jwvkd3s8EwXhNNMQW92f9%2bPR8%3d&risl=&pid=ImgRaw&r=0"},{id:"bg_stars",name:"Starry Night",type:"background",style:"bg-gray-900 text-white",rarity:"rare",placeholder:"https://tse1.mm.bing.net/th/id/OIP.yGsjLeStOYwvV-1HHi_rlwHaEK?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_forest",name:"Green Forest",type:"background",style:"bg-green-100",rarity:"common",placeholder:"https://th.bing.com/th/id/R.f40fe88aa1ab108ea55cde6e20ccb1ee?rik=rUnTCCLAYJuK0A&riu=http%3a%2f%2fwallpapercave.com%2fwp%2frlTrbyc.jpg&ehk=Dn1l8qh7JJ5oNmrVX7OJuUJZWBJXF40nNzkaVWrNZpw%3d&risl=&pid=ImgRaw&r=0"},{id:"bg_city",name:"Cityscape",type:"background",style:"bg-gray-300",rarity:"rare",placeholder:"https://wallpaperaccess.com/full/1401593.jpg"},{id:"bg_desert",name:"Desert Dunes",type:"background",style:"bg-yellow-300",rarity:"common",placeholder:"https://th.bing.com/th/id/R.2c1f2e1eccc5aa422a90e00dc03c48f3?rik=w3blTpmcPdtJgA&pid=ImgRaw&r=0"},{id:"bg_snow",name:"Snowy Peaks",type:"background",style:"bg-white text-blue-800",rarity:"rare",placeholder:"https://wallpapercave.com/wp/YkLpZ3U.jpg"},{id:"bg_beach",name:"Tropical Beach",type:"background",style:"bg-cyan-200",rarity:"common",placeholder:"https://th.bing.com/th/id/R.5a627cccd33a20f249e6ff34e0e90abf?rik=wyTXz9qf0tDWuQ&riu=http%3a%2f%2fwallpapercave.com%2fwp%2fQGsncry.jpg&ehk=4LfhxKjnYKmjprvZpGFUZKBjTiRlXQYOmp1ihEOP17A%3d&risl=&pid=ImgRaw&r=0"},{id:"bg_space",name:"Deep Space",type:"background",style:"bg-black text-purple-200",rarity:"epic",placeholder:"https://wallpaperaccess.com/full/471779.jpg"},{id:"bg_library",name:"Cozy Library",type:"background",style:"bg-amber-100",rarity:"common",placeholder:"https://tse4.mm.bing.net/th/id/OIP.ObUZAdXjjcEPM-cKz2LQ7AHaEK?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_cafe",name:"Coffee Shop Vibes",type:"background",style:"bg-brown-100",rarity:"rare",placeholder:"https://tse4.mm.bing.net/th/id/OIP.MMXkdXq2IueY_waRIzZNIgHaEo?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_underwater",name:"Underwater Realm",type:"background",style:"bg-blue-900 text-cyan-300",rarity:"epic",placeholder:"https://th.bing.com/th/id/R.b4e380739b5b7c56cdcfe1e7f5245b2c?rik=sLspB9n8Ox5xkg&pid=ImgRaw&r=0"},{id:"bg_mountain",name:"Mountain View",type:"background",style:"bg-green-700 text-gray-100",rarity:"rare",placeholder:"https://tse3.mm.bing.net/th/id/OIP.8MQaDvFKKT0lSxS2H5vHfQHaEK?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_volcano",name:"Volcanic Landscape",type:"background",style:"bg-red-900 text-orange-400",rarity:"epic",placeholder:"https://wallpapercave.com/wp/wp5814571.jpg"},{id:"bg_aurora",name:"Northern Lights",type:"background",style:"bg-indigo-900 text-green-300",rarity:"legendary",placeholder:"https://www.hdwallpapers.in/download/aurora_northern_lights_during_nighttime_4k_hd_nature-HD.jpg"},{id:"bg_futuristic",name:"Futuristic City",type:"background",style:"bg-gray-800 text-blue-400",rarity:"epic",placeholder:"https://wallpaperaccess.com/full/200961.jpg"}],fonts:[{id:"font_inter",name:"Inter (Default)",type:"font",style:"font-inter",rarity:"common"},{id:"font_mono",name:"Space Mono",type:"font",style:"font-mono",rarity:"rare"},{id:"font_serif",name:"Playfair Display",type:"font",style:"font-serif",rarity:"rare"},{id:"font_cursive",name:"Dancing Script",type:"font",style:"font-cursive",rarity:"epic"},{id:"font_handwritten",name:"Permanent Marker",type:"font",style:"font-handwritten",rarity:"rare"},{id:"font_pixel",name:"Press Start 2P",type:"font",style:"font-pixel",rarity:"epic"},{id:"font_comic",name:"Comic Neue",type:"font",style:"font-comic",rarity:"common"},{id:"font_fantasy",name:"Cinzel Decorative",type:"font",style:"font-fantasy",rarity:"epic"},{id:"font_slab",name:"Roboto Slab",type:"font",style:"font-slab",rarity:"common"},{id:"font_sans_condensed",name:"Oswald",type:"font",style:"font-sans-condensed",rarity:"common"},{id:"font_baskerville",name:"Libre Baskerville",type:"font",style:"font-baskerville",rarity:"rare"},{id:"font_lato",name:"Lato",type:"font",style:"font-lato",rarity:"common"},{id:"font_merriweather",name:"Merriweather",type:"font",style:"font-merriweather",rarity:"rare"},{id:"font_raleway",name:"Raleway",type:"font",style:"font-raleway",rarity:"common"},{id:"font_ubuntu",name:"Ubuntu",type:"font",style:"font-ubuntu",rarity:"rare"}],animations:[{id:"animation_sparkle",name:"Sparkle Burst",type:"animation",display:"\u2728",rarity:"rare",effect:"sparkle"},{id:"animation_confetti_pop",name:"Confetti Pop",type:"animation",display:"\ud83c\udf89",rarity:"rare",effect:"confetti"},{id:"animation_fireworks",name:"Fireworks Display",type:"animation",display:"\ud83c\udf86",rarity:"epic",effect:"fireworks"},{id:"animation_gentle_glow",name:"Gentle Glow",type:"animation",display:"\ud83c\udf1f",rarity:"common",effect:"glow"},{id:"animation_bouncy_bounce",name:"Bouncy Bounce",type:"animation",display:"\ud83c\udfc0",rarity:"common",effect:"bounce"},{id:"animation_flash",name:"Quick Flash",type:"animation",display:"\u26a1",rarity:"common",effect:"flash"},{id:"animation_slide_in",name:"Slide In",type:"animation",display:"\u27a1\ufe0f",rarity:"common",effect:"slide"},{id:"animation_zoom_out",name:"Zoom Out",type:"animation",display:"\ud83d\udd0d",rarity:"rare",effect:"zoom"},{id:"animation_swirl",name:"Swirling Effect",type:"animation",display:"\ud83c\udf00",rarity:"epic",effect:"swirl"},{id:"animation_fade_out",name:"Fade Out",type:"animation",display:"\ud83d\udc7b",rarity:"common",effect:"fade"}],titles:[{id:"title_lucky_spinner",name:"Lucky Spinner",type:"title",rarity:"rare"},{id:"title_xp_gambler",name:"XP Gambler",type:"title",rarity:"rare"},{id:"title_fortune_seeker",name:"Fortune Seeker",type:"title",rarity:"epic"},{id:"title_risk_taker",name:"Risk Taker",type:"title",rarity:"rare"},{id:"title_golden_hand",name:"Golden Hand",type:"title",rarity:"epic"},{id:"title_master_of_chance",name:"Master of Chance",type:"title",rarity:"legendary"},{id:"title_high_roller",name:"High Roller",type:"title",rarity:"legendary"},{id:"title_jackpot_jockey",name:"Jackpot Jockey",type:"title",rarity:"epic"},{id:"title_spin_king",name:"Spin King/Queen",type:"title",rarity:"rare"},{id:"title_xp_magnet",name:"XP Magnet",type:"title",rarity:"epic"}],wallpapers:[{id:"wall_dark_brick",name:"Dark Brick",type:"wallpaper",rarity:"common",cost:300,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/dark-brick-wall.png')"}},{id:"wall_white_panel",name:"White Wood Panels",type:"wallpaper",rarity:"common",cost:300,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/wood-panel.png')",backgroundColor:"#E2E8F0"}},{id:"wall_concrete",name:"Polished Concrete",type:"wallpaper",rarity:"rare",cost:750,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/concrete-wall-2.png')",backgroundColor:"#475569"}},{id:"wall_royal_damask",name:"Royal Damask",type:"wallpaper",rarity:"epic",cost:1500,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/southern-textiles.png')",backgroundColor:"#4C1D95"}},{id:"wall_tech_grid",name:"Cyber Wall",type:"wallpaper",rarity:"epic",cost:2e3,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/cross-scratches.png')",backgroundColor:"#111827"}}],dungeon_emojis:[{id:"dc_player_knight",name:"Knight Player",type:"dungeon_emoji",cost:1e3,rarity:"rare",display:"\ud83d\udc82",for:"player"},{id:"dc_player_mage",name:"Mage Player",type:"dungeon_emoji",cost:1e3,rarity:"rare",display:"\ud83e\uddd9",for:"player"},{id:"dc_enemy_goblin_ogre",name:"Ogre Goblin",type:"dungeon_emoji",cost:500,rarity:"common",display:"\ud83d\udc7a",for:"goblin"},{id:"dc_enemy_skeleton_ghost",name:"Ghost Skeleton",type:"dungeon_emoji",cost:500,rarity:"common",display:"\ud83d\udc7b",for:"skeleton"}],td_skins:[{id:"td_archer_elf",name:"Elven Archer",type:"td_skin",cost:2e3,rarity:"rare",display:"\ud83e\udddd",for:"archer",floorRequired:5},{id:"td_cannon_catapult",name:"Catapult",type:"td_skin",cost:2e3,rarity:"rare",display:"\u2604\ufe0f",for:"cannon",floorRequired:5},{id:"td_icemage_sorcerer",name:"Sorcerer",type:"td_skin",cost:2500,rarity:"epic",display:"\ud83e\uddd9",for:"icemage",floorRequired:8},{id:"td_sniper_sharpshooter",name:"Sharpshooter",type:"td_skin",cost:3500,rarity:"legendary",display:"\ud83c\udfaf",for:"sniper",floorRequired:15},{id:"td_goblin_imp",name:"Imp",type:"td_skin",cost:1500,rarity:"common",display:"\ud83d\udc7f",for:"goblin",floorRequired:3},{id:"td_ogre_cyclops",name:"Cyclops",type:"td_skin",cost:3e3,rarity:"epic",display:"\ud83d\udc41\ufe0f",for:"ogre",floorRequired:10},{id:"td_flyer_gargoyle",name:"Gargoyle",type:"td_skin",cost:2200,rarity:"rare",display:"\ud83d\uddff",for:"flyer",floorRequired:6},{id:"td_dragon_undead",name:"Undead Dragon",type:"td_skin",cost:4e3,rarity:"legendary",display:"\ud83d\udc09",for:"dragon",floorRequired:20}]},RF={recruit_knight:{id:"recruit_knight",name:"Knight",role:"Melee DPS",cost:3e3,currency:"xp",hp:80,atk:15,ap:2,moveCost:1,attackCost:1,moveRange:1,attackRange:1.5,abilities:[{id:"taunt",name:"Taunt",cost:2,range:2.5,duration:2,target:"enemy"}],spriteStyle:{width:92,height:76,backgroundPosition:"-124px -85px"}},recruit_cleric:{id:"recruit_cleric",name:"Battle Cleric",role:"Healer",cost:4e3,currency:"xp",hp:6,atk:8,ap:2,moveCost:1,attackCost:1,moveRange:2,attackRange:1.5,abilities:[{id:"heal",name:"Heal",cost:2,range:1.5,power:25,target:"friendly"}],spriteStyle:{width:62,height:80,backgroundPosition:"-241px -169px"}},recruit_mage:{id:"recruit_mage",name:"Arcane Apprentice",role:"Ranged DPS",cost:4e3,currency:"xp",hp:50,atk:20,ap:2,moveCost:1,attackCost:2,moveRange:2,attackRange:4,abilities:[{id:"firebolt",name:"Firebolt",cost:2,range:4,power:30,target:"enemy"}],spriteStyle:{width:63,height:76,backgroundPosition:"-130px -174px"}},recruit_heavy_axeman:{id:"recruit_heavy_axeman",name:"Guardian",role:"Tank",cost:3e3,currency:"xp",hp:200,atk:10,ap:3,moveCost:3,attackCost:1,moveRange:1,attackRange:1.5,abilities:[{id:"fortify",name:"Fortify",cost:1,selfTarget:!0,effect:{tempHp:40},duration:2,target:"friendly"}],spriteStyle:{width:91,height:81,backgroundPosition:"-34px -174px"}},recruit_undead_vanguard:{id:"recruit_undead_vanguard",name:"Undead Vanguard",role:"Heavy DPS",cost:4500,currency:"xp",hp:70,atk:28,ap:2,moveCost:1,attackCost:2,moveRange:1,attackRange:1.5,abilities:[{id:"sunder",name:"Sunder",cost:2,range:1.5,power:35,armorPiercing:10,target:"enemy"}],spriteStyle:{width:102,height:87,backgroundPosition:"-231px -255px"}},recruit_crusader:{id:"recruit_crusader",name:"Holy Crusader",role:"Support Tank",cost:3500,currency:"xp",hp:150,atk:8,ap:3,moveCost:2,attackCost:1,moveRange:1,attackRange:1.5,abilities:[{id:"divine_shield",name:"Divine Shield",cost:2,selfTarget:!0,effect:{tempHp:30},duration:3,target:"friendly"}],spriteStyle:{width:98,height:74,backgroundPosition:"-246px -88px"}},recruit_rogue:{id:"recruit_rogue",name:"Shadow Rogue",role:"Assassin",cost:500,currency:"gold",hp:40,atk:25,ap:3,moveCost:1,attackCost:1,moveRange:3,attackRange:1.5,rarity:"rare",abilities:[{id:"shadow_strike",name:"Shadow Strike",cost:1,range:1.5,power:40,armorPiercing:5,target:"enemy"}],spriteStyle:{width:99,height:69,backgroundPosition:"-448px -281px"}},recruit_mounted_knight:{id:"recruit_mounted_knight",name:"Cavalier",role:"Mobile DPS",cost:500,currency:"gold",hp:100,atk:20,ap:3,moveCost:1,attackCost:2,moveRange:4,attackRange:1.5,rarity:"epic",abilities:[{id:"piercing_lance",name:"Piercing Lance",cost:2,range:2.5,power:25,target:"enemy"}],spriteStyle:{width:125,height:145,backgroundPosition:"-348px -17px"}},recruit_duelist:{id:"recruit_duelist",name:"Swift Duelist",role:"Agile DPS",cost:500,currency:"gold",hp:50,atk:18,ap:3,moveCost:.5,attackCost:1,moveRange:2,attackRange:1.5,rarity:"rare",abilities:[{id:"riposte",name:"Riposte",cost:1,selfTarget:!0,effect:{counterAttack:.5},duration:1,target:"friendly"}],spriteStyle:{width:92,height:75,backgroundPosition:"-124px -272px"}},recruit_warg_rider:{id:"recruit_warg_rider",name:"Warg Rider",role:"Mobile Skirmisher",cost:500,currency:"gold",hp:90,atk:18,ap:3,moveCost:1,attackCost:1,moveRange:3,attackRange:1.5,rarity:"epic",abilities:[{id:"savage_rush",name:"Savage Rush",cost:2,range:1.5,power:20,effect:{knockback:1},target:"enemy"}],spriteStyle:{width:114,height:105,backgroundPosition:"-332px -246px"}}},LF={desks:[{id:"desk_simple",name:"Simple Wooden Desk",type:"furniture",cost:250,rarity:"common",display:'<svg viewBox="0 0 80 60" class="text-amber-700"><path d="M0,20 H80 L75,60 H5 L0,20 Z" fill="currentColor"/><rect x="10" y="20" width="8" height="38" fill="#6b4a2f"/><rect x="62" y="20" width="8" height="38" fill="#6b4a2f"/></svg>',width:4,height:3,isObstacle:!0},{id:"desk_modern",name:"Modern Glass Desk",type:"furniture",cost:500,rarity:"rare",display:'<svg viewBox="0 0 80 60"><path d="M0,20 H80 V28 H0 Z" fill="#a5f3fc" fill-opacity="0.7"/><rect x="10" y="28" width="5" height="30" fill="#e0e0e0"/><rect x="65" y="28" width="5" height="30" fill="#e0e0e0"/></svg>',width:4,height:3,isObstacle:!0},{id:"desk_executive",name:"Executive Desk",type:"furniture",cost:800,rarity:"epic",display:'<svg viewBox="0 0 100 60"><path d="M0,15 H100 L95,60 H5 L0,15 Z" fill="#583927"/><rect x="10" y="15" width="25" height="42" fill="#4a2f1f"/><rect x="65" y="15" width="25" height="42" fill="#4a2f1f"/><line x1="0" y1="25" x2="100" y2="25" stroke="#4a2f1f" stroke-width="2"/></svg>',width:5,height:3,isObstacle:!0}],seating:[{id:"chair_office",name:"Office Chair",type:"furniture",cost:150,rarity:"common",display:'<svg viewBox="0 0 40 50"><path d="M5,10 H35 V30 H5 Z" fill="#4a5568"/><rect x="0" y="0" width="40" height="15" rx="5" fill="#2d3748"/><path d="M18,30 v15 h4 v-15"/><path d="M10,45 h20 v5 h-20 z"/></svg>',width:2,height:2,isObstacle:!0},{id:"chair_gaming",name:"Gaming Chair",type:"furniture",cost:400,rarity:"rare",display:'<svg viewBox="0 0 40 60"><path d="M5,15 H35 L30,40 H10 Z" fill="#c53030"/><path d="M5,0 H35 V20 L28,15 H12 V20 Z" fill="#e53e3e"/><path d="M18,40 v15 h4 v-15"/><path d="M10,55 h20 v5 h-20 z"/></svg>',width:2,height:3,isObstacle:!0},{id:"sofa_leather",name:"Leather Sofa",type:"furniture",cost:700,rarity:"rare",display:'<svg viewBox="0 0 120 60"><rect x="0" y="15" width="120" height="45" rx="10" fill="#7b341e"/><rect x="10" y="0" width="20" height="20" rx="5" fill="#9c4221"/><rect x="90" y="0" width="20" height="20" rx="5" fill="#9c4221"/></svg>',width:6,height:3,isObstacle:!0},{id:"bean_bag",name:"Bean Bag",type:"furniture",cost:120,rarity:"common",display:'<svg viewBox="0 0 60 60"><ellipse cx="30" cy="40" rx="30" ry="20" fill="#718096"/><ellipse cx="30" cy="20" rx="15" ry="10" fill="#a0aec0"/></svg>',width:3,height:3,isObstacle:!0}],storage:[{id:"bookshelf_small",name:"Small Bookshelf",type:"furniture",cost:200,rarity:"common",display:'<svg viewBox="0 0 60 90"><rect width="60" height="90" fill="#8c5a3b"/><rect x="5" y="10" width="50" height="20" fill="#654321"/><rect x="5" y="35" width="50" height="20" fill="#654321"/><rect x="5" y="60" width="50" height="20" fill="#654321"/></svg>',width:2,height:4,isObstacle:!0},{id:"bookshelf_large",name:"Large Bookshelf",type:"furniture",cost:450,rarity:"rare",display:'<svg viewBox="0 0 90 120"><rect width="90" height="120" fill="#6b4a2f"/><rect x="8" y="10" width="74" height="25" fill="#583927"/><rect x="8" y="45" width="74" height="25" fill="#583927"/><rect x="8" y="80" width="74" height="25" fill="#583927"/></svg>',width:3,height:5,isObstacle:!0},{id:"filing_cabinet",name:"Filing Cabinet",type:"furniture",cost:180,rarity:"common",display:'<svg viewBox="0 0 40 60"><rect width="40" height="60" fill="#a0aec0"/><rect y="5" width="40" height="25" stroke="#4a5568" stroke-width="2"/><rect y="30" width="40" height="25" stroke="#4a5568" stroke-width="2"/><rect x="15" y="15" width="10" height="3" fill="#4a5568"/><rect x="15" y="40" width="10" height="3" fill="#4a5568"/></svg>',width:2,height:3,isObstacle:!0},{id:"display_case",name:"Display Case",type:"furniture",cost:600,rarity:"epic",display:'<svg viewBox="0 0 60 90"><rect width="60" height="90" fill="#a0a0a0"/><rect x="5" y="5" width="50" height="80" fill="#d4f1f9" fill-opacity="0.5"/><line x1="5" y1="45" x2="55" y2="45" stroke="#a0a0a0" stroke-width="2"/></svg>',width:2,height:4,isObstacle:!0}],decor:[{id:"rug_shaggy",name:"Shaggy Rug",type:"furniture",cost:100,rarity:"common",display:'<svg viewBox="0 0 120 90"><rect width="120" height="90" rx="10" fill="#7f9cf5"/></svg>',width:6,height:4,isObstacle:!1},{id:"plant_potted",name:"Potted Plant",type:"furniture",cost:75,rarity:"common",display:'<svg viewBox="0 0 40 60"><path d="M5,40 H35 V60 H5 Z" fill="#d59c6a"/><path d="M20,10 C0,30 40,30 20,10 Z" fill="#48bb78"/></svg>',width:2,height:3,isObstacle:!0},{id:"lamp_floor",name:"Floor Lamp",type:"furniture",cost:120,rarity:"common",display:'<svg viewBox="0 0 30 90"><rect x="12" y="15" width="6" height="75" fill="#718096"/><path d="M0,0 H30 L20,15 H10 Z" fill="#faf089"/></svg>',width:1,height:4,isObstacle:!0},{id:"trophy_case",name:"Trophy Case",type:"furniture",cost:1e3,rarity:"epic",display:'<svg viewBox="0 0 90 90"><rect width="90" height="90" fill="#e5b84c"/><rect x="5" y="5" width="80" height="80" fill="#fffaf0" fill-opacity="0.6"/><line x1="5" y1="35" x2="85" y2="35" stroke="#e5b84c" stroke-width="2"/><line x1="5" y1="65" x2="85" y2="65" stroke="#e5b84c" stroke-width="2"/></svg>',width:3,height:4,isObstacle:!0},{id:"wall_art_abstract",name:"Abstract Wall Art",type:"furniture",cost:220,rarity:"rare",display:'<svg viewBox="0 0 60 60"><rect width="60" height="60" fill="#1a202c"/><circle cx="30" cy="30" r="25" fill="#e53e3e"/><rect x="10" y="25" width="40" height="10" fill="#f6e05e"/></svg>',width:3,height:3,isObstacle:!0},{id:"lava_lamp",name:"Lava Lamp",type:"furniture",cost:90,rarity:"common",display:'<svg viewBox="0 0 30 60"><path d="M5,60 H25 V50 H5 Z" fill="#4a5568"/><path d="M0,0 H30 L25,50 H5 Z" fill="#f56565" fill-opacity="0.8"/><circle cx="15" cy="20" r="5" fill="#fbd38d"/><circle cx="15" cy="40" r="8" fill="#fbd38d"/></svg>',width:1,height:3,isObstacle:!0}],electronics:[{id:"computer_setup",name:"Desktop Computer",type:"furniture",cost:1200,rarity:"epic",display:'<svg viewBox="0 0 60 60"><rect x="0" y="5" width="60" height="35" rx="5" fill="#2d3748"/><rect x="5" y="10" width="50" height="25" fill="#000"/><rect x="20" y="40" width="20" height="10" fill="#4a5568"/></svg>',width:2,height:2,isObstacle:!0},{id:"laptop",name:"Laptop",type:"furniture",cost:800,rarity:"rare",display:'<svg viewBox="0 0 40 30"><path d="M0,25 H40 V28 H0 Z" fill="#a0aec0"/><path d="M2,2 L38,2 L35,25 L5,25 Z" fill="#e2e8f0"/></svg>',width:2,height:1,isObstacle:!0},{id:"gaming_console",name:"Gaming Console",type:"furniture",cost:500,rarity:"rare",display:'<svg viewBox="0 0 40 20"><rect width="40" height="20" rx="5" fill="#2d3748"/><circle cx="30" cy="10" r="3" fill="#c53030"/></svg>',width:2,height:1,isObstacle:!0},{id:"vr_headset",name:"VR Headset",type:"furniture",cost:650,rarity:"epic",display:'<svg viewBox="0 0 40 30"><path d="M0,5 H40 V25 H0 Z" rx="10" fill="#1a202c"/><path d="M5,0 h30 v5 h-30 z" fill="#4a5568"/></svg>',width:2,height:1,isObstacle:!0}]},zF=[...DF.avatars,...DF.banners,...DF.fonts,...DF.animations,...DF.titles,...DF.backgrounds],FF=[...zF,{id:"filler_xp_gain_1",name:"XP Gain",type:"xp_gain",display:"XP+",rarity:"rare"},{id:"filler_xp_gain_2",name:"XP Gain",type:"xp_gain",display:"XP+",rarity:"rare"},{id:"filler_xp_loss_1",name:"XP Loss",type:"xp_loss",display:"XP-",rarity:"common"},{id:"filler_shard_gain_1",name:"Shard Gain",type:"shard_gain",display:"\ud83d\udc8e",rarity:"common"},{id:"filler_shard_gain_2",name:"Shard Gain",type:"shard_gain",display:"\ud83d\udc8e",rarity:"common"}],UF=50,BF=.25,VF=.2,HF=.045,GF=.005,WF={common:[{id:"pet_squirrel_1",name:"Energetic Squirrel",display:"\ud83d\udc3f\ufe0f",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_squirrel_2",name:"Nimble Squirrel",display:"\ud83d\udc3f\ufe0f\ud83d\udca8",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_squirrel_3",name:"Master Squirrel",display:"\ud83d\udc3f\ufe0f\u26a1",xpBuff:.75,levelRequired:15,xpCost:300}]},{id:"pet_bunny_1",name:"Quick Bunny",display:"\ud83d\udc07",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_bunny_2",name:"Fleet-footed Bunny",display:"\ud83d\udc07\ud83d\udca8",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_bunny_3",name:"Grand Hare",display:"\ud83d\udc07\ud83c\udf1f",xpBuff:.75,levelRequired:15,xpCost:300}]},{id:"pet_hamster_1",name:"Busy Hamster",display:"\ud83d\udc39",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_hamster_2",name:"Diligent Hamster",display:"\ud83d\udc39\u2699\ufe0f",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_hamster_3",name:"Hyper Hamster",display:"\ud83d\udc39\u26a1",xpBuff:.75,levelRequired:15,xpCost:300}]},{id:"pet_chick_1",name:"Curious Chick",display:"\ud83d\udc25",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_chick_2",name:"Growing Fowl",display:"\ud83d\udc24",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_chick_3",name:"Wise Rooster",display:"\ud83d\udc13",xpBuff:.75,levelRequired:15,xpCost:300}]}],rare:[{id:"pet_fox_1",name:"Clever Fox",display:"\ud83e\udd8a",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_fox_2",name:"Cunning Fox",display:"\ud83e\udd8a\u2728",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_fox_3",name:"Mystic Fox",display:"\ud83e\udd8a\ud83d\udd2e",xpBuff:2,levelRequired:25,xpCost:250}]},{id:"pet_dragonfly_1",name:"Swift Dragonfly",display:"\ud83d\udc09",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_dragonfly_2",name:"Soaring Dragonfly",display:"\ud83d\udc09\u2b06\ufe0f",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_dragonfly_3",name:"Ancient Dragon",display:"\ud83d\udc32",xpBuff:2,levelRequired:25,xpCost:250}]},{id:"pet_hedgehog_1",name:"Spiky Protector",display:"\ud83e\udd94",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_hedgehog_2",name:"Resilient Hedgehog",display:"\ud83e\udd94\ud83d\udee1\ufe0f",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_hedgehog_3",name:"Iron Quill",display:"\ud83e\udd94\u2694\ufe0f",xpBuff:2,levelRequired:25,xpCost:250}]},{id:"pet_dolphin_1",name:"Intelligent Dolphin",display:"\ud83d\udc2c",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_dolphin_2",name:"Wise Dolphin",display:"\ud83d\udc2c\ud83d\udca1",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_dolphin_3",name:"Oceanic Sage",display:"\ud83d\udc2c\ud83c\udf0a",xpBuff:2,levelRequired:25,xpCost:250}]}],epic:[{id:"pet_owl_1",name:"Wise Owl",display:"\ud83e\udd89",xpBuff:2,rarity:"epic",evolutions:[{id:"pet_owl_2",name:"Sage Owl",display:"\ud83e\udd89\ud83d\udcdc",xpBuff:2.5,levelRequired:20,xpCost:200},{id:"pet_owl_3",name:"Oracle Owl",display:"\ud83e\udd89\u2728",xpBuff:3,levelRequired:40,xpCost:400}]},{id:"pet_wolf_1",name:"Focused Wolf",display:"\ud83d\udc3a",xpBuff:2,rarity:"epic",evolutions:[{id:"pet_wolf_2",name:"Alpha Wolf",display:"\ud83d\udc3a\ud83d\udc51",xpBuff:2.5,levelRequired:20,xpCost:200},{id:"pet_wolf_3",name:"Spirit Wolf",display:"\ud83d\udc3a\ud83d\udc7b",xpBuff:3,levelRequired:40,xpCost:400}]},{id:"pet_griffin_1",name:"Noble Griffin",display:"\ud83e\udd85\ud83e\udd81",xpBuff:2,rarity:"epic",evolutions:[{id:"pet_griffin_2",name:"Majestic Griffin",display:"\ud83e\udd85\ud83d\udc51\ud83e\udd81",xpBuff:2.5,levelRequired:20,xpCost:200},{id:"pet_griffin_3",name:"Mythic Griffin",display:"\ud83e\udd85\u2728\ud83e\udd81",xpBuff:3,levelRequired:40,xpCost:400}]}],legendary:[{id:"pet_phoenix_1",name:"Blazing Phoenix",display:"\ud83d\udd25",xpBuff:3,rarity:"legendary",evolutions:[{id:"pet_phoenix_2",name:"Sunfire Phoenix",display:"\ud83d\udd25\u2600\ufe0f",xpBuff:5,levelRequired:30,xpCost:300},{id:"pet_phoenix_3",name:"Cosmic Phoenix",display:"\ud83d\udd25\ud83c\udf0c",xpBuff:6,levelRequired:50,xpCost:500}]},{id:"pet_dragon_1",name:"Ancient Dragon",display:"\ud83d\udc09",xpBuff:3,rarity:"legendary",evolutions:[{id:"pet_dragon_2",name:"Elemental Dragon",display:"\ud83d\udc09\u2728",xpBuff:5,levelRequired:30,xpCost:300},{id:"pet_dragon_3",name:"Elder Dragon",display:"\ud83d\udc32\ud83d\udc51",xpBuff:6,levelRequired:50,xpCost:500}]}],mythic:[{id:"pet_unicorn_1",name:"Mythical Unicorn",display:"\ud83e\udd84",xpBuff:4,rarity:"mythic",evolutions:[{id:"pet_unicorn_2",name:"Celestial Unicorn",display:"\ud83e\udd84\ud83c\udf08",xpBuff:6,levelRequired:40,xpCost:400},{id:"pet_unicorn_3",name:"Divine Alicorn",display:"\ud83e\udd84\u2728",xpBuff:10,levelRequired:60,xpCost:700}]}]},qF=[{level:1,title:"Novice Learner"},{level:5,title:"Aspiring Student"},{level:10,title:"Adept Learner"},{level:20,title:"Dedicated Scholar"},{level:35,title:"Knowledge Seeker"},{level:50,title:"Master Scholar"},{level:75,title:"Academic Ace"},{level:100,title:"Grand Sage"},{level:150,title:"Legendary Luminary"},{level:200,title:"Productivity Paragon"},{level:250,title:"Ultimate Achiever"},{level:300,title:"Transcendent Thinker"}],YF=["\ud83c\udf38","\ud83d\ude0a","\ud83d\ude10","\ud83d\ude1f","\ud83d\udc80"],XF=["Math","English","History","Science","Clubs","Extracurriculars","Personal Goals"],KF={beaker:{name:"Beaker",baseCost:15,baseSPS:.1,clickPower:0,xpUpgrade:{cost:100,multiplier:2}},microscope:{name:"Microscope",baseCost:100,baseSPS:1,clickPower:0,xpUpgrade:{cost:500,multiplier:2}},bunsen_burner:{name:"Bunsen Burner",baseCost:1100,baseSPS:8,clickPower:0,xpUpgrade:{cost:2e3,multiplier:2}},computer:{name:"Super Computer",baseCost:12e3,baseSPS:47,clickPower:0,xpUpgrade:{cost:1e4,multiplier:2}},particle_accelerator:{name:"Particle Accelerator",baseCost:13e4,baseSPS:260,clickPower:0,xpUpgrade:{cost:5e4,multiplier:2}},quantum_computer:{name:"Quantum Computer",baseCost:14e5,baseSPS:1400,clickPower:0,xpUpgrade:{cost:1e5,multiplier:2}},manual_clicker:{name:"Manual Clicker",baseCost:50,baseSPS:0,clickPower:1,xpUpgrade:{cost:1e3,multiplier:2}}},QF={assignmentsCompleted:{name:"Task Master",icon:"\u2705",tiers:[{id:"ac1",name:"Task Apprentice",goal:10,reward:{xp:50}},{id:"ac2",name:"Task Journeyman",goal:50,reward:{xp:150,shards:5}},{id:"ac3",name:"Task Expert",goal:100,reward:{xp:300,shards:15}},{id:"ac4",name:"Task Master",goal:250,reward:{xp:500,shards:30}},{id:"ac5",name:"Task Grandmaster",goal:500,reward:{xp:1e3,shards:50}},{id:"ac6",name:"Productivity Paragon",goal:1e3,reward:{xp:2500,shards:100}}]},hardAssignmentsCompleted:{name:"Difficulty Conqueror",icon:"\ud83c\udfd4\ufe0f",tiers:[{id:"hc1",name:"Hill Climber",goal:5,reward:{xp:100}},{id:"hc2",name:"Mountain Goat",goal:20,reward:{xp:250,shards:10}},{id:"hc3",name:"Peak Bagger",goal:50,reward:{xp:500,shards:25}},{id:"hc4",name:"Everest Scaler",goal:100,reward:{xp:1200,shards:60}},{id:"hc5",name:"Olympian",goal:200,reward:{xp:3e3,shards:150}}]},towerDefenseWins:{name:"Master Strategist",icon:"\ud83c\udff0",tiers:[{id:"tdw1",name:"Castle Defender",goal:1,reward:{xp:100}},{id:"tdw2",name:"Strategic Mind",goal:5,reward:{xp:250,shards:10}},{id:"tdw3",name:"Grand Tactician",goal:10,reward:{xp:500,shards:25}},{id:"tdw4",name:"War Master",goal:25,reward:{xp:1e3,shards:50}},{id:"tdw5",name:"Legendary Commander",goal:50,reward:{xp:2e3,shards:100}}]},dungeonFloors:{name:"Dungeon Delver",icon:"\ud83d\uddfa\ufe0f",tiers:[{id:"df1",name:"Spelunker",goal:10,reward:{xp:100}},{id:"df2",name:"Explorer",goal:25,reward:{xp:250,shards:10}},{id:"df3",name:"Abyss Walker",goal:50,reward:{xp:500,shards:25}},{id:"df4",name:"Treasure Hunter",goal:100,reward:{xp:1200,shards:60}},{id:"df5",name:"Core Reacher",goal:200,reward:{xp:3e3,shards:150}}]},petsEvolved:{name:"Pet Trainer",icon:"\ud83d\udc3e",tiers:[{id:"pe1",name:"Evolver",goal:1,reward:{xp:50}},{id:"pe2",name:"Beast Master",goal:5,reward:{xp:200,shards:15}},{id:"pe3",name:"Creature Collector",goal:10,reward:{xp:500,shards:40}},{id:"pe4",name:"Evolution Expert",goal:20,reward:{xp:1e3,shards:80}}]},sciencePoints:{name:"Mad Scientist",icon:"\ud83e\uddea",tiers:[{id:"sp1",name:"Researcher",goal:1e6,reward:{xp:100}},{id:"sp2",name:"Lead Scientist",goal:1e9,reward:{xp:500,shards:20}},{id:"sp3",name:"Innovator",goal:25e9,reward:{xp:750,shards:35}},{id:"sp4",name:"Nobel Laureate",goal:1e12,reward:{xp:1e3,shards:50}},{id:"sp5",name:"World Changer",goal:5e13,reward:{xp:5e3,shards:250}}]},cosmeticsCrafted:{name:"Artisan",icon:"\ud83d\udc8e",tiers:[{id:"cc1",name:"Tinkerer",goal:1,reward:{xp:50}},{id:"cc2",name:"Crafter",goal:5,reward:{xp:150,shards:10}},{id:"cc3",name:"Master Artisan",goal:10,reward:{xp:300,shards:25}},{id:"cc4",name:"Shard-Smith",goal:25,reward:{xp:750,shards:60}}]},xpSpentInShop:{name:"Shopaholic",icon:"\ud83d\udecd\ufe0f",tiers:[{id:"xs1",name:"Window Shopper",goal:1e3,reward:{xp:50}},{id:"xs2",name:"Valued Customer",goal:5e3,reward:{xp:200,shards:10}},{id:"xs3",name:"High Roller",goal:1e4,reward:{xp:400,shards:20}},{id:"xs4",name:"Big Spender",goal:25e3,reward:{xp:1e3,shards:50}},{id:"xs5",name:"Patron of the Arts",goal:5e4,reward:{xp:2500,shards:125}}]},highScore:{name:"Arcade Champion",icon:"\ud83d\udd79\ufe0f",tiers:[{id:"hs1",name:"Gamer",goal:1e3,reward:{xp:50}},{id:"hs2",name:"Pro Gamer",goal:2500,reward:{xp:150,shards:10}},{id:"hs3",name:"Record Setter",goal:5e3,reward:{xp:400,shards:25}},{id:"hs4",name:"World Champion",goal:1e4,reward:{xp:1e3,shards:50}}]},furniturePlaced:{name:"Interior Designer",icon:"\ud83d\udecb\ufe0f",tiers:[{id:"fp1",name:"Decorator",goal:1,reward:{xp:25}},{id:"fp2",name:"Home Maker",goal:5,reward:{xp:100,shards:5}},{id:"fp3",name:"Sanctum Architect",goal:10,reward:{xp:200,shards:15}},{id:"fp4",name:"Master Designer",goal:25,reward:{xp:500,shards:40}}]}},ZF={daily:[{id:"daily_complete_3_tasks",name:"Daily Dedication",description:"Complete 3 assignments.",goal:3,reward:{xp:50,shards:2},type:"completion"},{id:"daily_complete_1_hard",name:"Challenge Accepted",description:"Complete a 'Hard' assignment.",goal:1,reward:{xp:75,shards:3},type:"difficulty"},{id:"daily_focus_60_min",name:"Focused Hour",description:"Focus for a total of 60 minutes.",goal:60,reward:{xp:60,shards:5},type:"focusTime"},{id:"daily_clear_dungeon",name:"Dungeon Dabbler",description:"Clear 1 floor in the Dungeon Crawler.",goal:1,reward:{xp:50},type:"dungeon"},{id:"daily_td_win",name:"Castle Defender",description:"Win 1 game of Tower Defense.",goal:1,reward:{xp:100},type:"td_win"},{id:"daily_earn_sp",name:"Lab Assistant",description:"Earn 100,000 Science Points.",goal:1e5,reward:{xp:40,shards:2},type:"sciencePoints"}],weekly:[{id:"weekly_complete_15_tasks",name:"Weekly Warrior",description:"Complete 15 assignments in a week.",goal:15,reward:{xp:250,shards:15},type:"completion"},{id:"weekly_earn_500_xp",name:"XP Farmer",description:"Earn 500 base XP from assignments.",goal:500,reward:{xp:100,shards:10},type:"xp"},{id:"weekly_focus_300_min",name:"Deep Work",description:"Focus for a total of 300 minutes in a week.",goal:300,reward:{xp:300,shards:20},type:"focusTime"},{id:"weekly_clear_5_dungeon",name:"Dungeon Delver",description:"Clear 5 total floors in the Dungeon Crawler.",goal:5,reward:{xp:200,shards:10},type:"dungeon"},{id:"weekly_td_wave_25",name:"Strategist",description:"Reach wave 25 in a Tower Defense game.",goal:25,reward:{xp:250,shards:15},type:"td_wave"},{id:"weekly_complete_5_hard",name:"Grit",description:"Complete 5 'Hard' assignments in a week.",goal:5,reward:{xp:400,shards:25},type:"difficulty"}]},JF=[{id:"asteroid_field",name:"Asteroid Field",description:"You successfully navigated a dense asteroid field!",weight:10,reward:{type:"shards",amount:15}},{id:"solar_wind",name:"Solar Wind",description:"You caught a solar wind! Your next assignment completion will award bonus XP.",weight:8,reward:{type:"xp_boost",multiplier:1.5,duration:1}},{id:"comet_sighting",name:"Comet Sighting",description:"A rare comet passes by, granting you a burst of insight!",weight:6,reward:{type:"xp",amount:200}},{id:"ancient_signal",name:"Ancient Signal",description:"A strange signal leads you to a forgotten relic!",weight:1,reward:{type:"cosmetic",cosmeticId:"avatar_dragon"}}],$F={recruit_knight:{stats:[{id:"knight_hp_1",name:"Vigor Training I",description:"+15 Max HP",cost:800,currency:"xp",effect:{hp:15},type:"repeatable"},{id:"knight_atk_1",name:"Strength Training I",description:"+3 Attack",cost:1200,currency:"xp",effect:{atk:3},type:"repeatable"},{id:"knight_hp_2",name:"Vigor Training II",description:"+20 Max HP",cost:1600,currency:"xp",effect:{hp:20},type:"repeatable"},{id:"knight_atk_2",name:"Strength Training II",description:"+5 Attack",cost:2500,currency:"xp",effect:{atk:5},type:"repeatable"}],ability:[{id:"knight_ability_a",name:"Intimidating Shout",description:"Taunt now also reduces the target's Attack by 20% for its duration.",cost:3e3,currency:"xp",type:"choice"},{id:"knight_ability_b",name:"Vengeful Guardian",description:"While Taunt is active, the Knight will counter-attack for 50% damage when hit.",cost:3e3,currency:"xp",type:"choice"}]},recruit_cleric:{stats:[{id:"cleric_hp_1",name:"Endurance I",description:"+10 Max HP",cost:750,currency:"xp",effect:{hp:10},type:"repeatable"},{id:"cleric_atk_1",name:"Divine Power I",description:"+4 Attack",cost:1100,currency:"xp",effect:{atk:4},type:"repeatable"}],ability:[{id:"cleric_ability_a",name:"Purifying Light",description:"Heal now also cleanses one negative status effect (e.g., poison) from the target.",cost:4e3,currency:"xp",type:"choice"},{id:"cleric_ability_b",name:"Divine Favor",description:"Heal now also grants the target a temporary +15% damage buff for their next turn.",cost:4e3,currency:"xp",type:"choice"}]},recruit_mage:{stats:[{id:"mage_atk_1",name:"Arcane Focus I",description:"+4 Attack",cost:1300,currency:"xp",effect:{atk:4},type:"repeatable"},{id:"mage_hp_1",name:"Toughness I",description:"+8 Max HP",cost:800,currency:"xp",effect:{hp:8},type:"repeatable"}],ability:[{id:"mage_ability_a",name:"Scorching Blast",description:"Firebolt now leaves a burning effect, dealing 20% of its damage for 2 turns.",cost:4500,currency:"xp",type:"choice"},{id:"mage_ability_b",name:"Frostbolt",description:"Firebolt now chills the target, reducing their next movement by 1 tile.",cost:4500,currency:"xp",type:"choice"}]},recruit_heavy_axeman:{stats:[{id:"heavy_hp_1",name:"Iron Skin I",description:"+25 Max HP",cost:1e3,currency:"xp",effect:{hp:25},type:"repeatable"},{id:"heavy_atk_1",name:"Brute Force I",description:"+2 Attack",cost:1e3,currency:"xp",effect:{atk:2},type:"repeatable"}],ability:[{id:"heavy_ability_a",name:"Reinforced Plating",description:"Fortify now grants an additional +20 temporary HP.",cost:3500,currency:"xp",type:"choice"},{id:"heavy_ability_b",name:"Retaliation",description:"While Fortify is active, reflect 25% of melee damage taken.",cost:3500,currency:"xp",type:"choice"}]},recruit_undead_vanguard:{stats:[{id:"undead_atk_1",name:"Unholy Strength I",description:"+5 Attack",cost:1500,currency:"xp",effect:{atk:5},type:"repeatable"},{id:"undead_hp_1",name:"Necrotic Vigor I",description:"+10 Max HP",cost:900,currency:"xp",effect:{hp:10},type:"repeatable"}],ability:[{id:"undead_ability_a",name:"Armor Shatter",description:"Sunder now permanently reduces the target's armor by 2.",cost:5e3,currency:"xp",type:"choice"},{id:"undead_ability_b",name:"Life Drain",description:"Sunder now heals you for 30% of the damage dealt.",cost:5e3,currency:"xp",type:"choice"}]},recruit_crusader:{stats:[{id:"crusader_hp_1",name:"Faithful Vigor I",description:"+20 Max HP",cost:950,currency:"xp",effect:{hp:20},type:"repeatable"},{id:"crusader_atk_1",name:"Smite I",description:"+3 Attack",cost:1150,currency:"xp",effect:{atk:3},type:"repeatable"}],ability:[{id:"crusader_ability_a",name:"Aegis of Retribution",description:"Divine Shield now explodes when it expires, dealing its absorbed damage to adjacent enemies.",cost:4e3,currency:"xp",type:"choice"},{id:"crusader_ability_b",name:"Sanctuary",description:"Divine Shield now also heals you for 20% of your Max HP over its duration.",cost:4e3,currency:"xp",type:"choice"}]},recruit_rogue:{stats:[{id:"rogue_atk_1",name:"Lethality I",description:"+5 Attack",cost:2e3,currency:"xp",effect:{atk:5},type:"repeatable"}],ability:[{id:"rogue_ability_a",name:"Venom Strike",description:"Shadow Strike now applies a poison, dealing 5 damage per turn for 3 turns.",cost:5e3,currency:"xp",type:"choice"},{id:"rogue_ability_b",name:"Fleet Footed",description:"After using Shadow Strike, gain +1 Move Range for the rest of your turn.",cost:5e3,currency:"xp",type:"choice"}]},recruit_mounted_knight:{stats:[{id:"cavalier_hp_1",name:"Mount Vigor I",description:"+15 Max HP",cost:1500,currency:"xp",effect:{hp:15},type:"repeatable"}],ability:[{id:"cavalier_ability_a",name:"Trample",description:"Piercing Lance now hits a second target in a line behind the first for 50% damage.",cost:6e3,currency:"xp",type:"choice"},{id:"cavalier_ability_b",name:"Momentum",description:"Piercing Lance deals up to 50% more damage based on the distance traveled this turn.",cost:6e3,currency:"xp",type:"choice"}]},recruit_duelist:{stats:[{id:"duelist_atk_1",name:"Finesse I",description:"+4 Attack",cost:1800,currency:"xp",effect:{atk:4},type:"repeatable"}],ability:[{id:"duelist_ability_a",name:"Perfect Riposte",description:"Riposte now has a 100% chance to counter-attack.",cost:5500,currency:"xp",type:"choice"},{id:"duelist_ability_b",name:"Parry",description:"Riposte now also completely blocks the incoming attack.",cost:5500,currency:"xp",type:"choice"}]},recruit_warg_rider:{stats:[{id:"warg_hp_1",name:"Warg Vigor I",description:"+12 Max HP",cost:1400,currency:"xp",effect:{hp:12},type:"repeatable"}],ability:[{id:"warg_ability_a",name:"Crippling Rush",description:"Savage Rush now also cripples the target, reducing their next move by 2 tiles.",cost:6e3,currency:"xp",type:"choice"},{id:"warg_ability_b",name:"Frenzied Assault",description:"After using Savage Rush, the Warg Rider may attack a second time for 50% damage.",cost:6e3,currency:"xp",type:"choice"}]}},eU={focuroot:{id:"focuroot",name:"Focuroot",type:"plant",rarity:"common",description:"A common root that aids concentration.",icon:hF,seedId:"seed_focuroot"},swiftblossom:{id:"swiftblossom",name:"Swiftblossom",type:"plant",rarity:"common",description:"A leafy green that seems to quicken the senses.",icon:gF,seedId:"seed_swiftblossom"},stillpetal:{id:"stillpetal",name:"Stillpetal",type:"plant",rarity:"common",description:"A calm, aromatic flower.",icon:pF,seedId:"seed_stillpetal"},oyster_mushroom:{id:"oyster_mushroom",name:"Oyster Mushroom",type:"plant",rarity:"common",description:"An earthy, hearty mushroom.",icon:mF,seedId:"seed_oyster_mushroom"},sunfruit:{id:"sunfruit",name:"Sunfruit",type:"plant",rarity:"rare",description:"A bright, radiant fruit that glows with inner warmth.",icon:yF,seedId:"seed_sunfruit"},luckleaf:{id:"luckleaf",name:"Luckleaf Chamomile",type:"plant",rarity:"rare",description:"A rare five-petaled flower, said to bring minor fortune.",icon:fF,seedId:"seed_luckleaf"},goblin_ear:{id:"goblin_ear",name:"Goblin Ear",type:"loot",rarity:"common",description:"Surprisingly waxy. Dropped by Goblins.",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgMTE2Ljg5ZDYzYTAsIDIwMjEvMTEvMjgtMjE6MDk6MzMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDYtMjJUMTc6MDk6NTgrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjQ2KzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjQ2KzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMxNzExNzAxLTI3NTctYjM0ZS04OWI0LWE2MTIxMWNlMjZlZiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozMTcxMTcwMS0yNzU3LWIzNGUtODliNC1hNjEyMTFjZTI2ZWYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozMTcxMTcwMS0yNzU3LWIzNGUtODliNC1hNjEyMTFjZTI2ZWYiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjMxNzExNzAxLTI3NTctYjM0ZS04OWI0LWE2MTIxMWNlMjZlZiIgc3RFdnQ6d2hlbj0iMjAyMi0wNi0yMlQxNzowOTo1OCswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjUgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuzJ+E0AAALHSURBVFiFxZdNTxNhFIWfmU5bbJFgW6pCBBMTIZIYo4kRom5YuCAa/Qf8Dte6NSxdSlgZV+gGvyIGEgQVidZaSkyKpbT2G6St/aCvizIFEhLmnU7iTSbN3Obec+65583MKEII/meoVjf0dTiEr8NheCrNSmCARCpOIhHA1+EQ6a2KcmShEKLly3vcLoQQovo3LaKRGbF7b6i25RXsTkqtnAFgeeGNVL0lHtDBl2YnCQcDUrWmPaDvfPnba6anxvF7vMzNvWcj+luqj2LmGOqyw97001PjAMy8fAvAk2efMGJC6RXsBwfQnF4A/J7Gb/eZk1L9pFbg63CIRCrenFqPpdlJKdD9Ia1AIhHg2mkfYyPDB8CT2QzhYEDaA4YVcKuKmHj8gOV3C/T2dHH99ihjI8OEgmEGLpznxuhQEzydzhkmIKVApVJke/EVfm8nDrtGb/8ALlc7StsxHj2caILHNjJHdDJBwHZILrQ4D4Cm2nBqNl48nTcMLEXArSri+f17uJx2IrkSV+/cJRlbA6Bv4Bw/g2GcDo2bI5eJbWT4spI3dAQNE9DjxOpHIvEUAPFYHIBauUypUuXS0CD53KZMO3kCSl8/AJvZFNHvoQP/FQpFIqF1qelB4hQolTIDxXUA8uksAOlcCXKN3If5VTRFgHqYWywgEN8us5VNA1Cp1pp5z6kuvv74haYIosU6pfqO4elBcgV/z14EoLC91czp4GvFOqW6kAIHCQUiuRKe7GcA1oMrDfn3hdnnuuE63f3JTB5PT0+DSK60T3r56aUIJDN54tuNp2A2FjODdWgYWkGhLhS3qgi/txNvm8ZK/A+lStUSAlKrS2by2NztAGQKNVx2tSX5QcKEugq3BvdyldqOWdxmWP5hIhtSb0S6Cle62y0jYEoBqwwIJt+K3aoielwqa8U65RYMCCa/C/RVWGEgUwpYGf8ANpWWRo9gPrgAAAAASUVORK5CYII="},skeleton_bone:{id:"skeleton_bone",name:"Skeleton Bone",type:"loot",rarity:"common",description:"A dry, brittle bone from a reanimated skeleton.",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgMTE2Ljg5ZDYzYTAsIDIwMjEvMTEvMjgtMjE6MDk6MzMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDYtMjJUMTc6MDk6NTgrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjI0KzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjI0KzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmVkY2VmYjcxLTcxNjQtY2Y0NS1iZGM4LTI2ZDgxYzViNWI3YSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDplZGNlZmI3MS03MTY0LWNmNDUtYmRjOC0yNmQ4MWM1YjViN2EiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplZGNlZmI3MS03MTY0LWNmNDUtYmRjOC0yNmQ4MWM1YjViN2EiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmVkY2VmYjcxLTcxNjQtY2Y0NS1iZGM4LTI2ZDgxYzViNWI3YSIgc3RFdnQ6d2hlbj0iMjAyMi0wNi0yMlQxNzowOTo1OCswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjUgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmDRq3QAAAHSSURBVFiFxVfPSwJBGH1GN/fgwu6tvEd/R1BH+3Gpa0G3rmZ1jP6CfkCdOnUoMoJALbRLgigpkhh00O2QIDgk6/nr0iybueq63+qDgYUZ9r3ve2+GmQARYZKY9uvHiqpblZmiGXBcSETsIxjS6OvbpK9vk4iIgiGNnNb61oGWENb3R70GRdWpVyemuIkVVaePeg3pp0cc7MXQEgLPmTQ2t7f+2CLhWwc0TcPs7Az2Y1GEw2HHdawCZPXPmTSy2RcYhoHkQ8Ka72UBmwBJ3hIC2ewLLs7OHUn/gDP1b7VP2onu9k1992AV4JacRYAXciLytg3tvo+MSfjOYkEwpHkmH9kC2fpyqQjDMEZvPzwcxXK/Jx8Sg/c6pwDO6gG4y4AM3tXdPUXWNzx5P1IIZfC4yF2FUFF1yhVfUS4VvbfdBtcZ4AieawGy+kI+xxM8O4YN3uX1Dav3Q2WA5awfgJ4XEnl3M0UTjXYHAFDI58cj4Pf2CgBotDtoCWF5zxk+iZ4WNNodizz99Ij4bRyR5WVO3v4CUqmEVfnK6hqOT07xXq36IuCfBaZoBhRVp4WlRRweHVmCKpXKeATYRczPzwGAb+QAECByfh13v2S4AzhQwDjwA3mIEely3NbbAAAAAElFTkSuQmCC"},shadow_essence:{id:"shadow_essence",name:"Shadow Essence",type:"loot",rarity:"rare",description:"A swirling globule of pure darkness. Dropped by Shadows.",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgMTE2Ljg5ZDYzYTAsIDIwMjEvMTEvMjgtMjE6MDk6MzMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDYtMjJUMTc6MDk6NTgrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjM3KzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjM3KzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg0OGE5OGJkLWEwZTktMGE0NS1hZDgzLTUxYmQ2YjQ5MWFmYSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NDhhOThiZC1hMGU5LTBhNDUtYWQ4My01MWJkNmI0OTFhZmEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NDhhOThiZC1hMGU5LTBhNDUtYWQ4My01MWJkNmI0OTFhZmEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg0OGE5OGJkLWEwZTktMGE0NS1hZDgzLTUxYmQ2YjQ5MWFmYSIgc3RFdnQ6d2hlbj0iMjAyMi0wNi0yMlQxNzowOTo1OCswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjUgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pprkt+YAAARGSURBVFiFxZZNbxtVFIafa6dxjB1nHDut8wU0NqlKmiapgNKACiESsK1EJSQ2iAVsEDsWFRK/gSViBwTKhkrsUEE0goqICEJFitMUWxAIdr7cOPHX2J6Zy8Ied+w4dlJH4kgjy3Nnzvuc95yZO0JKyf8ZtlYTjLfZWqqgJYDxNpu89eGbrUFIKVs6xuxCyqtvy6BASikJUvo96NFyCwDyP0UJ2G2EhJBT7e2EhDiwI0cCkEikOa4Z+ITgRqFAREphrjWDaRkgo5fynxvw4raJqrWQEHLm0mRDiAcCMIduvM0mX/B7CMd2CXW7Oa946S8Lh4SQP75/mfnf1jkLCIenLsSRtGB5eYtBT1fl/zvBIDOXJvniswV+XlsjAdDZXxei7bBi5qM3KYT8+LVn+eX3GF9F/iWgdREaLEF8GY0CsJZMspLJEHU56VdXiA1NYBNCGpYZOZADwuGRwuGRpnh4PsKo38PY8yMMn+xherCHT25H6eroAKDLbmc2GmVVVSs5YoMT2DR9T+6mAMLhkfgehc5+Lga8AGTSKucH/Lx15SrdfjcjoQAyp/FDZL1yXwIIZ7NslsXtdjuevxdQ2o9hswzlvi0w+yUCIQYSy+yoKqu6QXg+wmPDvczdWmFNzZPZyQEwGlBYXEuilF3ICMHCqQsAOJ1OXHduotXRqQsgHB4phkYhm+P4Rpgn1DwArz59lqXFOPG1HXpPeEgurfLtfJQTiot/kiW7w9ksAAunLqAoCvl8Hu8fcxTKuXXDqNaq3Q2FwyOdjz/JscVZpvXSxZ++fI43vl6g1+9jqEvB3SnJaAW+WYqzo+s84nKRVFVihlGpWlEUlDs3KWgaBV1HK+fSDYOUpmMOYluteN8zL5H+/hrTusG11y+ixVJ89FeagV4/q/Etft1KMOH34XKA0tFBLJtlZnCsksPr7QYgEJkjV8/eWrdNB2xCyN6pV4jHYwBc78+Q3MiQSBe4nUqxkyvsqdKMkTOjpFK7ALgWrgOQKxYBDufAmfVFfKNT+P1+XrzxHeACB6XDEu9eeY/tewkid++yublJX3iWnXQagJTluoJWb+waOPDUw/10ud0AFJ+7TGh4mJPBEMFgCIBoNMKf0Qj3Pv+gJJbJANwXz6l1qwfQdGNP9VUA9SA6XS4A/F4FgK3tZJWwVdwEsIoDDe2HfV5ElYrKQlvbyQOJ14ZZ/X7iexywugBUnGgEaRU/bPV1AWohakGsws3EYf/eNwQwIU73+Oh0dtRdPwpxaLAXGFKK/SCs/W4mLjUdv9OxZxtuCmCFADjd46taM4Vrxa09l5pOh9NROVcvmn6QmNTWLbTP/VDVNWbVai5fdd4Ur92ADgVQC2LC1Hs+Bnt85ItF1KJGwSi7IWXDGdh3CJuF9UkxZyJfLLKbL7lwkAGEB/gmtMbGbunNb85AtlCai2Th/nw0EocWHIDqubBGM9EjAziK+A+LRAg/wh8bGQAAAABJRU5ErkJggg=="},golem_heart:{id:"golem_heart",name:"Golem Heart",type:"loot",rarity:"epic",description:"The magical stone that animates a Stone Golem.",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgMTE2Ljg5ZDYzYTAsIDIwMjEvMTEvMjgtMjE6MDk6MzMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDYtMjJUMTc6MDk6NTgrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjE5KzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjE5KzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk0OTUxMzYwLTYxYjctN2I0OC04NTRhLThiZTMwMjVlNjgyMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NDk1MTM2MC02MWI3LTdiNDgtODU0YS04YmUzMDI1ZTY4MjMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NDk1MTM2MC02MWI3LTdiNDgtODU0YS04YmUzMDI1ZTY4MjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk0OTUxMzYwLTYxYjctN2I0OC04NTRhLThiZTMwMjVlNjgyMyIgc3RFdnQ6d2hlbj0iMjAyMi0wNi0yMlQxNzowOTo1OCswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjUgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpPaVVQAAAUaSURBVFiFxZdtTFNXGMd/t62sYJG3VooKqMz3F2ABjFuIMxsfZtyyxWxijM4sbjHLsrhMlm2JH2ZiYkCzTDe3uUT9MJVlMfGDWVxInGhUFAcNjhcFSkspFqgtpW9Q2p59KK3IsL1sJHuSk5x777nP//e83NNTSQjB/2kKuQvLVApRplJMS5svSbH7uklzOaaSK373SjU+gyEyD4alyc/NQkj6CeGP9Xp0kiSGhJCm9zbFhBCyRqlSEqKuRnhrdopSpSSEEOSByAMhhCAbxCG9XmRPXAshKFRKonBi7bOGbICpEHkgzOvXiOPpaWKqeB6IQqUkLmzbMPsA3pqdYheIXSCOp6eJ1+CpkQfiYG6WuLbzpYTiQggkuV9BmUoh7p7bx+7K71mv09HsdOIMBvnNchY6hvAZDAA0GkwAVNXeYmqvTGfym9B0Bl9tHW9vLqT2RmtM3Fdbh7nbQX1LF21mO97RcVkByQaIitMxBMCDv/oj4nU1+GrraGmzYnhgpc1s53jD109lY7ovZsYAQMzp+fMNsVs+g4HGph7sfSMR8WOVXKv6EYD2XjsANZUvJoSICzA59Y0GE4M2Fx1DdlwTz0OeIPVGK0f2b+HoV5cx9w3j8PvxqJ+4TQSROAMTqbd2OUgKPvFxv6mXS02dHNm/hZOnr3O13QKACzi8tZT2XjtXWix829BFa+jZGUi4FfsMBhoNJky9Q9hGIrF7gAet/Xy6dTUnT1/H3DdMhkoVEa/cSHuvHbfLTat3NK64LICoJQUlBscCdAO7dDpK1ubRZw1TUrgIh99PZnIyHiL1N3Y5AHhTq2aNcvrfD1kAAyFBo8FEZ5vtqeg3rFzEY8swxZuWcq+xl8zkZFav01OSpeGHW514AgF6rN7I+nD8fSYugFkIafe5m3S0WdDPS6Mb+GL5MqwDHrJy02muN/LhvpfJV6t5960ySlbksBBoGXZjHnbzyBnEG1deRgnMQki/jgVYlJFOAXDiYSe5y7UsLl7AtfvdABw4/xkpufNYlacFYG1WKgDOYDBhlycEyJck8XN5cey6ADh8+Tb7qs7xyUcVpBQVwUodANrHbryAIgxlBXq0c9W8AOjjnBFkN2Hl81qqK0rpBg6uWcnRd8qpOnQxIt5jxmcZia3NSZtLdnYquoy5zJmjJBjHr2wAtGoASjVqDrR2EHaO8t03O/hl7zHoMgFw4k43r6/K5XeTDYvVxZAzUQfIBFg4XwPaFI7cvs/nG9dRAOh3rCXc0Mf27SX4HgdorjeyY0sRtkE3AE6XX1Zcsppw88UbYPeRqp6DPkdDdUUpu987E1vTXG+keNNS3AM+FElK8jXJpGiSAAiFwnEbUXYJjN4gRQuzQBNx9355MXtO1RFu6KN401Ka640AZGWmsDgrVVb6ZwQAsK1wCbxajH5ZOj/daObsBxXsOVVHc72RYJqCgWEPLs9YLP0O/9jsAETLYPQG4VIjLF9CdUUpgz3DpKWosTy0Y+1y8GfP4D/ebQgLbHFOyLKPZBDZE/7YVk7KyCj6HA22Rx4UGWquGmzcfGQjNTMZp8uPd3w8Fn1TWNA/WwBRiC9X5LN6fiYqhx/zeIjOETf+58IxcVcgciy7Mx6KGz3IPRFNMrMQUr4kib2uJ/XtH/XCaGTuCowTCoW5lyD1UZtxBqKWL0nijdTInh9UToB4fYRCYRrCArvMf0b/GiAKMQa8olLhCoeAxDWfVYCoLZAkEQCUwMAMxGcN4L/Y3/9gQyKVJy8JAAAAAElFTkSuQmCC"},pristine_crystal:{id:"pristine_crystal",name:"Pristine Crystal",type:"loot",rarity:"rare",description:"Thrums with contained energy. Awarded for fending off many foes.",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgMTE2Ljg5ZDYzYTAsIDIwMjEvMTEvMjgtMjE6MDk6MzMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDYtMjJUMTc6MDk6NTgrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjIzKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjIzKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI3YzgxNDQ4LWU3M2EtY2M0OC05M2Q0LWE4OWE4ZGFjNDUzMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyN2M4MTQ0OC1lNzNhLWNjNDgtOTNkNC1hODlhOGRhYzQ1MzIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyN2M4MTQ0OC1lNzNhLWNjNDgtOTNkNC1hODlhOGRhYzQ1MzIiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3YzgxNDQ4LWU3M2EtY2M0OC05M2Q0LWE4OWE4ZGFjNDUzMiIgc3RFdnQ6d2hlbj0iMjAyMi0wNi0yMlQxNzowOTo1OCswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjUgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pm0OM7YAAAOgSURBVFiFxZdNbBRlGICfEdvp1rZDs52WBaVBClRCYjUGIjGYiKEHNTFoTEjPnKqk8SKSeNCDBzUeTMDExBMmKAdjoqKriRGJsKVSm5b+7JJlf2i7P7Mz7XTZLUOzjIelm23Zmf12rfG9zfe9M88z7/cz30i2bfN/xsO13uCV+isa67Zf+s8FvFK/rZ/zkx+Ha2kIxcCwUqQy88W+OiQeqgk+XRkO8NpjJx2r4xaSyBzwSv22/oGfyRQYd9bCjZUgt3NZAIzFDLP2KWaWbeFKVB0Cr9Rv/zHo51KsCAZn+ODQeSLhbfR6JDvS2IFlalVFhOZAIFiEpu9cR1/QALidy2IsZko5RbjG9NQcH43c4kpgmMa2DvvuUsZVwnUIej2SPZN4ixe3+ir2Dw6dByASLkpNT83xyrkiPBKNEQ9O8Zf/O9wkqgoM/ziA8sJXsHgCc9QgGtG4GU4/AAaQB06ja2l++fZrCoV7PPvS65iZtKuEo4CsqHbA0DjTJ/Hm0JFS+yr8wvdjpTbj+Xf44eyXpWtfzxMAZI00hcI99h445CjhKpA3NcYLcKbvQXl54DSJ2XgJXD7hZEW1ew8cwtQ1rHyO5VyW/KIhLiArqm2ZGgUgA8wXwMpBOj7LlcAw2UyKLz58D4C7S3rF0q6XMObjFVeF6yrYBHQBy5tg/D48HQ1x9rNPHMHlsb27mzhguuRU3QlTQHIJRkbHaoIDPNLewebOyitISCAFLAOjk1HmQxM1wQH27NlNm6fRNcdxCOLAtWSWRERn5voEOWQkSfjTsSYa5CbHvopPtExN2qWotG1ppVX1IcnNdYG927qr5tT3SoLRtXMvAMpmZWMEaj09pcJTVXNcBQ4DW3tkmjz1DYFIOApYpibJiso+YN9TT9Pc3sn+l99AVlThMuhzxe+3lc/VLrA+WlUfjz7eI5ouHMICzxx8rm5I6O8Rx8OJq4BlatJ2ReVIj1xqE5mIsqLaH39zgWAwRC7rthHXUIFdnTJdu5/k6IlTQvNAn4uRW8igJRP/TmC1Cjva4Nirh4HalqNb+YUEyiUA+vYfdK2CrKj2yU8/ZzRwmeiNmarPFv4xsUxNktu32BdjScauXl5ThXKZY4Nvc+nXn9CSiapvX5MAgLWQlGRFtS/e0uhoaSqBfd078LS0IDc0MPbn71grK9ycnBA6lgv9mKyPVfDxd98nfCPE1d9+BqCpuYXM7P3NRwBet8B6kfIQBW+IwEbEP+xm9ofa62IXAAAAAElFTkSuQmCC"},dragon_scale:{id:"dragon_scale",name:"Dragon Scale",type:"loot",rarity:"epic",description:"An iridescent scale from a powerful dragon.",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgMTE2Ljg5ZDYzYTAsIDIwMjEvMTEvMjgtMjE6MDk6MzMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDYtMjJUMTc6MDk6NTgrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjI0KzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA2LTIyVDE3OjExOjI0KzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmY3ODU4MjJhLWI2ZTktYzA0MC05NWI1LTVhZmJhYTU0ZTZmOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpmNzg1ODIyYS1iNmU5LWMwNDAtOTViNS01YWZiYWE1NGU2ZjkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNzg1ODIyYS1iNmU5LWMwNDAtOTViNS01YWZiYWE1NGU2ZjkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmY3ODU4MjJhLWI2ZTktYzA0MC05NWI1LTVhZmJhYTU0ZTZmOSIgc3RFdnQ6d2hlbj0iMjAyMi0wNi0yMlQxNzowOTo1OCswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjUgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiP91iMAAAQwSURBVFiF7ZdtTFtVGICfgyzjKslYBMaGkvExVkCgkAWWjSxxZH5sGWIwBIf74+LEjyWaqMlM/42EODVLZrL4x0Rj1MWtwR9ggqMk4ojDOLiInTA+WhFwKQ3daFkHLT3+uLT0Qot86RLjSZrmnnPveZ73ve99b66QUnI/R8x9pf8v8E8IGIWIWFS7osxvqIBRCNn0wVIJgyJkWRSJDRMwKEK+A9ALDQmahEHRficrUgG4cHSpxJoEoqUZgHHtrwK41FBKZ3Mt6ZlJ2mQPXIjRS6w5A+ESBkXIs28Vawd/6M/bcjCdmjaVitNGvhyBvoB+fdUCBkXIDwHVrEkYhZDPPgYVT2dEPH/z3nqyygQ1bSoAk4vW114DXfBpBrwIFBenwY5EjrlO0d4HE9PzsjnbmblYx+BVycWDRvKrU7EDL7BwG6IKRLrPulSPhM3nbEd56WNIqOOY6xSxvoW13m+6+bmmlKzkzaRnJoUkgmPZDIRXskER8u19UHGiRFsM26WkuZP9hwXKoTxI2MIRSy0Afb/9CcCgY4YrP45iG5oAIL86lQfitGtFtJeRUQipmuF8FfirU3mqLI3co4WwMxEAi6jHnwz9Dnj8XCklzZ14r5jwtfxK0/cLdkHo+OCYbv+mG9DnlSJ2uQzQBQcyoP3rMfozk8jdmUh8VT0es5Vy1x0sWz8CIK0gC29lkQ7e0aLqtuoYEIs21wJfXsAFRq2H0N6gEt+vUvV8DPFVeXjMJvZYarGWf4HdNsFwq1UHXgxMSVG4OxvA7fVrEz7/CgTc+sPPdxs5/pWKx2wCuxO7bYJHTxsZHnLQ26Yy5YMem8Djhz274pgObNLimPbr4COTfkZ9UoQEjEJIVcqQskER8qypGEt9F+XHgbDbN/ZaLdid9FiGQ2CAH25qlxvSteram7+NG2N3cd6ZiQrXZSAoYVDmG8uJEjhzOFRs4SMcHgkMhOB2x0xUuE4g2NkunSslv7IIggUnrVhEHgAZmcm0tVp1US8GrwauE6AL1Cfg/Jud5L9xiPiqel45I7SCs9WRGCXqfYUpBAJaRTtuz+CcntPBRyY1gUjwkIAqpTAKIdVXge+g8d0mPGbT/CNnoueTn3TwYNTPHUhl1OVfAp6bnWPI6cMno4OXZgDAPf/cN6g0Ah6z1liC8O7hGPbnxrE7extHchS6x2eZuD2Dw3WPgXEvADfH7wFgm10evEQgmIX3wgouPPLu4RgKs+OoLHuEjIdj+faXKW6557hqdQFw/ffVgSNmQJVSvC6EzGahhXa0qHQMCJ4sWIC397m5fM25LnBEAYDWOMjW9gzBXy57CGPBDgDebxzF6favGxxVoM+r9YKTi+bN7bcAuHx9Cnfg74trpSPq29CgCLl1k+CZogf57No0sxICrD/iFQsEJXxzMLTB0BUL/Bvjv/dpttrxF8FyOXhEs3zVAAAAAElFTkSuQmCC"},stardust_phial:{id:"stardust_phial",name:"Stardust Phial",type:"loot",rarity:"legendary",description:"A vial of shimmering, cosmic dust. Awarded for incredible platforming skill.",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAArtJREFUeNrEl01PE1EUhp9bwAhYSqBfElsrtgXSEqSQUjFulA1ETYxGoxgTF8bgL/AnuFIXJm5csXPv0oSFG0JiIgILFIIgqSACtgqaantcaEc+2k7b6cSTTDK5PXPnPc95771TJSL8z6jWS1BK5RyPuer2KR9f3c6ZXKjI6nJUx1x1culCC+GuHgBOhAMAXLz6QPKJyFugXgtyEQjZDsjRplo6WtO4W90AjL1YY3HjOzOJlCqFQMkCFMghDnIuJLz/ZNHGI2Ero2NJtkmRJqOKFWApCRdIkABhung+o/A5M0TCVi4PhRgdSzLMABM8Q4GY1oKsiCaamGZSGx9mgBh+bvEIAWVKC7L4AVrw4MPGMdwssEIV8JJpAL7xY5eIighQIIP0Eucz21j4SHxf7nHc9NNBBB+3eaKJMCxAgZwiRpoUDaRZJaH93oIdAB8OAKK00U43rf4IrrlOROcd1cUab54FrNQDjbiw0caRXXnXuYLN3wxAOwOs8Y7M/Z9Y7tUIezxR8ipopEG7X+cLW9T+W34EGPGP0HfzmvZyHoKDAImnH4yvAotSEqWHJZYBsFKPEycA3TjpxKvlnvYP/RVxhgRxUvO/cEmQjIiq2Fb8lS0U6zhoZo0apliiEy9OPMzOTbHMIrNVkwQzUex4jB9G+SKNsMgym6R5S5zzZMqaR9cDAmqCV3j3mC4bSaoAmGZp17gdDy4J7tuUDG3FepEVEcxEK0cgH4UNNgo+U0z1ZRNIkszZBlM8UCyFBVYI46WXfkJytqjqDXlgJ4UG0uYTKIZCL/2c5EbR1RteBVkKq2ziwc4bxs0lsJNC3Y7z4M8p6OcOj0uq3hABO83avQMrr5kvbyIRKXgVOqb76JHDuOQug1LoO7DQ/IY8YMT9hglkKehVbyqBSkRZ/4z2UtBzvqGPUrPjv7fg9wA4LFc9bnBMBQAAAABJRU5ErkJggg=="}},tU={seed_focuroot:{id:"seed_focuroot",name:"Focuroot Seed",yields:"focuroot",growthTimeSeconds:1800,spritesheet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAgCAYAAACFM/9sAAAAAXNSR0IArs4c6QAAA3lJREFUaIHtlz1oE2EYx38RFydTRbFLWq3GDoKph1XSQ1sHKQQXtw4uHR0MXRTU0SyCSBwyClIkm4sEOomFa9BqbAsVarHmA6ElpiZpKbVZ4tC8x93lcrmrxfrx/pb7yL0Pz/2f557/G5BIJBKJRCKRSCQSiUQi8YBvrxP4E1HUcF2cZ7S0o0b7f0tGfxGKGq4HIsMAlL+WUMBRTCmgAat463PvAei7OSIeqVtFbCmgsY1x0cpu4mS0tM/L57FXlL+WODlwCgZOMZNIspovc7irQwhpEtFWQEUN1x/fuGy6N9Zo5Z28tKgqUBfVnEkkvYb5LRRSE8aO03MXIlrZ1ypQLlsF4NV0jlfTOaJqiKgaaupMt9Ty66bEsOnyvcbYHKLAQrRCaoLVfLlpja2AGS3ti2uz5LJVrvR3A/Dl2/binYhYy6/TeSmgX6/my8au3HUUNVz/leJYv45CaoKMlvaJo/E3RxO5fv9h4yymd6QXxEuszE/ReSlgW8HdxmgEtHFQO6xzWuSsqOEmA8FpBkbVEC8e3Abg4ugtjg3ByOio62QUNVyPnz8LQHFpk1giybEzA6zMT5mSdRPHy7PWznZy0FYx7h0KEvu+aCr4vUNBYqoLFxYGkstW6T5+kFy2ypunTwC4drqLl5/y7XLQxSsubRKMdG4nQJDY/JQnE1LUcL3v5ohnwymkJghEhk1jws5BnXh24zKVheXti8a72GGagUb37T5+0HQEOHGkg2unuxxnoBDP3+snGOlkMbWdxNGeA27yNsXxOifFnBIIA/BaAJGrv9ePv9dvumelpQsLxsYniWuzupAnjjRbuRVRrcpChaM9BygubbasYDtmEkk2altDbp/PaGnfRm1ryCikiOOm+zZqW0PRd3P6dWWhAkD03ZxtHnpA273f+CSByDCHuzqYSSSJqiH9t7g225SQsfsWU8t61YpLm8S+L3reQ/b2K4MAC9OZ117WGdcKvMQQc9BN/i1deGx8kuejVyl9LPKocU/MRCeMnSbOdyIeOxRuN9ZmtLTvbv/WICvt49kKODY+SfzCOUofS/worFF4+wFrd1qxui4N4fiD/7I54bYAJgGF8wL8KKxxZ/kzgGvx/gXhvNI0w6JqyOS8RsTna51/xr0T/4lwgqYXFVsUa9flslXi2izYCORls/uv0fKF7fZ6/6NA7fgJjfzXfRSJNTAAAAAASUVORK5CYII="},seed_swiftblossom:{id:"seed_swiftblossom",name:"Swiftblossom Seed",yields:"swiftblossom",growthTimeSeconds:2700,spritesheet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAgCAYAAACFM/9sAAAAAXNSR0IArs4c6QAAAz5JREFUaIHtmD9IG1Ecxz9CSaAiEoKQLolxqYNDJMWWGNqmkyAubg5dHB0aXDqVDtIuXYodHLs4uLWUUujkP6IUaaoFoZb+Sc7FQJEgwSFZ0qH3e3133p2X4lD1fZa8u3t/v+/3/b27gMFgMBgMBoPBYDAYDAaDwWC4LHT5Pcjmc239ulza9K170ZC1l0ubXXrZq+4Vvw6e37/juDcLgR15TUA4T+Jn87n28MyUXLaT42OqjMdaPAUEqFaO6E/3srxVBaCYzwAwD+0gQVwTcAzuNYH/meGZKQ6tuirbONbvKWC5tNk1D+0iGe6N9LO8VeXnrzoDfTGK+YyviF7ipRNN0nOTf288Dt6As6ITG+ptkuNjHFp14qmYuq+X3fhGIMDko2d26SnVylHoyR9adW7cvBq6/lkjQti0/aInCIm8ltUAW8DthaVwFs7mc+1iPsOrJw8BuDX9gEQBpqanwWcnJfrOSrywUXMaiaHR0HXtsZTgB+v76jeS6sHelGALywEiObBaOeLDyxcATFxP8far5TsB2TU3lVqUdKJJpRZVY3SQR/8pf4rtDqwGB+v71HY3OG41C0Ft3CkokupR/fitzSGgfvr2p3vVr9h3oC/GhL0ov8VI9IlYQqUWZXthCd1aYQRJDI1y7XYydBsvEQDYhb2t8upp4wmuuRJPxcJbWJhdXFNlicqBvhgERCEe4mHbIDk+pnZ0P6D9catZ2F5YWgEci+gUsV48FSP+R9TADRALu/vQNvAESkD3u9/s4hqTc5MqcnTcJ3E2n2tLrnGLJ3lEt8Np7G2VVwdHsgWAL6/f0B2JrhDSwroIiaFRxyEQBrF5dyS60rIaYEej/kwnMALdYuh29kIXSHKGspCGlxXciN0GR7J3j1vNQif2k4X++LQMQG03/AZo4xakvX7fjaeAs4trDM9M8X3jG43PH3F/lQThl2z3371Xtu3kMOhEuIA2HZ/kYcd1CCgnL/YL8HYI8cS+kVQPh1YdCXuA2u6GKp+nL5BOcCxK3v9ERDdi3/nSDnr+S46P0bIaRFI9tKyGEu6iiqbjiED5hKPEicirVo6YL+2oevozt3iXQTgh9N9ZBESUXvcyiQfwG+FA0aPp1CrvAAAAAElFTkSuQmCC"},seed_stillpetal:{id:"seed_stillpetal",name:"Stillpetal Seed",yields:"stillpetal",growthTimeSeconds:3600,spritesheet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAYAAADtwH1UAAAAAXNSR0IArs4c6QAAA/NJREFUaIHtmD9oG1ccxz8qwTVK3WAbG6UCyfGgKyJQm4PQKkdTezI4GdypHrJ4DKTGSxd1rJYuwS147JLBWzs0CZ2cJshyMQilYEzlQX8MrkWLbeQ4pjGFy6B7p7vT6Xyn+E8w77Oc7ul+755+3/d+fwQSiUQikUgkEolEIpFIJGdG6LwXcJFRtZQuPuezOVdfSwFOAeH4dF+C9cMQybBOZnfDVQQpwAmjaik93ZcAYP2w6V4hAo7T8N55LPIik8/mQpndjRbnR5QoP3421vK8FMADVUvp1jgehGRYN68RJQrA/ZWnLWHoktfLrfftkshFRYSSJ1+pALrf32/1mxDBC1cBVC2lP7h7yzY2Bzo+hBALeBcEe9u1GM4PPFfk+k0ya8tMdSskwzq14pYZ/520PQGVcp2ha1dYWq0AMKuNADDvsRtULaVPdSuNG42WE3Qe4sQmJwCOLQetiHUWFhaJTU4wem8ace+XyPWbrAArwNXPY4yiutq7CpDP5kLzoM8ywviNIZZWK5T+3WN4oJdZbcRVBKvzSwf7pAcTZuyrFbfIaJjVQUbzf6RPgk4cKGy2n29CvNe3XT6bC6mgC/ud6p7n821PAMCX335vfMpQKdePfXkyrPPon5fcHuwhokRZKvwNwPholHQR87t0X+LUROg0aXrZbz/fpLa2HOj0+LVvmwNmtRF+/u4bAD6d+ZrIGEzPzIDLMbbWvlaSYd1Wjg1/8KE1Gvj6EZ2I5Nzx4up3rtjkBDvVPY6qL+mK97D5+DdzXX7mcNrX1pbb2rcIIBKwyAGVcp0/fvoBgDtKnF+LVc+XCyfXilsAjI9+ZH7GaE78VAfCiU7FgggSm5ygP95L/73pQOFH0BXvsa0l6Bx+7G0CWKufoWtXzKsIP8MDvdxpPOq6E6y7HTDDUDLcHPNqy9sRxAHGvKZo/U0hfeG0N5L4qdn7bsSEIMMD7gkpokTNnS2EaDi/OVY62Pfl/FdHr8cKC4vsVPcCOwDDCa+OXo9hJMHCwiLiPqg9hvCFhUXfmyaIvTngrP3nHj4DwDpmTcTz2Re2CVUtpYtWWyTf0sG+EZLsTYnfE/DxDfULgMtd7z/FEOav1fzvfpzgnCOo3VnZt+QA4XjxT55VCGs4cpLP5kL3Qf/k/6vm2O3BHlsIjyhRWz44DsuiO66WOnXcWdm7VkFT3Qrrh41dmwwn2nZxbogdXzrYN8dEP9A4GefeIL9T2ASolOs8uHuLuYfPEE1VZnfD7IKPI5/NhcwO+BL8ubvdENMISb/8V2w+JwHndhT1v0i4AmtJikv89+Jta/qLTotDhMOcf8ZVynXmsy9AOvJEaetIt5ZaOv7keQPKmB+0Bi+73wAAAABJRU5ErkJggg=="},seed_oyster_mushroom:{id:"seed_oyster_mushroom",name:"Mushroom Spores",yields:"oyster_mushroom",growthTimeSeconds:4500,spritesheet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAYAAABQrvyxAAAAAXNSR0IArs4c6QAAAlRJREFUSInVljFr21AUhY9b4wyJMTR2wHiJJht1aEDgQjCt1SH/QIMJXTJmiDwXMpT8gEopZCqZWjz4BwTSQaEIDwGRtFARTe4iXGynYBwPFgR3cK76JEuWWtLi3klP9rn+zn1Hegb+80pEfUGobE7YtaG3IjX/spJhHxB4U6177ksyJotkYgYkCLxjmVhZzeHmuod8kYckKwuzEx4IobI58U+8Y5kA4BpYWc0hnc1FmmCj9ydm40Y3yQpY+GG/5wLfXE+vf+eHaxyPtUIKAKAifuxIL1c2PPfDeiT98ATuLzIyb/rUZ9if6j9rX0EwcUyw+o/vL7BWSEHVL1Hj+FDNA3ZBcSFgqnxx2mDv6DRW/tPZacxU/RIA0LUdAECpLFRLZaE6T0v6RtvEE/ExmmodjbaJGsfPxMo1YOithCQryBd5z/QJHAB2Dj7A0FuJMHh2esN+D5KsuPD24BY1jsdyakkjI6y2VBaqrL5jmTjc3UI6+2uIFEf/EGYeYro+3t/2NCAgBDxQpbJQXU4taf5niKb59vUJAKCQeYhG28TIGYsAcHVunBEMq2djvHd0Crmyga7tuJFi9Z5zgAXbOcCETEiyguP9bRco6CwYOWNRkhWN1qyZTz8sPHtUhD24nd06n76p1t0I0hDWuQy6ds+NIluhBxlb/t2YB/HqxVNtnct4dmzkjMWT719i6dkhAMCbl8/xrT0AALyzLkS/JvKtcLi75b6BcLelQRGKpPPV1blxdh/6WAZwB445B0ocCBb6vnrE/jMX9yAKgogC/5t9Fr5+AsgFVjPBf2NLAAAAAElFTkSuQmCC"},seed_sunfruit:{id:"seed_sunfruit",name:"Sunfruit Seed",yields:"sunfruit",growthTimeSeconds:7200,spritesheet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAYAAADtwH1UAAAAAXNSR0IArs4c6QAAA8dJREFUaIHtmD9IG1Ecx79pih2KxCAH1YNEhdKOymEp4fAfGUJEhC7FwUU3h4QsJUPHFkKXYAa3uji4tWRocJBYyxHEEnRrSweNEDsESYM4GJDrkLz43v3LneSP1vdZ8vJyv8t7v997v38Ah8PhcDgczn3E1e0F/K9IckClv+eVnKGuH3ZsRfcISQ6o26l5Zi4YgWpkhAedXNh9QJIDaiY+o5vPxGd0twLcBbUW+uQXv//FllICAIRkAeJ4HwAgGEkz7ojfgDZBlK8da+EG6DLcABZIckA18tt2CMmC4VgLjwEmSHJAHVtZAAAcrG2appFGcpn4DHoGe5n56uk5woms7j38BlhwVig7lskrOVc4kdXNGykfvA7Qo3U5To1A5IORNHyzIQDAyZct54WY3UrutkPvw+4eiOKqhXPmPe2QNzSAJAfU5OIkMxcDVDub0G74JgpoFVo/7pQefy/6/V4MTPjaJm96A46PKhga9iC7fwwAiMqjAIBVGJfU0BQitaADJiCZlePtgFa+E+rrU32zIfT7vW2XN1WGJAfUqDzKGGFEqL1wVTnUnWZy0ukeSPX0nMkGgpE0vciWo3WbTrOYbshbBuFXbz/UR+9xfFSx/GO6BCdld6l4BXEQjXnyjJOb4NSF0Zs+K5QZP2yHTsubxoCoPIpP794AAF4uRfBkGlhYWgKaKEIc72P6IFBKTC/EDrTSb+rDx1YWcFYoY2DCh4EJH2DhOrspr6sD6AA8NOwBAOytp7C3nsLcM7/pH1ZPry29pZRQrFwBAIqVK6YXQj/XbANOfXheybnMDDW2smDYjey2PHMDjJQ/NOxpuJ8RwYu52qOMNWvFRy3gloo1xYseN4qVK4geN1B3QYLoNi1IzDgrlNHv9xJjND2FJAiing7++XZCTqAtOi1vGQNiG7tAPQMihhgRvMCvAvMcXX6LgzW3Q5RPPokLysRnEE5YK/Kiejl9sLa5AyqndsJF9XL6cc+jHdRTQafuq5PyDQNoc//Yxi62U/ONHkZy+Pq3qDyqS0fpbCckCw23I3rcTDNK2yMx4ud+/isA1/MX0tSPz2mQzdiFyF9UL6cM5m+VvOENIMr/mPwNNE5tFsnFSctsCFQWtFwPxuTk02O7UAu+UdpqV2HdlDd1QXSwbHZq80rOFYxAVwcIorsxFsf72l4H3EWYLIic7uTiJMKJLBZfP8Fy7CmCkTS0rQktWqUS16XNerjyWXTVLAm4RhADGVXC9DvIuNu9oLuATiFEYdoTf3xUwapyCHBFthTLXpB2jiu+9fwDERBk83IKFcsAAAAASUVORK5CYII="},seed_luckleaf:{id:"seed_luckleaf",name:"Chamomile Seed",yields:"luckleaf",growthTimeSeconds:14400,spritesheet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAflJREFUWIXtlr1r20AYhx+bjEUmZCoId+1qvBmTkqmBQBGCFoIIBLqZ7P0PCslYirdCF2FoQYiCwZ0aaEjAYJzRQ6DY8VQIIU4zxMt1sO54rY9+EVFo9SySjtP9fu/HnQQFBQUFBf87pbwF6s2G0veDo+Pc9RLi51+/qJOzU3VydqqkGc1KXsLy2R7uw6OXqXPv3EC92VBh4DOdXQEsrrUX2Bnzc8kAImrH9ahubTLp9n7dgE7hnzZNPOpXz3eYPn0CwN5uS8l1jQFZtzDwAXBcT/2uicHRcWlvt6UAqlubZjyrD1YQdTPuY9x1RhIGJA9nH2EGI+uxEZcZkZGmidWbDVVrbTNsdyDKwsH7D6YH4u+V9aDjekvR21bFlELz+m2bMPAJAz+x1aQ4QK21zXx8DcB8fI0ej1OWD7ZV4Zv9zESvmc6uuDd9t8jOD7iZ327oyCX316vGVNx4OTEbeNP/jON6OK5HGPjYVmXJjON6mSWQJrSwZtjucDO/3ZBjpgeiMpjulXWERU/YViXzQAEY9QeHsgxSWJuLv7PUhCIqRbSF9EFCtJ9/RpSBTzqAuOioPzjMNJDWWFp80u3hZHRyikAJUFo8LipZWkim72J8ydqDVS7Gl0y6vdw+pYlF4zUctju5fscTB1Ekpoi2zV+j3myk/kD8c3wHqG8GoRbBCBQAAAAASUVORK5CYII="}},nU=()=>{const e=10,t=[{x:0,y:0}],n=new Set(["0,0"]);let r={x:0,y:0};for(;r.x<9||r.y<9;){const i=[];r.x<9&&i.push({x:r.x+1,y:r.y}),r.y<9&&i.push({x:r.x,y:r.y+1});const a=i.filter(e=>!n.has("".concat(e.x,",").concat(e.y)));if(a.length>0){r=a[Math.floor(Math.random()*a.length)],t.push(r),n.add("".concat(r.x,",").concat(r.y))}else{const i=[{x:r.x+1,y:r.y},{x:r.x,y:r.y+1},{x:r.x-1,y:r.y},{x:r.x,y:r.y-1}].filter(t=>t.x>=0&&t.x<e&&t.y>=0&&t.y<e&&!n.has("".concat(t.x,",").concat(t.y)));if(!(i.length>0))break;r=i[0],t.push(r),n.add("".concat(r.x,",").concat(r.y))}}return t},rU=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},iU=()=>{const e=[],t=[],n=[...ZF.daily],r=[...ZF.weekly];for(let i=0;i<2&&0!==n.length;i++){const t=Math.floor(Math.random()*n.length);e.push(u(u({},n[t]),{},{progress:0,completed:!1})),n.splice(t,1)}if(r.length>0){const e=Math.floor(Math.random()*r.length);t.push(u(u({},r[e]),{},{progress:0,completed:!1}))}return{daily:e,weekly:t,lastUpdated:em()}},aU={username:"",totalXP:0,currentLevel:1,assignmentsCompleted:0,friends:[],ownedItems:[],equippedItems:{avatar:null,banner:"banner_default",background:null,font:"font_inter",animation:null,title:null,wallpaper:null,dungeonEmojis:{},tdSkins:{}},ownedFurniture:[],ownedPets:[],currentPet:null,petStatus:"none",assignmentsToHatch:0,cosmeticShards:0,focusNavigator:{unlockedLocations:["genesis_prime"],explorerStreak:0,lastStreakDay:null,dailyFocusMinutes:0},activeBoosts:[],dungeon_state:{phase:"class_selection",playerClass:null,floor:1,board:{},player:{id:"player",entityType:"player",x:1,y:1,hp:100,maxHp:100,attack:10,hasKey:!1,activeEffects:[]},enemies:[],enemyMovePaths:{},lastMoveTrails:[],turnCount:1,log:["Choose your class to begin your adventure."],gameOver:!1,shopOpen:!1,ownedWeapons:[],ownedArmor:[],potions:0,boughtStats:{hp:0,attack:0}},dungeon_floor:0,dungeon_gold:0,dungeon_wingmen:{roster:[],graveyard:[],equipped:null,upgrades:{}},td_wins:0,td_wave:0,td_castleHealth:5,td_towers:[],td_path:nU(),td_gameOver:!1,td_gameWon:!1,td_unlockedTowers:[],td_towerUpgrades:{},lab_state:{sciencePoints:0,lastLogin:em(),labEquipment:{beaker:0,microscope:0,bunsen_burner:0,computer:0,particle_accelerator:0,quantum_computer:0,manual_clicker:1},labXpUpgrades:{},prestigeLevel:0},alchemy_state:{gold:100,inventory:{seed_focuroot:3},unlockedRecipes:["potion_minor_strength"],upgrades:{garden_plots:1},gardenPlots:[{plantId:null,plantedAt:null,stage:0}]},studyZone:{flashcardsText:"",platformerHighScore:0,flashcardData:{}},achievements:{assignmentsCompleted:{tier:0,progress:0},hardAssignmentsCompleted:{tier:0,progress:0}},quests:iU()},oU=e=>{let{isOpen:n,onClose:r,onSubmit:i}=e;const[a,o]=(0,t.useState)({class:"",assignment:"",dueDate:"",timeEstimate:"",pointsEarned:"",pointsMax:"",difficulty:"Easy",status:"To Do",recurrenceType:"none",recurrenceEndDate:"",tags:[]}),s=e=>{const{name:t,value:n}=e.target;o(e=>u(u({},e),{},{[t]:n}))},l=e=>{const{value:t,checked:n}=e.target;o(e=>{const r=n?[...e.tags,t]:e.tags.filter(e=>e!==t);return u(u({},e),{},{tags:r})})};return n?(0,vF.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:(0,vF.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-xl p-8 w-full max-w-3xl max-h-[90vh] flex flex-col text-white",children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Add New Assignment"}),(0,vF.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(a),o({class:"",assignment:"",dueDate:"",timeEstimate:"",pointsEarned:"",pointsMax:"",difficulty:"Easy",status:"To Do",recurrenceType:"none",recurrenceEndDate:"",tags:[]}),r()},className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 overflow-y-auto pr-2",children:[(0,vF.jsxs)("div",{className:"md:col-span-1",children:[(0,vF.jsx)("label",{htmlFor:"class",className:"block text-slate-400 text-sm font-bold mb-1",children:"Class"}),(0,vF.jsx)("input",{type:"text",id:"class",name:"class",placeholder:"e.g., Math 101",value:a.class,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]}),(0,vF.jsxs)("div",{className:"md:col-span-1",children:[(0,vF.jsx)("label",{htmlFor:"assignment",className:"block text-slate-400 text-sm font-bold mb-1",children:"Assignment"}),(0,vF.jsx)("input",{type:"text",id:"assignment",name:"assignment",placeholder:"e.g., Homework 3",value:a.assignment,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",required:!0})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("label",{htmlFor:"dueDate",className:"block text-slate-400 text-sm font-bold mb-1",children:"Due Date"}),(0,vF.jsx)("input",{type:"date",id:"dueDate",name:"dueDate",value:a.dueDate,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("label",{htmlFor:"timeEstimate",className:"block text-slate-400 text-sm font-bold mb-1",children:"Time Estimate (hrs)"}),(0,vF.jsx)("input",{type:"number",id:"timeEstimate",name:"timeEstimate",placeholder:"e.g., 2.5",value:a.timeEstimate,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]}),(0,vF.jsxs)("div",{className:"md:col-span-1",children:[(0,vF.jsx)("label",{htmlFor:"difficulty",className:"block text-slate-400 text-sm font-bold mb-1",children:"Difficulty"}),(0,vF.jsxs)("select",{id:"difficulty",name:"difficulty",value:a.difficulty,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",children:[(0,vF.jsx)("option",{value:"Easy",children:"Easy"}),(0,vF.jsx)("option",{value:"Medium",children:"Medium"}),(0,vF.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("label",{htmlFor:"status",className:"block text-slate-400 text-sm font-bold mb-1",children:"Status"}),(0,vF.jsxs)("select",{id:"status",name:"status",value:a.status,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",children:[(0,vF.jsx)("option",{value:"To Do",children:"To Do"}),(0,vF.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,vF.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,vF.jsxs)("div",{className:"md:col-span-2",children:[(0,vF.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-1",children:"Tags"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 text-sm p-3 border border-slate-600 rounded-md bg-slate-700",children:XF.map(e=>(0,vF.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,vF.jsx)("input",{type:"checkbox",value:e,checked:a.tags.includes(e),onChange:l,className:"form-checkbox h-4 w-4 text-indigo-500 rounded bg-slate-800 border-slate-600"}),(0,vF.jsx)("span",{children:e})]},e))})]}),(0,vF.jsxs)("div",{className:"md:col-span-2 border-t border-slate-700 pt-4 mt-4",children:[(0,vF.jsx)("label",{htmlFor:"recurrenceType",className:"block text-slate-400 text-sm font-bold mb-1",children:"Recurrence"}),(0,vF.jsxs)("select",{id:"recurrenceType",name:"recurrenceType",value:a.recurrenceType,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",children:[(0,vF.jsx)("option",{value:"none",children:"Does not repeat"}),(0,vF.jsx)("option",{value:"daily",children:"Daily"}),(0,vF.jsx)("option",{value:"weekly",children:"Weekly"}),(0,vF.jsx)("option",{value:"monthly",children:"Monthly"})]}),"none"!==a.recurrenceType&&(0,vF.jsxs)("div",{className:"mt-2",children:[(0,vF.jsx)("label",{htmlFor:"recurrenceEndDate",className:"block text-slate-400 text-sm font-bold mb-1",children:"Recurrence End Date (Optional)"}),(0,vF.jsx)("input",{type:"date",id:"recurrenceEndDate",name:"recurrenceEndDate",value:a.recurrenceEndDate,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]})]}),(0,vF.jsxs)("div",{className:"md:col-span-2 flex justify-end space-x-4 mt-6",children:[(0,vF.jsx)("button",{type:"button",onClick:r,className:"bg-slate-600 text-slate-300 px-5 py-2 rounded-md hover:bg-slate-500 transition-colors duration-200",children:"Cancel"}),(0,vF.jsx)("button",{type:"submit",className:"bg-indigo-600 text-white px-5 py-2 rounded-md hover:bg-indigo-700 transition-colors duration-200 shadow-md",children:"Add Assignment"})]})]})]})}):null},sU=e=>{let{isOpen:n,onClose:r,onAnimationComplete:i}=e;const[a,o]=(0,t.useState)([]),[s,l]=(0,t.useState)("idle"),[c,d]=(0,t.useState)(null),h=(0,t.useRef)(null),f=104;if((0,t.useEffect)(()=>{if(n){const e=150,t=140,n=Array.from({length:e},()=>FF[Math.floor(Math.random()*FF.length)]);let r;const i=50,a=Math.random();if(a<.65){const e=.3+.5*Math.random(),t=-Math.floor(i*e);r={id:"xp_loss_reward",name:"".concat(t," XP"),type:"xp_loss",display:"".concat(t," XP"),rarity:"common",amount:t}}else if(a<.9){const e=Math.floor(100*Math.random())+51;r={id:"xp_gain_reward",name:"+".concat(e," XP"),type:"xp_gain",display:"+".concat(e," XP"),rarity:e>100?"epic":"rare",amount:e}}else r=u({},zF[Math.floor(Math.random()*zF.length)]);n[t]=r,d(r),o(n),l("preparing")}else o([]),l("idle"),d(null)},[n]),(0,t.useEffect)(()=>{if(h.current){if("preparing"===s){h.current.style.transition="none",h.current.style.transform="translateX(0px)";const e=setTimeout(()=>l("spinning"),50);return()=>clearTimeout(e)}if("spinning"===s){const e=140,t=h.current.parentElement.offsetWidth/2-52,n=83.2*(Math.random()-.5),r=-e*f+t+n;h.current.style.transition="transform ".concat(7,"s cubic-bezier(0.15, 0.5, 0.25, 1)"),h.current.style.transform="translateX(".concat(r,"px)");const i=setTimeout(()=>l("finished"),7e3);return()=>clearTimeout(i)}}},[s,f]),!n)return null;const p="finished"===s,m=c&&"xp_gain"!==c.type&&"xp_loss"!==c.type;return(0,vF.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,vF.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl p-8 w-full max-w-4xl overflow-hidden relative",children:[(0,vF.jsx)("h3",{className:"text-3xl font-bold text-white text-center mb-6",children:p?"Result!":"Spinning..."}),p&&m&&(0,vF.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:100}).map((e,t)=>(0,vF.jsx)("div",{className:"absolute rounded-full opacity-0 animate-confetti",style:{width:"".concat(8*Math.random()+4,"px"),height:"".concat(8*Math.random()+4,"px"),left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),backgroundColor:"hsl(".concat(360*Math.random(),", 80%, 60%)")}},t))}),(0,vF.jsxs)("div",{className:"relative w-full h-32 flex items-center justify-center",children:[(0,vF.jsx)("div",{className:"absolute top-[-10px] left-1/2 -translate-x-1/2 w-0 h-0 border-x-8 border-x-transparent border-t-[12px] border-t-red-500 z-20"}),(0,vF.jsx)("div",{className:"w-full h-full overflow-hidden",children:(0,vF.jsx)("div",{ref:h,className:"flex h-full items-center",style:{willChange:"transform"},children:a.map((e,t)=>{const n=e.rarity?{common:"border-gray-500",rare:"border-blue-500",epic:"border-purple-500",legendary:"border-orange-500",mythic:"border-red-600"}[e.rarity]:"border-transparent";return(0,vF.jsxs)("div",{className:"flex-shrink-0 w-[100px] h-24 flex flex-col items-center justify-center m-1 rounded-lg shadow-md border-b-4 ".concat(n," transition-all duration-300 ").concat(p&&140===t?"scale-110":""," ").concat("xp_gain"===e.type?"bg-green-800 text-white text-3xl font-bold":"xp_loss"===e.type?"bg-red-800 text-white text-3xl font-bold":"avatar"===e.type?"bg-slate-700 text-white text-5xl":"banner"===e.type?e.style:"font"===e.type?"bg-slate-700 text-white text-sm text-center px-1":"background"===e.type?"".concat(e.style," text-black text-sm text-center px-1"):"animation"===e.type||"title"===e.type?"bg-slate-700 text-white text-sm text-center px-1":"bg-gray-700 text-gray-300"),children:[("xp_gain"===e.type||"xp_loss"===e.type||"avatar"===e.type)&&(0,vF.jsx)("span",{children:e.display}),"banner"===e.type&&(0,vF.jsx)("span",{className:"text-sm text-center px-1",children:e.name}),"font"===e.type&&(0,vF.jsx)("span",{className:"text-lg text-center px-1 ".concat(e.style),children:e.name}),("background"===e.type||"animation"===e.type||"title"===e.type)&&(0,vF.jsx)("span",{className:"text-sm text-center px-1",children:e.name}),!e.type&&(0,vF.jsx)("span",{className:"text-sm",children:"?"})]},"".concat(e.id,"-").concat(t))})})}),(0,vF.jsx)("div",{className:"absolute bottom-[-10px] left-1/2 -translate-x-1/2 w-0 h-0 border-x-8 border-x-transparent border-b-[12px] border-b-red-500 z-20"})]}),p&&c&&(0,vF.jsxs)("div",{className:"mt-8 text-center animate-fade-in",children:[(0,vF.jsx)("h4",{className:"text-2xl font-bold text-white mb-2",children:m?"Congratulations! You received:":"Result:"}),(0,vF.jsx)("div",{className:"inline-flex items-center justify-center p-4 rounded-lg shadow-lg min-w-[200px] text-4xl ".concat("xp_gain"===c.type?"bg-green-500 text-white":"xp_loss"===c.type?"bg-red-500 text-white":"avatar"===c.type?"bg-blue-600 text-white text-6xl":"banner"===c.type?"".concat(c.style):"font"===c.type?"bg-purple-600 text-white ".concat(c.style):"background"===c.type?"".concat(c.style," text-white"):"animation"===c.type?"bg-indigo-600 text-white":"title"===c.type?"bg-red-600 text-white":"bg-gray-500 text-white"),children:"avatar"===c.type?c.display:c.name}),(0,vF.jsx)("button",{onClick:()=>i(c),className:"mt-8 bg-blue-600 text-white px-8 py-3 rounded-md hover:bg-blue-700 transition-colors duration-200 shadow-lg text-lg",children:"Continue"})]})]})})},lU=e=>{let{show:t,onAnimationEnd:n,equippedAnimationEffect:r}=e;if(!t)return null;const i="sparkle"===r?"animate-sparkle":"confetti"===r?"animate-confetti-pop":"fireworks"===r?"animate-fireworks":"glow"===r?"animate-gentle-glow":"bounce"===r?"animate-bouncy-bounce":"flash"===r?"animate-flash":"slide"===r?"animate-slide-in":"zoom"===r?"animate-zoom-out":"swirl"===r?"animate-swirl":"fade"===r?"animate-fade-out":"animate-checkmark-pop";return(0,vF.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",onAnimationEnd:n,children:(0,vF.jsxs)("div",{className:"relative",children:["animate-checkmark-pop"===i&&(0,vF.jsxs)("svg",{className:"animate-checkmark-pop text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[(0,vF.jsx)("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),(0,vF.jsx)("path",{className:"checkmark-check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]}),"sparkle"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:Array.from({length:10}).map((e,t)=>(0,vF.jsx)("span",{className:"absolute text-yellow-400 text-4xl opacity-0 animate-sparkle-effect",style:{top:"".concat(100*Math.random(),"%"),left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(.5*Math.random(),"s")},children:"\u2728"},"sparkle-".concat(t)))}),"confetti"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:30}).map((e,t)=>(0,vF.jsx)("div",{className:"absolute bg-white rounded-full opacity-0 animate-confetti-effect",style:{width:"".concat(10*Math.random()+5,"px"),height:"".concat(10*Math.random()+5,"px"),left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(1.5*Math.random(),"s"),backgroundColor:"hsl(".concat(360*Math.random(),", 70%, 70%)")}},"confetti-".concat(t)))}),"fireworks"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:Array.from({length:3}).map((e,t)=>(0,vF.jsx)("div",{className:"absolute animate-fireworks-effect",style:{top:"".concat(20+60*Math.random(),"%"),left:"".concat(20+60*Math.random(),"%"),animationDelay:"".concat(.7*t,"s")},children:Array.from({length:12}).map((e,n)=>(0,vF.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-red-500 animate-firework-particle",style:{transform:"rotate(".concat(30*n,"deg) translateX(20px)"),animationDelay:"".concat(.7*t+.05*n,"s"),backgroundColor:"hsl(".concat(30*n,", 70%, 70%)")}},"particle-".concat(n)))},"firework-".concat(t)))}),"glow"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-48 h-48 rounded-full bg-yellow-300 opacity-0 animate-gentle-glow-effect"})}),"bounce"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,vF.jsx)("span",{className:"text-6xl animate-bouncy-bounce-effect",children:"\u2714\ufe0f"})}),"flash"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 animate-flash-effect"}),"slide"===r&&(0,vF.jsx)("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 text-6xl opacity-0 animate-slide-in-effect",children:"\u2714\ufe0f"}),"zoom"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,vF.jsx)("span",{className:"text-6xl opacity-0 animate-zoom-out-effect",children:"\u2714\ufe0f"})}),"swirl"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-32 h-32 border-4 border-blue-500 border-t-transparent rounded-full animate-swirl-effect"})}),"fade"===r&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,vF.jsx)("span",{className:"text-6xl animate-fade-out-effect",children:"\u2714\ufe0f"})})]})})},cU=e=>{let{from:n,to:r,type:i}=e;const a=40,[o,s]=(0,t.useState)({top:n.y*a+20,left:n.x*a+20});(0,t.useEffect)(()=>{const e=setTimeout(()=>{s({top:r.y*a+20,left:r.x*a+20})},10);return()=>clearTimeout(e)},[n,r]);const l=Math.atan2(r.y-n.y,r.x-n.x)*(180/Math.PI);return(0,vF.jsx)("div",{className:"projectile",style:{top:"".concat(o.top,"px"),left:"".concat(o.left,"px")},children:(()=>{switch(i){case"arrow":return(0,vF.jsx)("div",{className:"w-4 h-1 bg-yellow-300",style:{transform:"rotate(".concat(l,"deg)")}});case"cannonball":return(0,vF.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full"});case"iceShard":return(0,vF.jsx)("div",{className:"w-3 h-4 bg-blue-300 transform -skew-x-12"});case"bolt":return(0,vF.jsx)("div",{className:"w-5 h-2 bg-yellow-500",style:{transform:"rotate(".concat(l,"deg)")}});case"fireball":return(0,vF.jsx)("div",{className:"w-4 h-4 bg-orange-500 rounded-full shadow-[0_0_8px_theme('colors.orange.500')]"});case"lightning":return(0,vF.jsx)("div",{className:"w-2 h-6 bg-yellow-300 rounded-full"});case"poisonCloud":return(0,vF.jsx)("div",{className:"w-4 h-4 bg-lime-500/50 rounded-full animate-pulse"});case"bullet":return(0,vF.jsx)("div",{className:"w-2 h-1 bg-gray-300",style:{transform:"rotate(".concat(l,"deg)")}});case"crystalShard":return(0,vF.jsx)("div",{className:"w-3 h-5 bg-purple-400 transform skew-x-12"});default:return(0,vF.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}})()})},uU=e=>{let{isOpen:n,onAnimationComplete:r,result:i}=e;const[a,o]=(0,t.useState)("shaking");if((0,t.useEffect)(()=>{if(n){o("shaking");const e=setTimeout(()=>o("revealing"),2e3),t=setTimeout(()=>o("revealed"),3e3);return()=>{clearTimeout(e),clearTimeout(t)}}},[n]),!n)return null;return(0,vF.jsxs)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:[(0,vF.jsxs)("div",{className:"bg-slate-800 border border-slate-700 p-8 rounded-lg text-center",children:[(0,vF.jsx)("h3",{className:"text-3xl font-bold mb-6",children:"Opening Lootbox..."}),(0,vF.jsx)("div",{className:"w-48 h-48 mx-auto mb-6 text-8xl flex items-center justify-center",children:(0,vF.jsx)("span",{className:"transition-transform duration-1000 ".concat("shaking"===a?"animate-shake":""," ").concat("revealing"===a||"revealed"===a?"scale-150 opacity-0":"scale-100"),children:"\ud83d\udce6"})}),"revealed"===a&&(0,vF.jsxs)("div",{className:"animate-fade-in",children:[(()=>{if(!i)return(0,vF.jsx)("p",{children:"An error occurred."});switch(i.type){case"wingman":return(0,vF.jsxs)("p",{className:"text-2xl font-bold text-green-400",children:["New Recruit: ",i.wingman.name,"!"]});case"gold":return(0,vF.jsxs)("p",{className:"text-2xl font-bold text-yellow-400",children:["You found ",i.amount," Gold!"]});case"nothing":return(0,vF.jsx)("p",{className:"text-2xl font-bold text-slate-500",children:"The box was empty..."});default:return null}})(),(0,vF.jsx)("button",{onClick:()=>r(i),className:"mt-6 bg-indigo-600 text-white px-6 py-2 rounded-lg",children:"Continue"})]})]}),(0,vF.jsx)("style",{children:"\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }\n          20%, 40%, 60%, 80% { transform: translateX(5px); }\n        }\n        .animate-shake { animation: shake 0.5s infinite; }\n        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n        .animate-fade-in { animation: fade-in 0.5s ease-out; }\n      "})]})},dU=e=>{let{onComplete:n}=e;return(0,t.useEffect)(()=>{const e=setTimeout(n,500);return()=>clearTimeout(e)},[n]),(0,vF.jsx)(vF.Fragment,{children:Array.from({length:5}).map((e,t)=>{const n=8*Math.random()+4,r=t/5*2*Math.PI;return(0,vF.jsx)("div",{className:"particle",style:{width:n,height:n,top:"calc(50% - ".concat(n/2,"px + ").concat(30*Math.sin(r),"px)"),left:"calc(50% - ".concat(n/2,"px + ").concat(30*Math.cos(r),"px)"),animationDelay:"".concat(.1*Math.random(),"s")}},t)})})},hU=e=>{var n,r,i;let{stats:a,wingmanDefs:o,updateStatsInFirestore:s,showMessageBox:l,sessionGold:c,sessionXp:d,isRunActive:h,pendingEquippedWingman:f,onEquipWingman:p}=e;const[m,g]=(0,t.useState)("recruit"),[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),x=(null===(n=a.dungeon_wingmen)||void 0===n?void 0:n.roster)||[],k=x.find(e=>e.id===m),S=(e,t)=>{var n;if(d<t.cost)return void l("Not enough XP!","error");const r=((null===(n=a.dungeon_wingmen)||void 0===n?void 0:n.upgrades)||{})[e.id]||[];if("choice"===t.type){var i;if(((null===(i=$F[e.id])||void 0===i?void 0:i.ability)||[]).some(e=>r.includes(e.id)))return void l("You have already chosen a specialization for this ability.","error")}s({totalXP:tm(-t.cost),["dungeon_wingmen.upgrades.".concat(e.id)]:[...r,t.id]}),l("Purchased upgrade: ".concat(t.name,"!"),"info")},_=e=>{let{style:t,size:n=60}=e;const r=n/Math.max(t.width,t.height);return(0,vF.jsx)("div",{style:{width:n,height:n,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,vF.jsx)("div",{style:{width:t.width,height:t.height,backgroundImage:"url(".concat(lF,")"),backgroundPosition:t.backgroundPosition,transform:"scale(".concat(r,")"),transformOrigin:"center",imageRendering:"pixelated",flexShrink:0}})})},A=e=>{var n,r;let{wingman:i}=e;const s=u(u({},o[i.id]),i),l=(0,t.useMemo)(()=>{var e,t;const n=(null===(e=a.dungeon_wingmen)||void 0===e||null===(t=e.upgrades)||void 0===t?void 0:t[s.id])||[],r=$F[s.id],i={hp:0,atk:0};return null!==r&&void 0!==r&&r.stats&&n.forEach(e=>{const t=r.stats.find(t=>t.id===e);null!==t&&void 0!==t&&t.effect&&(t.effect.hp&&(i.hp+=t.effect.hp),t.effect.atk&&(i.atk+=t.effect.atk))}),i},[s.id,null===(n=a.dungeon_wingmen)||void 0===n?void 0:n.upgrades]),c=null===(r=s.abilities)||void 0===r?void 0:r[0];return(0,vF.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[(0,vF.jsxs)("p",{children:["HP: ",(0,vF.jsxs)("span",{className:"font-bold text-red-400",children:[s.hp," ",l.hp>0&&(0,vF.jsxs)("span",{className:"text-green-400",children:["(+",l.hp,")"]})]})]}),(0,vF.jsxs)("p",{children:["Attack: ",(0,vF.jsxs)("span",{className:"font-bold text-yellow-400",children:[s.atk," ",l.atk>0&&(0,vF.jsxs)("span",{className:"text-green-400",children:["(+",l.atk,")"]})]})]}),(0,vF.jsxs)("p",{children:["AP / Turn: ",(0,vF.jsx)("span",{className:"font-bold text-cyan-400",children:s.ap})]}),(0,vF.jsxs)("p",{children:["Attack Range: ",(0,vF.jsx)("span",{className:"font-bold text-slate-400",children:s.attackRange})]}),(0,vF.jsxs)("p",{children:["Move Cost: ",(0,vF.jsxs)("span",{className:"font-bold text-slate-400",children:[s.moveCost," AP"]})]}),(0,vF.jsxs)("p",{children:["Attack Cost: ",(0,vF.jsxs)("span",{className:"font-bold text-slate-400",children:[s.attackCost," AP"]})]}),c&&(0,vF.jsxs)("p",{className:"col-span-2",children:["Ability: ",(0,vF.jsxs)("span",{className:"font-bold text-slate-400",children:[c.name," (",c.cost," AP)"]})]})]})};return(0,vF.jsxs)("div",{className:"mt-6 bg-slate-800/50 border border-slate-700 rounded-2xl p-4",children:[(0,vF.jsx)(uU,{isOpen:y,onAnimationComplete:e=>{},result:b}),(0,vF.jsx)("h3",{className:"text-3xl font-bold text-white mb-4",children:"Barracks"}),(0,vF.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 min-h-[60vh]",children:[(0,vF.jsxs)("div",{className:"w-full md:w-1/3 lg:w-1/4 bg-slate-900/50 p-3 rounded-lg flex flex-col",children:[(0,vF.jsx)("h4",{className:"text-lg font-semibold text-white mb-2 text-center",children:"Your Roster"}),(0,vF.jsx)("div",{className:"space-y-2 overflow-y-auto flex-grow",children:x.map(e=>(0,vF.jsxs)("button",{onClick:()=>g(e.id),className:"w-full flex items-center gap-3 p-2 rounded-md transition-colors ".concat(m===e.id?"bg-indigo-600":"bg-slate-800 hover:bg-slate-700"),children:[(0,vF.jsx)("div",{className:"w-10 h-10 bg-slate-900 rounded-md flex items-center justify-center flex-shrink-0",children:(0,vF.jsx)(_,{style:e.spriteStyle,size:36})}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("p",{className:"font-semibold text-left text-sm",children:e.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400 text-left",children:e.role})]})]},e.id))}),(0,vF.jsxs)("button",{onClick:()=>g("recruit"),className:"w-full flex items-center justify-center gap-3 p-2 mt-2 rounded-md transition-colors ".concat("recruit"===m?"bg-indigo-600":"bg-slate-800 hover:bg-slate-700"),children:[(0,vF.jsx)("span",{className:"text-2xl",children:"+"}),(0,vF.jsx)("span",{className:"font-semibold",children:"Recruit New Wingmen"})]})]}),(0,vF.jsx)("div",{className:"w-full md:w-2/3 lg:w-3/4 bg-slate-900/50 p-4 rounded-lg",children:k?(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center mb-4 pb-4 border-b border-slate-700",children:[(0,vF.jsx)("div",{className:"w-24 h-24 bg-slate-800 rounded-lg flex items-center justify-center",children:(0,vF.jsx)(_,{style:k.spriteStyle,size:80})}),(0,vF.jsxs)("div",{className:"flex-grow",children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold",children:k.name}),(0,vF.jsx)("p",{className:"text-indigo-400 font-semibold",children:k.role}),(0,vF.jsx)("div",{className:"mt-2",children:(0,vF.jsx)(A,{wingman:k})})]}),(0,vF.jsx)("div",{className:"flex-shrink-0",children:f===k.id?(0,vF.jsx)("button",{onClick:()=>p(null),disabled:h,className:"w-full sm:w-auto bg-slate-600 text-white font-bold py-2 px-6 rounded-lg disabled:opacity-50",children:"Equipped"}):(0,vF.jsx)("button",{onClick:()=>p(k.id),disabled:h,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg disabled:opacity-50",children:"Equip"})})]}),(0,vF.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:"Training"}),(0,vF.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h5",{className:"text-lg font-semibold text-indigo-300 mb-2",children:"Stat Training"}),(0,vF.jsx)("div",{className:"space-y-2",children:((null===(r=$F[k.id])||void 0===r?void 0:r.stats)||[]).map(e=>{var t,n;const r=((null===(t=a.dungeon_wingmen)||void 0===t||null===(n=t.upgrades)||void 0===n?void 0:n[k.id])||[]).filter(t=>t===e.id).length>0&&"repeatable"!==e.type;return(0,vF.jsxs)("div",{className:"bg-slate-800 p-3 rounded-md flex justify-between items-center",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("p",{className:"font-semibold",children:e.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400",children:e.description})]}),(0,vF.jsx)("button",{onClick:()=>S(k,e),disabled:r,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 text-white text-sm font-semibold px-3 py-1 rounded-md",children:r?"Owned":"".concat(e.cost," XP")})]},e.id)})})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h5",{className:"text-lg font-semibold text-indigo-300 mb-2",children:"Ability Specialization"}),(0,vF.jsx)("div",{className:"space-y-2",children:((null===(i=$F[k.id])||void 0===i?void 0:i.ability)||[]).map(e=>{var t,n,r;const i=(null===(t=a.dungeon_wingmen)||void 0===t||null===(n=t.upgrades)||void 0===n?void 0:n[k.id])||[],o=i.includes(e.id),s=((null===(r=$F[k.id])||void 0===r?void 0:r.ability)||[]).some(e=>i.includes(e.id));return(0,vF.jsxs)("div",{className:"bg-slate-800 p-3 rounded-md",children:[(0,vF.jsx)("p",{className:"font-semibold",children:e.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:e.description}),(0,vF.jsx)("button",{onClick:()=>S(k,e),disabled:o||s,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-slate-600 text-white text-sm font-semibold px-3 py-1 rounded-md",children:o?"Chosen":s?"Path Chosen":"Specialize (".concat(e.cost," XP)")})]},e.id)})})]})]})]}):(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:"Recruit with XP"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:Object.values(o).filter(e=>"xp"===e.currency).map(e=>{const t=x.some(t=>t.id===e.id);return(0,vF.jsxs)("div",{className:"p-4 bg-slate-800/80 rounded-lg flex flex-col items-center text-center border border-slate-700",children:[(0,vF.jsx)("div",{className:"h-16 flex items-center justify-center",children:(0,vF.jsx)(_,{style:e.spriteStyle,size:60})}),(0,vF.jsx)("p",{className:"font-bold mt-2 flex-grow",children:e.name}),(0,vF.jsx)("button",{disabled:t,onClick:()=>(e=>{const t=o[e];d<t.cost?l("Not enough XP!","error"):(s({totalXP:tm(-t.cost),"dungeon_wingmen.roster":[...a.dungeon_wingmen.roster||[],t]}),l("Recruited ".concat(t.name,"!"),"info"))})(e.id),className:"mt-3 w-full bg-blue-600 text-white text-sm py-1 rounded hover:bg-blue-700 disabled:bg-slate-600 disabled:cursor-not-allowed",children:t?"Recruited":"".concat(e.cost," XP")})]},e.id)})}),(0,vF.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:"Recruit with Gold"}),(0,vF.jsx)("button",{onClick:()=>{},className:"w-full p-4 bg-yellow-600 text-black font-bold rounded-lg hover:bg-yellow-700",children:"Spend 500 Gold for a Rare or Epic Recruit"})]})})]})]})},fU=e=>{var n,r,i,a,o;let{stats:s,updateStatsInFirestore:l,showMessageBox:c,getFullPetDetails:d,onResetDungeon:h,getFullCosmeticDetails:f,processAchievement:p,syncDungeonXp:m,isMobile:g,addIngredientToInventory:y}=e;const v=(0,t.useRef)(s);(0,t.useEffect)(()=>{v.current=s},[s]);const[b,w]=(0,t.useState)(s.dungeon_state),[x,k]=(0,t.useState)({hits:{},particles:[],enemyPaths:{}}),[S,_]=(0,t.useState)("player"),[A,E]=(0,t.useState)(2),[N,C]=(0,t.useState)(0),[j,T]=(0,t.useState)(null),[I,P]=(0,t.useState)({tiles:[],forEnemy:null}),[O,M]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null===(n=s.dungeon_wingmen)||void 0===n?void 0:n.equipped),[L,z]=(0,t.useState)({distanceMoved:0,frenziedAttackAvailable:!1}),[F,U]=(0,t.useState)(s.totalXP),[B,V]=(0,t.useState)(s.dungeon_gold||0),H=(0,t.useRef)(b);(0,t.useEffect)(()=>{H.current=b},[b]),(0,t.useEffect)(()=>{var e;R(null===(e=s.dungeon_wingmen)||void 0===e?void 0:e.equipped)},[null===(r=s.dungeon_wingmen)||void 0===r?void 0:r.equipped]),(0,t.useEffect)(()=>{var e;const t=b,n=D;if("playing"!==t.phase||1!==t.floor||t.turnCount>1)return;const r=null===(e=t.wingman)||void 0===e?void 0:e.id;if(!n&&r){const e="".concat(t.wingman.y,",").concat(t.wingman.x);return void w(t=>{var n;const r=u({},t.board);return"wingman"===(null===(n=r[e])||void 0===n?void 0:n.type)&&(r[e]={type:"empty"}),u(u({},t),{},{wingman:null,board:r})})}if(n&&n!==r){var i,a,o;const e=RF[n];if(!e)return;const t=JSON.parse(JSON.stringify(e)),r=(null===(i=s.dungeon_wingmen)||void 0===i||null===(a=i.upgrades)||void 0===a?void 0:a[n])||[];r.forEach(e=>{var r;const i=null===(r=$F[n])||void 0===r?void 0:r.stats.find(t=>t.id===e);null!==i&&void 0!==i&&i.effect&&(i.effect.hp&&(t.hp+=i.effect.hp),i.effect.atk&&(t.atk+=i.effect.atk))}),t.maxHp=t.hp;const l=((null===(o=$F[n])||void 0===o?void 0:o.ability)||[]).find(e=>r.includes(e.id));l&&(t.abilities=t.abilities.map(e=>u(u({},e),{},{specialization:l.id}))),w(e=>{let n=u({},e.board);if(e.wingman){var r;const t="".concat(e.wingman.y,",").concat(e.wingman.x);"wingman"===(null===(r=n[t])||void 0===r?void 0:r.type)&&(n[t]={type:"empty"})}const i=[{x:1,y:0},{x:0,y:1},{x:2,y:1},{x:1,y:2}].find(e=>{var t;return"empty"===(null===(t=n["".concat(e.y,",").concat(e.x)])||void 0===t?void 0:t.type)});if(i){const r=u(u({},t),{},{x:i.x,y:i.y,entityType:"wingman"});return n["".concat(i.y,",").concat(i.x)]={type:"wingman"},C(r.ap),u(u({},e),{},{wingman:r,board:n})}return u(u({},e),{},{wingman:null})})}},[b.phase,b.floor,b.turnCount,b.wingman,D,null===(i=s.dungeon_wingmen)||void 0===i?void 0:i.upgrades]);const[G,W]=(0,t.useState)(null),[q,Y]=(0,t.useState)(null),X=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-slate-300";const n={id:Date.now()+Math.random(),message:e,style:t};w(e=>u(u({},e),{},{log:[n,...(e.log||[]).slice(0,4)]}))},[]);(0,t.useEffect)(()=>{m&&m(F)},[F,m]);const K=(0,t.useCallback)(async e=>{if(e)try{await l({dungeon_state:e,dungeon_gold:B,totalXP:F,"cooldowns.saveDungeon":em()})}catch(t){t.message.includes("permission-denied")?c("You're saving too frequently!","error"):(console.error("Dungeon save failed:",t),c("Failed to save progress.","error"))}},[B,F,l,c]);(0,t.useEffect)(()=>{const e=setInterval(()=>{b&&"playing"===b.phase&&!b.gameOver&&(K(b),c("Game progress auto-saved!","info",1500))},6e5);return()=>clearInterval(e)},[b,K]);const Q={classes:{warrior:{name:"Warrior",icon:"\u2694\ufe0f",description:"A balanced fighter with strong melee attacks.",startingHp:100,moveCost:5,attackCost:50,attackRange:1.5,ability:{id:"whirlwind",name:"Whirlwind",cost:120}},mage:{name:"Mage",icon:"\ud83e\uddd9",description:"A fragile caster with powerful area-of-effect spells.",startingHp:60,moveCost:5,attackCost:100,attackRange:4,ability:{id:"fireball",name:"Fireball",cost:200}},archer:{name:"Archer",icon:"\ud83c\udff9",description:"A nimble marksman who attacks from a great distance.",startingHp:60,moveCost:5,attackCost:60,attackRange:5,ability:{id:"double_tap",name:"Double Tap",cost:150}},tank:{name:"Tank",icon:"\ud83d\udee1\ufe0f",description:"A sturdy protector who can endure heavy damage.",startingHp:200,moveCost:8,attackCost:40,attackRange:1.5,ability:{id:"hunker_down",name:"Hunker Down",cost:80}}},weapons:[{id:"weapon_sword",name:"Iron Sword",cost:500,attack:10,class:"warrior"},{id:"weapon_axe",name:"Battle Axe",cost:1e3,attack:25,class:"warrior"},{id:"weapon_flame",name:"Flame Tongue",cost:2e3,attack:45,class:"warrior"},{id:"weapon_void",name:"Void Blade",cost:5e3,attack:70,class:"warrior"},{id:"weapon_sunforged",name:"Sunforged Blade",cost:7500,attack:100,class:"warrior",tdWinsRequired:5}],wands:[{id:"wand_apprentice",name:"Apprentice Wand",cost:500,attack:15,aoeRange:1.5,class:"mage"},{id:"wand_fireball",name:"Fireball Staff",cost:1200,attack:28,aoeRange:1.5,class:"mage"},{id:"wand_lightning",name:"Lightning Staff",cost:2500,attack:50,aoeRange:2,class:"mage"},{id:"wand_void",name:"Void Core Staff",cost:5e3,attack:75,aoeRange:2,class:"mage"},{id:"wand_archmage",name:"Archmage's Staff",cost:7500,attack:110,aoeRange:2.5,class:"mage",tdWinsRequired:5}],bows:[{id:"bow_short",name:"Shortbow",cost:500,attack:12,class:"archer"},{id:"bow_long",name:"Longbow",cost:1100,attack:28,class:"archer"},{id:"bow_eagle",name:"Eagle Eye Bow",cost:2200,attack:55,class:"archer"},{id:"bow_void",name:"Voidstring Bow",cost:5e3,attack:80,class:"archer"},{id:"bow_sunstrider",name:"Sunstrider's Mark",cost:7500,attack:120,class:"archer",tdWinsRequired:5}],shields:[{id:"shield_iron",name:"Iron Shield",cost:500,attack:8,hp:50,class:"tank"},{id:"shield_steel",name:"Steel Tower Shield",cost:1e3,attack:15,hp:120,class:"tank"},{id:"shield_aegis",name:"Aegis Wall",cost:2e3,attack:25,hp:250,class:"tank"},{id:"shield_void",name:"Void Bulwark",cost:5e3,attack:40,hp:400,class:"tank"},{id:"shield_unbreakable",name:"The Unbreakable",cost:7500,attack:60,hp:600,class:"tank",tdWinsRequired:5}],armors:[{id:"armor_leather",name:"Leather Armor",cost:500,hp:50},{id:"armor_plate",name:"Steel Plate",cost:1e3,hp:120},{id:"armor_regen",name:"Trollblood Mail",cost:2e3,hp:200},{id:"armor_aegis",name:"Aegis of the Immortal",cost:5e3,hp:350},{id:"armor_dragonscale",name:"Dragonscale Mail",cost:7500,hp:500,tdWinsRequired:5}],attacks:[{id:"attack_normal",name:"Normal Attack",power:10,class:"all"},{id:"warrior_power_strike",name:"Power Strike",cost:70,class:"warrior",maxUses:2,effect:{damageMultiplier:2.5},range:1.5},{id:"warrior_whirlwind",name:"Whirlwind",cost:120,class:"warrior",maxUses:2,effect:{damageMultiplier:.8,aoe:1.5},range:1.5},{id:"mage_lesser_heal",name:"Lesser Heal",cost:20,class:"mage",maxUses:2,effect:{heal:25},isSelfTarget:!0},{id:"mage_fireball",name:"Fireball",cost:100,class:"mage",maxUses:2,effect:{damageMultiplier:1.5,aoe:1.5},range:4},{id:"archer_piercing_shot",name:"Piercing Shot",cost:60,class:"archer",maxUses:2,effect:{damageMultiplier:1.2,armorPiercing:.5},range:5},{id:"archer_crippling_shot",name:"Crippling Shot",cost:40,class:"archer",maxUses:2,effect:{damageMultiplier:.5,status:{type:"crippled",duration:1}},range:5},{id:"tank_shield_bash",name:"Shield Bash",cost:30,class:"tank",maxUses:2,effect:{damageMultiplier:.7,status:{type:"stunned",duration:1,chance:.8}},range:1.5},{id:"tank_lay_on_hands",name:"Lay on Hands",cost:40,class:"tank",maxUses:2,effect:{heal:40},isSelfTarget:!0}],temp_potions:[{id:"potion_strength",name:"Potion of Strength",cost:75,effect:{attack:15},duration:3,type:"temp_potion"},{id:"potion_fortitude",name:"Potion of Fortitude",cost:75,effect:{hp:50},duration:3,type:"temp_potion"},{id:"potion_wealth",name:"Potion of Wealth",cost:100,effect:{goldBonus:.1},duration:3,type:"temp_potion"}],enemies:[{id:"goblin",name:"Goblin",hp:20,atk:5,minFloor:1,loot:{id:"goblin_ear",chance:.1},moveRange:1,attackRange:1.5,ai:"standard"},{id:"skeleton",name:"Skeleton",hp:35,atk:8,minFloor:1,loot:{id:"skeleton_bone",chance:.15},rareLoot:{id:"ingredientSkull",chance:.05},moveRange:1,attackRange:1.5,ai:"standard"},{id:"bat",name:"Giant Bat",hp:15,atk:6,minFloor:2,dodgeChance:.33,loot:{id:"ingredientBeak",chance:.2},moveRange:2,attackRange:1.5,ai:"standard"},{id:"slime",name:"Slime",hp:40,atk:7,minFloor:3,onDefeat:{type:"split",into:"ooze",count:2},moveRange:1,attackRange:1.5,ai:"standard",moveFrequency:2,moveChance:.5},{id:"ooze",name:"Ooze",hp:20,atk:5,minFloor:3,moveRange:1,attackRange:1.5,ai:"standard"},{id:"skeleton_archer",name:"Skeleton Archer",hp:25,atk:10,minFloor:4,isRanged:!0,moveRange:1,attackRange:5,ai:"ranged"},{id:"shadow",name:"Shadow",hp:50,atk:12,minFloor:6,abilities:[{type:"invisible",chance:.25,duration:1}],loot:{id:"shadow_essence",chance:.25},moveRange:1,attackRange:1.5,ai:"cowardly"},{id:"golem",name:"Stone Golem",hp:80,atk:15,minFloor:8,armor:5,loot:{id:"golem_heart",chance:.5},moveRange:1,attackRange:1.5,ai:"standard",moveFrequency:2,moveChance:.33},{id:"keyholder_orc",name:"Orc Keywarden",hp:50,atk:12,minFloor:1,loot:{id:"ingredientCrown",chance:1},moveRange:1,attackRange:1.5,ai:"standard"}],bestiary:[{id:"goblin",name:"Goblin Scavenger",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-lime-400 drop-shadow-lg",dangerouslySetInnerHTML:{__html:"<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' x='0px' y='0px' viewBox='0 0 296.169 488.008' style='enable-background:new 0 0 296.169 488.008;' xml:space='preserve'><g fill=\"currentColor\"><path d='M251.239,469.32l-15.584-6.922c-9.972-4.428-16.415-14.34-16.415-25.25v-26.795l-4.806,6.929   c-0.624,0.899-1.589,1.504-2.67,1.673c-1.086,0.169-2.185-0.112-3.053-0.779l-13.507-10.367l-11.098,13.85   c-0.71,0.887-1.763,1.429-2.896,1.493c-0.075,0.004-0.15,0.006-0.225,0.006c-1.055,0-2.07-0.417-2.822-1.165l-7.589-7.555   c1.909,14.146,4.522,36.294,3.186,42.971c-1.199,6.003-4.935,10.723-7.857,13.624c-1.914,1.901-2.969,4.37-2.969,6.952v0.399   c0,5.307,4.316,9.623,9.623,9.623h74.717c5.384,0,9.765-4.381,9.765-9.765C257.04,474.388,254.763,470.885,251.239,469.32z'/><path d='M167.754,400.341l12.896,12.839l10.762-13.43c1.358-1.7,3.829-2,5.557-0.672l13.284,10.196l9.7-13.986   c1.229-1.774,3.645-2.25,5.454-1.083l12.877,8.302l-15.488-61.351c-8.171-2.333-39.195-10.461-74.712-10.461   s-66.541,8.128-74.712,10.461l-15.488,61.351l12.877-8.302c1.809-1.167,4.224-0.691,5.454,1.083l9.7,13.986l13.284-10.196   c1.727-1.325,4.195-1.028,5.557,0.672l10.762,13.43l12.896-12.839c1.535-1.526,4.007-1.555,5.575-0.067l14.094,13.371   l14.094-13.371C163.749,398.786,166.22,398.814,167.754,400.341z'/><path d='M184.558,185.718c4.238-3.44,6.349-7.709,6.471-13.098c-2.208,0.679-4.517,1.039-6.88,1.039h-6.15   C178.914,178.902,181.067,182.899,184.558,185.718z'/><path d='M105.141,172.62c0.122,5.389,2.233,9.658,6.471,13.098c3.491-2.819,5.643-6.816,6.558-12.059h-6.15   C109.658,173.659,107.349,173.299,105.141,172.62z'/><path d='M172.128,239.8c21.341-8.008,38.856-24.864,46.748-38.017c2.561-4.269,4.979-9.923,7.186-16.808   c0.521-1.625,2.014-2.74,3.72-2.778c0.176-0.005,19.033-0.736,32.733-17.494c6.763-8.273,11.313-24.152,16.131-40.963   c4.774-16.659,9.689-33.807,17.523-47.553c-9.123,0.363-24.585,1.612-33.313,5.854c-10.613,5.158-17.107,15.558-18.826,18.58   c0.225,4.692,0.307,9.315,0.275,13.822c7.071-9.418,16.194-17.063,27.27-22.812c1.959-1.018,4.375-0.255,5.393,1.707   c1.019,1.961,0.254,4.375-1.707,5.393c-13.503,7.011-23.785,17.119-30.6,30.077c2.855,3.123,7.362,9.247,7.706,17.066   c0.506,11.487-8.201,18.826-8.571,19.133c-0.746,0.617-1.649,0.918-2.548,0.918c-1.15,0-2.293-0.494-3.084-1.45   c-1.408-1.702-1.17-4.224,0.532-5.632c0.044-0.037,6.006-5.174,5.679-12.617c-0.338-7.687-7.096-13.495-7.164-13.553   c-0.986-0.835-1.478-2.072-1.405-3.307l-0.014-0.001c2.049-33.403-0.863-78.914-26.371-106.034C194.859,7.85,174.224,0,148.085,0   s-46.774,7.85-61.336,23.332c-25.508,27.12-28.42,72.631-26.371,106.034l-0.011,0.001c0.076,1.241-0.419,2.483-1.42,3.317   c-0.057,0.048-6.814,5.856-7.152,13.543c-0.327,7.434,5.618,12.567,5.679,12.617c1.702,1.408,1.94,3.93,0.532,5.632   c-0.791,0.956-1.934,1.45-3.084,1.45c-0.898,0-1.802-0.301-2.548-0.918c-0.37-0.307-9.077-7.646-8.571-19.133   c0.344-7.819,4.851-13.943,7.706-17.066c-6.814-12.958-17.097-23.066-30.6-30.077c-1.961-1.018-2.726-3.432-1.707-5.393   c1.018-1.962,3.433-2.726,5.393-1.707c11.076,5.749,20.199,13.394,27.27,22.812c-0.032-4.507,0.049-9.13,0.275-13.823   c-1.714-3.013-8.209-13.419-18.826-18.579C24.575,77.794,9.119,76.547,0,76.186c7.835,13.747,12.749,30.894,17.524,47.555   c4.817,16.811,9.368,32.689,16.131,40.963c13.7,16.758,32.558,17.489,32.746,17.494c1.696,0.049,3.189,1.162,3.708,2.778   c2.206,6.885,4.624,12.539,7.185,16.808c7.894,13.154,25.41,30.011,46.752,38.018c2.068,0.776,3.116,3.082,2.34,5.15   c-0.603,1.605-2.127,2.596-3.746,2.596c-0.467,0-0.941-0.082-1.404-0.256c-9.799-3.676-18.859-9.09-26.707-15.197   c-16.247,13.932-32.635,39.116-45.308,69.772c-11.578,28.011-17.818,55.527-15.528,68.472c2.016,11.389,12.201,19.56,18.145,23.448   l29.308-116.096c0.54-2.142,2.71-3.442,4.857-2.898c2.142,0.54,3.439,2.715,2.898,4.857l-13.273,52.58   c12.399-3.27,40.336-9.533,72.458-9.533s60.059,6.263,72.458,9.533l-13.273-52.58c-0.541-2.143,0.757-4.317,2.898-4.857   c2.147-0.541,4.318,0.758,4.857,2.898l29.308,116.096c5.943-3.886,16.129-12.058,18.146-23.448   c2.29-12.944-3.95-40.461-15.528-68.472c-12.673-30.655-29.061-55.84-45.308-69.772c-7.847,6.106-16.905,11.519-26.703,15.196   c-0.463,0.174-0.938,0.256-1.404,0.256c-1.619,0-3.144-0.99-3.746-2.596C169.012,242.882,170.06,240.576,172.128,239.8z    M154.666,118.55c1.283-1.798,3.781-2.216,5.58-0.93l2.487,1.776c1.803,1.288,4.139,1.442,6.097,0.405l31.628-16.777   c1.95-1.038,4.373-0.292,5.407,1.659c1.035,1.951,0.293,4.372-1.659,5.407l-31.628,16.777c-2.047,1.086-4.269,1.623-6.48,1.623   c-2.815,0-5.613-0.87-8.015-2.585l-2.486-1.776C153.799,122.847,153.382,120.348,154.666,118.55z M192.632,141.16   c0,4.1-3.323,7.423-7.423,7.423c-4.1,0-7.423-3.323-7.423-7.423s3.323-7.423,7.423-7.423   C189.308,133.737,192.632,137.061,192.632,141.16z M90.305,104.684c1.034-1.951,3.456-2.697,5.407-1.659l31.628,16.777   c1.96,1.037,4.294,0.883,6.097-0.405l2.487-1.776c1.798-1.283,4.296-0.868,5.58,0.93s0.867,4.297-0.931,5.58l-2.487,1.776   c-2.4,1.715-5.199,2.585-8.014,2.585c-2.212,0-4.434-0.536-6.48-1.623l-31.628-16.777C90.012,109.056,89.27,106.635,90.305,104.684   z M118.402,141.16c0,4.1-3.323,7.423-7.423,7.423s-7.423-3.323-7.423-7.423s3.323-7.423,7.423-7.423   S118.402,137.061,118.402,141.16z M126.284,173.659c-1.268,9.254-5.515,16.104-12.667,20.389c-0.634,0.379-1.345,0.568-2.056,0.568   c-0.761,0-1.52-0.217-2.183-0.647c-9.064-5.901-13.184-14.666-12.033-25.453l-5.24-3.841c-1.782-1.307-2.168-3.81-0.862-5.591   c1.308-1.783,3.813-2.168,5.591-0.862l6.084,4.459c2.659,1.948,5.807,2.979,9.103,2.979h72.129c3.296,0,6.443-1.03,9.103-2.979   l6.084-4.459c1.78-1.303,4.284-0.92,5.591,0.862c1.306,1.781,0.92,4.284-0.862,5.591l-5.24,3.841   c1.151,10.787-2.969,19.552-12.033,25.453c-0.663,0.431-1.423,0.647-2.183,0.647c-0.711,0-1.422-0.189-2.056-0.568   c-7.152-4.285-11.399-11.135-12.667-20.389H126.284z'/><path d='M122.407,457.408c-1.335-6.676,1.278-28.823,3.187-42.97l-7.589,7.555c-0.805,0.8-1.907,1.211-3.047,1.159   c-1.134-0.064-2.187-0.606-2.896-1.493l-11.098-13.85l-13.507,10.367c-0.868,0.666-1.969,0.947-3.053,0.779   c-1.081-0.169-2.046-0.773-2.67-1.673l-4.806-6.929v26.795c0,10.91-6.443,20.822-16.414,25.25l-15.585,6.921   c-3.523,1.565-5.801,5.068-5.801,8.924c0,5.384,4.381,9.765,9.765,9.765h74.717c5.307,0,9.623-4.316,9.623-9.623v-0.399   c0-2.582-1.055-5.051-2.969-6.951C127.343,468.132,123.607,463.412,122.407,457.408z'/></g></svg>"}})}),description:"Vicious and cowardly creatures that swarm the upper floors. They often travel in packs, overwhelming unsuspecting adventurers with sheer numbers.",abilities:"A standard melee attacker. Weak alone, but can be dangerous in groups."},{id:"skeleton",name:"Skeleton",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-slate-300 drop-shadow-lg",dangerouslySetInnerHTML:{__html:"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' viewBox='-5.0 -10.0 110.0 135.0' fill=\"currentColor\"> <path d='m55.238 20.16c1.2539-0.79297 2.207-1.9844 2.7109-3.3828 0.47656-1.3789 0.44531-2.8867-0.089844-4.2461-0.58203-1.4375-1.6172-2.6445-2.9492-3.4414-3.0234-1.8164-6.7969-1.8164-9.8203 0-1.332 0.79297-2.3672 2.0039-2.9492 3.4414-0.51172 1.332-0.50781 2.8086 0.003906 4.1406 0.57812 1.4648 1.6172 2.7031 2.957 3.5352 0.39063 0.25 0.625 0.67969 0.625 1.1445v2.918c0 0.011719 0.003907 0.019531 0.011719 0.027344 0.0625 0.046875 0.13672 0.070313 0.21484 0.066406h8.4219c0.050781 0.007813 0.10547-0.007812 0.14453-0.039062h0.007813c0.007812-0.011719 0.011718-0.03125 0.007812-0.050781v-2.9219c0-0.49609 0.26953-0.94922 0.70312-1.1914zm5.2812-2.5h-0.003906c-0.61719 1.7617-1.75 3.293-3.25 4.4023v2.2109-0.003907c0.003906 0.76562-0.30859 1.4961-0.86328 2.0234-0.54688 0.51562-1.2734 0.80469-2.0234 0.80078h-2.9492v1.2539l14.023-0.003906c0.58203 0 1.1016 0.37109 1.2891 0.92578l4.418 13 4.1289 4.5742c1.5664-0.42969 3.2188-0.42578 4.7852 0.011719 1.8789 0.53125 3.5352 1.6562 4.7266 3.207 0.43359 0.59375 0.31641 1.4297-0.26562 1.8789-0.58594 0.44922-1.4219 0.35547-1.8867-0.21875-0.83594-1.0859-1.9961-1.875-3.3164-2.25-0.85938-0.24219-1.7578-0.29297-2.6406-0.15625l1.0273 2.5664c0.16016 0.33594 0.17578 0.72656 0.039062 1.0781-0.13672 0.34766-0.41016 0.625-0.75781 0.76562-0.35156 0.14063-0.74219 0.13281-1.082-0.027343-0.33984-0.15625-0.60156-0.44922-0.71875-0.80469l-1.5-3.75-4.7461-5.2617c-0.13281-0.14844-0.23438-0.32422-0.29297-0.51172l-4.1797-12.301h-13.051v3.1094h11.234c0.75391 0 1.3672 0.60937 1.3672 1.3633 0 0.75391-0.61328 1.3633-1.3672 1.3633h-11.234v2.9766h8.3164c0.37109-0.011718 0.72656 0.12891 0.98828 0.38672 0.26562 0.25391 0.41406 0.60938 0.41406 0.97656 0 0.36719-0.14844 0.71875-0.41406 0.97656-0.26172 0.25781-0.61719 0.39453-0.98828 0.38672h-8.3164v2.9766h5.5352c0.36719-0.011719 0.72266 0.12891 0.98828 0.38672 0.26172 0.25391 0.41016 0.60938 0.41016 0.97656 0 0.36719-0.14844 0.71875-0.41016 0.97656-0.26562 0.25781-0.62109 0.39453-0.98828 0.38672h-5.5352v3.7578l4.3203-1.8711c1.7695-0.80078 3.8555-0.24219 4.9922 1.3359 1.1328 1.5742 0.99609 3.7344-0.32422 5.1562-0.80469 1.0078-1.4297 2.1484-1.8477 3.3711-0.43359 1.3008-0.64844 2.6641-0.64062 4.0352 0 0.042969 0 0.085938-0.007813 0.12891-0.011719 0.71484-0.22656 1.4141-0.625 2.0117-0.34766 0.51562-0.81641 0.94141-1.3633 1.2383l-0.12891 0.066407 2.8828 12.258c0.050781 0.21875 0.046875 0.44922-0.011719 0.66797l-2.4297 11.801h2.4414c0.36719-0.011719 0.72266 0.12891 0.98828 0.38672 0.26172 0.25391 0.41406 0.60938 0.41406 0.97656 0 0.36719-0.15234 0.71875-0.41406 0.97656-0.26562 0.25781-0.62109 0.39844-0.98828 0.38672h-4.1133c-0.089844 0-0.17969-0.007813-0.26953-0.027344-0.73438-0.15234-1.207-0.86719-1.0625-1.6016l2.7227-13.23-2.8984-12.336c-0.38281-0.10938-0.74219-0.27734-1.0742-0.49609l-0.085938-0.0625-0.51953-0.35547 0.003906 0.003906c-0.78906-0.48047-1.7812-0.46875-2.5586 0.023437l-0.69922 0.42578c-0.28906 0.1875-0.59766 0.33594-0.92578 0.4375l-2.9062 12.355 2.7227 13.23c0.14844 0.73438-0.32422 1.4531-1.0586 1.6016-0.089844 0.019531-0.17969 0.027344-0.27344 0.027344h-4.1133c-0.36719 0.011718-0.72266-0.12891-0.98828-0.38672-0.26562-0.25391-0.41406-0.60938-0.41406-0.97656 0-0.36719 0.14844-0.71875 0.41406-0.97656 0.26562-0.25781 0.62109-0.39453 0.98828-0.38672h2.4414l-2.4297-11.801c-0.058594-0.21875-0.0625-0.44922-0.011719-0.66797l2.8711-12.203c-0.078125-0.035156-0.15625-0.074219-0.23438-0.11719h0.003906c-0.55469-0.30078-1.0273-0.73047-1.3789-1.25-0.41797-0.63281-0.64062-1.375-0.62891-2.1328h-0.011719c0.003906-1.3398-0.22656-2.6719-0.67578-3.9336l-0.019532-0.0625v0.003906c-0.45312-1.2383-1.1016-2.3906-1.9258-3.4141-1.3242-1.4258-1.457-3.582-0.32422-5.1602 1.1367-1.5742 3.2227-2.1328 4.9922-1.332l4.4531 1.9336v-3.8164h-5.3984c-0.36719 0.011719-0.72656-0.12891-0.98828-0.38672-0.26562-0.25391-0.41406-0.60938-0.41406-0.97656 0-0.36719 0.14844-0.71875 0.41406-0.97656 0.26172-0.25781 0.62109-0.39844 0.98828-0.38672h5.3984v-2.9766h-8.1836c-0.36719 0.011719-0.72266-0.12891-0.98828-0.38672-0.26172-0.25391-0.41016-0.60938-0.41016-0.97656 0-0.36719 0.14844-0.71875 0.41016-0.97656 0.26562-0.25781 0.62109-0.39844 0.98828-0.38672h8.1836v-2.9766h-11.098c-0.75391 0-1.3672-0.60938-1.3672-1.3633 0-0.75391 0.61328-1.3633 1.3672-1.3633h11.098v-3.1094h-12.914l-4.1914 12.336c-0.058594 0.17578-0.15234 0.33594-0.27734 0.47656l-4.7695 5.2812-1.6289 3.7617c-0.13672 0.33984-0.40234 0.60547-0.74219 0.74609-0.33984 0.13672-0.71875 0.13672-1.0547-0.007813-0.33594-0.14844-0.59766-0.42187-0.73047-0.76172-0.12891-0.33984-0.11719-0.72266 0.035156-1.0547l1.1016-2.5352c-0.92578-0.13281-1.8672-0.074219-2.7656 0.17188-1.3516 0.35547-2.5469 1.1406-3.4141 2.2383-0.46875 0.55078-1.2891 0.63672-1.8633 0.19141-0.57422-0.44141-0.69922-1.2578-0.28516-1.8516 1.2266-1.5703 2.9297-2.6953 4.8516-3.2109 1.6133-0.4375 3.3125-0.44141 4.9297-0.007812l4.1289-4.5742 4.3906-12.918c0.16016-0.59375 0.69922-1.0078 1.3164-1.0078h13.883v-1.25h-2.7461c-0.75391-0.003906-1.4844-0.28516-2.0469-0.79297-0.57422-0.51953-0.90625-1.2578-0.90625-2.0312v-2.207c-1.5352-1.125-2.7148-2.668-3.3984-4.4453-0.74609-1.9492-0.74609-4.1055 0.003907-6.0547 0.79297-1.9961 2.2109-3.6758 4.0469-4.7852 3.9023-2.3711 8.7969-2.3711 12.699 0 1.8359 1.1094 3.2578 2.7891 4.0469 4.7852 0.76562 1.9531 0.80859 4.1133 0.125 6.0977zm-6.4492 47.559h-0.003906 0.13672c0.15234-0.015625 0.29688-0.058594 0.42969-0.13281 0.16016-0.085938 0.29688-0.21094 0.39844-0.36328 0.10547-0.16016 0.16797-0.33984 0.17969-0.53125v-0.10156 0.003906c-0.007813-1.6719 0.26172-3.3281 0.79297-4.9102 0.51953-1.5352 1.3047-2.9609 2.3203-4.2227 0.027343-0.039063 0.058593-0.074219 0.089843-0.10547 0.44922-0.47266 0.50391-1.1953 0.12891-1.7227-0.375-0.53125-1.0742-0.72266-1.668-0.45703l-4.875 2.1172c-0.59375 0.25781-1.2266 0.39844-1.8711 0.41406h-0.11719c-0.65625 0-1.3086-0.13281-1.9141-0.38281l-0.085937-0.03125-4.8711-2.1172h0.003906c-0.59375-0.26953-1.2969-0.082031-1.6719 0.44922-0.375 0.53516-0.32031 1.2578 0.12891 1.7266l0.074219 0.085938c1.0312 1.2695 1.8398 2.7031 2.4023 4.2383l0.027344 0.066407h-0.003907c0.55469 1.5586 0.83984 3.1953 0.83594 4.8477v0.015625c-0.003906 0.21484 0.058594 0.42188 0.17578 0.60156 0.20703 0.30469 0.54297 0.49609 0.91016 0.51953h0.125c0.18359-0.015624 0.35937-0.074218 0.50781-0.17187l0.070312-0.046876 0.64453-0.38672c1.6758-1.0859 3.8359-1.0938 5.5195-0.019532l0.078125 0.050782 0.48828 0.33594 0.0625 0.039063c0.16406 0.11328 0.35938 0.17969 0.55859 0.1875zm-6.25-51.438c0 0.20312-0.078124 0.39453-0.22266 0.53906-0.30078 0.27734-0.76562 0.26563-1.0547-0.023437-0.28906-0.28906-0.29688-0.75781-0.019531-1.0547 0.21875-0.21875 0.54687-0.28516 0.83203-0.16797 0.28516 0.11719 0.46875 0.39844 0.46875 0.70312zm1.707-2.4648c0.17969 0.17969 0.33594 0.37891 0.47266 0.58984 0.13672-0.21094 0.29297-0.41016 0.47266-0.58984 1.3242-1.3242 3.4609-1.3633 4.832-0.082031l0.09375 0.085937v-0.003906c0.65234 0.65234 1.0195 1.5391 1.0195 2.4648 0 0.92188-0.36719 1.8086-1.0195 2.4609-0.65234 0.65234-1.5391 1.0234-2.4609 1.0234s-1.8086-0.37109-2.4609-1.0234h-0.007812 0.003906c-0.17969-0.17969-0.33594-0.375-0.47266-0.58594-0.13672 0.21484-0.29688 0.41016-0.47656 0.58984-0.64844 0.67188-1.543 1.0508-2.4766 1.0586-0.93359 0.007812-1.8281-0.35938-2.4883-1.0195s-1.0273-1.5586-1.0195-2.4922c0.007813-0.93359 0.39063-1.8242 1.0625-2.4766 0.65234-0.65234 1.5352-1.0195 2.4609-1.0195 0.92188 0 1.8086 0.36719 2.4609 1.0195zm-1.9727 9.7695 1.3008-2.3359-0.003907 0.003906c0.22266-0.44531 0.66406-0.73047 1.1602-0.75 0.49219-0.023437 0.96094 0.22656 1.2188 0.64844l1.4062 2.3008c0.29688 0.41406 0.33594 0.96094 0.10156 1.4141-0.23047 0.45703-0.69922 0.74219-1.2109 0.74219h-2.7891c-0.48047 0-0.92578-0.25391-1.168-0.67188-0.24609-0.41406-0.25391-0.92578-0.019531-1.3477zm6.1445-7.3047c0.007812 0.20703-0.066407 0.40625-0.21094 0.55469-0.14453 0.14844-0.33984 0.23437-0.54688 0.23437-0.20703 0-0.40234-0.085937-0.54688-0.23437-0.14062-0.14844-0.21875-0.34766-0.21094-0.55469 0-0.19922 0.078125-0.39453 0.22266-0.53516 0.28125-0.27734 0.73047-0.29297 1.0352-0.039063l0.039063 0.039063c0.14062 0.14453 0.21875 0.33594 0.21875 0.53516z' fill-rule='evenodd'/></svg>"}})}),description:"The reanimated bones of fallen warriors, cursed to guard the dungeon for eternity. They feel no pain and know no fear, marching endlessly.",abilities:"Slightly tougher than a Goblin. Their bony forms make them resilient, but they are slow to react."},{id:"bat",name:"Giant Bat",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-slate-500 drop-shadow-lg",dangerouslySetInnerHTML:{__html:"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' viewBox='-5.0 -10.0 110.0 135.0' fill=\"currentColor\"> <path d='m37.23 47.188 3.1719-1.1875c-0.26172 0.89844-0.625 1.4727-1.0781 1.6562-0.47656 0.19922-1.1953 0.035156-2.0938-0.46875zm-25.234 5.9375c0.43359 12.23 5.918 18.414 15.617 24.461-0.4375-1.9297-0.14062-3.9844 0.90625-5.832 1.1953-2.1094 3.168-3.5469 5.5-4.125-10.414-4.6992-17.672-9.4727-22.023-14.504zm25.621 4.3555c-0.625-0.5-1.2344-1.0312-1.8164-1.6172-1.4688-1.4648-2.7148-3.1406-3.6719-4.9141-8.8516 3.4492-13.875 0.35938-21.977-4.6797-4.6328 4.9258-5.2617 11.918-4.9531 17.008 0.6875 11.328 6.668 24.504 14.062 31.59-0.67969-4.1406-0.12891-7.6992 1.6406-10.414 1.4219-2.1875 3.6172-3.793 6.3164-4.6641-4.5703-2.7773-9.125-6.0273-12.363-10.613-3.5508-5.0352-5.168-11.301-4.9453-19.152 0.015625-0.45313 0.31641-0.84375 0.75391-0.96875 0.4375-0.12891 0.90234 0.046874 1.1562 0.42187 3.7969 5.7188 11.52 11.117 23.582 16.5-0.34766-1.4609-0.36328-3.0117-0.015625-4.4844 0.37891-1.6172 1.1641-3.0117 2.2305-4.0117zm25.652-52.281c-5.0898-0.30859-12.082 0.32422-17.008 4.9531 5.0391 8.1055 8.1289 13.129 4.6797 21.98 1.7773 0.95703 3.4492 2.2031 4.918 3.668 0.57812 0.58203 1.1133 1.1875 1.6172 1.8164 1.0039-1.0625 2.3945-1.8477 4-2.2266 1.6055-0.37891 3.3086-0.32422 4.8828 0.12109-5.4297-12.258-10.883-20.094-16.652-23.93-0.375-0.25-0.54688-0.71875-0.42578-1.1562 0.12891-0.43359 0.51953-0.73828 0.96875-0.75 7.8594-0.22266 14.121 1.3906 19.156 4.9453 4.5273 3.1953 7.7578 7.6758 10.516 12.191 0.89844-2.5117 2.4453-4.5547 4.5234-5.9062 2.7148-1.7656 6.2734-2.3164 10.414-1.6367-7.082-7.3984-20.262-13.375-31.59-14.07zm-9.9023 6.5547c4.9961 4.3203 9.7305 11.496 14.391 21.777 0.65234-2.1172 2.0312-3.8945 3.9922-5.0078 1.9922-1.1328 4.2344-1.3867 6.3008-0.78906-6.1172-9.9219-12.305-15.539-24.684-15.98zm6.207 35.828c0.39844 3.625-0.62109 6.8672-2.875 9.1211-4.7227 4.7227-13.438 3.6875-19.43-2.3047-1.8203-1.8203-3.2578-3.9844-4.1602-6.2578-0.058594-0.14844-0.14844-0.28516-0.27344-0.39062-2.3555-2.1016-4.7148-5.25-7.0156-9.3672 2.1211 0.17188 3.8945 0.58594 5.2891 1.2422 0.26953 0.125 0.58203 0.12891 0.85938 0.007812 0.27344-0.12109 0.48438-0.35156 0.57422-0.64062 0.49609-1.5547 1.3086-2.9062 2.4219-4.0273 1.1172-1.1133 2.4688-1.9297 4.0312-2.4219 0.28516-0.089844 0.51562-0.30078 0.63672-0.57422 0.12109-0.27734 0.11719-0.58984-0.011718-0.85938-0.64844-1.3945-1.0625-3.168-1.2344-5.2891 4.1133 2.3008 7.2578 4.6602 9.3633 7.0156 0.10547 0.12109 0.24219 0.21484 0.39453 0.27344 2.2734 0.90234 4.4336 2.3438 6.2539 4.1602 2.9258 2.9375 4.7656 6.5938 5.1758 10.312zm-16.773-3.082c0.042969-0.35938-0.10547-0.71484-0.39453-0.9375-0.28516-0.22266-0.66406-0.28125-1.0039-0.15234l-6.7734 2.5273c-0.35156 0.13281-0.60547 0.44141-0.66406 0.8125s0.085937 0.74219 0.38281 0.97656c1.7617 1.3984 3.2578 2.0898 4.5391 2.0898 0.4375 0 0.85156-0.078125 1.2383-0.23828 1.4844-0.61328 2.3555-2.2734 2.6758-5.0781zm0.75781-2.0898c0.20312 0.25391 0.50391 0.39844 0.82031 0.39844 0.039063 0 0.078125 0 0.12109-0.003906 2.8008-0.32031 4.4648-1.1953 5.0781-2.6758 0.63281-1.5273 0.027344-3.4141-1.8516-5.7773-0.23047-0.29297-0.60547-0.4375-0.97656-0.37891s-0.67969 0.3125-0.8125 0.66406l-2.5273 6.7734c-0.13281 0.33594-0.074218 0.71484 0.14844 1zm11.906 1.5742c-0.53516-0.21094-1.1367 0.054687-1.3516 0.58594-1.6133 4.0977-5.4492 7.9336-9.5391 9.543-0.53516 0.21094-0.79688 0.81641-0.58984 1.3477 0.16406 0.41406 0.55859 0.66016 0.96875 0.66016 0.12891 0 0.25391-0.023438 0.38281-0.074219 1.0078-0.39453 2-0.91406 2.957-1.5312l1.1992 1.1992c0.20703 0.20703 0.46875 0.30469 0.73828 0.30469 0.26562 0 0.53125-0.097656 0.73438-0.30469 0.41016-0.40234 0.41016-1.0625 0-1.4688l-0.96484-0.96484c1.2031-0.96484 2.3164-2.0781 3.2891-3.2812l0.96094 0.96484c0.20312 0.20312 0.46875 0.30469 0.73438 0.30469 0.26953 0 0.53125-0.10156 0.73828-0.30469 0.40234-0.41016 0.40234-1.0625 0-1.4727l-1.2031-1.1992c0.61719-0.95703 1.1328-1.9492 1.5312-2.9609 0.20703-0.53125-0.054687-1.1367-0.58594-1.3477zm-7.8086-4.6523c0.19922-0.47656 0.03125-1.1992-0.46875-2.0977l-1.1836 3.1758c0.89844-0.26562 1.4648-0.63281 1.6523-1.0781z'/></svg>"}})}),description:"Erratic creatures of the dark. Their rapid, unpredictable movements make them difficult to hit, but they are fragile if a blow connects.",abilities:"Low health, but has a 33% chance to completely dodge an incoming attack."},{id:"slime",name:"Corrosive Slime",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-green-400 drop-shadow-lg",dangerouslySetInnerHTML:{__html:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 75' x='0px' y='0px' fill=\"currentColor\"><path d='M51.525,49.463C49.089,48.476,45,46.064,45,41V28a10.986,10.986,0,0,0-4-8.479V13.315a7,7,0,1,0-6,0v3.736c-.33-.03-.662-.051-1-.051H26c-.338,0-.67.021-1,.051V13.315a7,7,0,1,0-6,0v6.206A10.986,10.986,0,0,0,15,28V41c0,5.063-4.088,7.476-6.527,8.464a4.045,4.045,0,0,0-.07,7.424C11.091,58.05,17.472,60,30,60s18.909-1.95,21.6-3.113a4.046,4.046,0,0,0-.075-7.424ZM38,2a4.977,4.977,0,0,1,3.974,2H34.026A4.977,4.977,0,0,1,38,2Zm1,5a1,1,0,1,1-1-1A1,1,0,0,1,39,7ZM33,7a5,5,0,0,1,.1-1h2.083A2.966,2.966,0,0,0,35,7a3,3,0,0,0,6,0,2.966,2.966,0,0,0-.184-1H42.9A5,5,0,1,1,33,7Zm4,6.92a6.29,6.29,0,0,0,2,0v4.294a10.9,10.9,0,0,0-2-.787ZM22,2a4.977,4.977,0,0,1,3.974,2H18.026A4.977,4.977,0,0,1,22,2Zm1,5a1,1,0,1,1-1-1A1,1,0,0,1,23,7ZM17,7a5,5,0,0,1,.1-1h2.083A2.966,2.966,0,0,0,19,7a3,3,0,0,0,6,0,2.966,2.966,0,0,0-.184-1H26.9A5,5,0,1,1,17,7Zm4,6.92a6.29,6.29,0,0,0,2,0v3.507a10.9,10.9,0,0,0-2,.787ZM50.8,55.052C48.257,56.153,42.168,58,30,58S11.743,56.153,9.2,55.053a2.046,2.046,0,0,1,.026-3.737A13.721,13.721,0,0,0,15,47.105V52a1,1,0,0,0,2,0V28a9.01,9.01,0,0,1,9-9h8a9.01,9.01,0,0,1,9,9V52a1,1,0,0,0,2,0v-4.9a13.707,13.707,0,0,0,5.773,4.21,2.047,2.047,0,0,1,.031,3.737Z'/><path d='M27,44a3,3,0,1,0-3,3A3,3,0,0,0,27,44Zm-3,1a1,1,0,1,1,1-1A1,1,0,0,1,24,45Z'/><path d='M30,47a4,4,0,1,0,4,4A4,4,0,0,0,30,47Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,30,53Z'/><path d='M37,42a3,3,0,1,0,3,3A3,3,0,0,0,37,42Zm0,4a1,1,0,1,1,1-1A1,1,0,0,1,37,46Z'/><path d='M21.553,28.9A7.278,7.278,0,0,0,23,29.361V32a7,7,0,0,0,14,0V29.361a7.278,7.278,0,0,0,1.447-.466,1,1,0,0,0,.448-1.328,1.009,1.009,0,0,0-1.331-.467c-.019.008-1.987.9-7.564.9-5.517,0-7.5-.872-7.563-.9a1,1,0,0,0-.884,1.794ZM35,32a5,5,0,0,1-10,0V29.715c.582.076,1.24.144,2,.193V32a2,2,0,0,0,2,2h2a2,2,0,0,0,2-2V29.908c.76-.049,1.418-.117,2-.193Zm-4-2.01V32H29V29.99c.322.006.653.01,1,.01S30.678,30,31,29.99Z'/></svg>"}})}),description:"A gelatinous blob that patrols the damp corridors. It seems simple, but its form is unstable and can break apart under stress.",abilities:'When defeated, it splits into two smaller "Ooze" enemies in adjacent tiles.'},{id:"skeleton_archer",name:"Skeleton Archer",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-slate-400 drop-shadow-lg",dangerouslySetInnerHTML:{__html:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' fill=\"currentColor\"><g><path d='M57.8,35.1c3.9,0,7.1-3.2,7.1-7.1s-3.2-7.1-7.1-7.1s-7.1,3.2-7.1,7.1S53.9,35.1,57.8,35.1z M57.8,23.9 c2.3,0,4.1,1.8,4.1,4.1s-1.8,4.1-4.1,4.1s-4.1-1.8-4.1-4.1S55.5,23.9,57.8,23.9z'/><path d='M45.1,58.6c0.1,0,0.1,0,0.2,0c0.8,0,1.4-0.6,1.5-1.3c0.4-3.7,2.1-13.9,4.7-17.4c0.3-0.4,0.4-0.9,0.2-1.3 c-0.1-0.5-0.5-0.8-1-1l-22.3-7.6c0.4-1,0.9-2,1.4-2.9c6.2-10.7,18-13.6,18.1-13.6c0.8-0.2,1.3-1,1.1-1.8c-0.2-0.8-1-1.3-1.8-1.1 c-0.5,0.1-13.2,3.2-20,15c-5,8.7-5.5,19.7-1.5,32.8c0.2,0.6,0.8,1.1,1.4,1.1c0.1,0,0.3,0,0.4-0.1c0.8-0.2,1.2-1.1,1-1.9 c-2.9-9.4-3.3-17.7-1.3-24.6l20.6,7c-2.9,5.7-4.2,16.7-4.3,17.2C43.7,57.8,44.3,58.5,45.1,58.6z'/><path d='M63.1,41c-0.1-0.1-0.2-0.1-0.3-0.1c-0.1,0-0.2,0-0.3-0.1h0c0,0,0,0,0,0c-0.7-0.2-1.4,0.2-1.7,0.9 c-0.1,0.3-0.1,0.5,0,0.8c-0.3,1.4-2.9,7.9-3.4,9.2c-2.2,5.1-5.3,8.8-9.6,11.5c-1,0.6-2,1.2-3.1,1.8c-3.4,2-6.8,4-9.7,7.1 c-4.3,4.7-6,11.2-6.6,15.9c-0.1,0.8,0.5,1.6,1.3,1.7c0.1,0,0.1,0,0.2,0c0.7,0,1.4-0.5,1.5-1.3c0.6-4.2,2.1-10.1,5.9-14.3 c2.5-2.7,5.7-4.6,9-6.5c1-0.6,2.1-1.2,3.1-1.9c4.8-3,8.2-7.1,10.7-12.8c1.7-4,2.7-6.6,3.2-8.3c3.3,2,10.3,7.3,10.6,16.4 c0,0.8,0.7,1.5,1.5,1.4c0.8,0,1.5-0.7,1.4-1.5C76.4,48.1,65.1,41.9,63.1,41z'/><path d='M59.6,89.6c0.3,0,0.7-0.1,1-0.3c0.6-0.5,0.7-1.5,0.2-2.1c-7.5-9.1-9-17.6-9-17.7c-0.1-0.8-0.9-1.4-1.7-1.2 c-0.8,0.1-1.4,0.9-1.2,1.7c0.1,0.4,1.6,9.4,9.6,19.2C58.7,89.4,59.1,89.6,59.6,89.6z'/></g></svg>"}})}),description:"A more cunning form of undead, this skeleton retains its martial skill with the bow, firing bone-tipped arrows from a distance.",abilities:"A ranged attacker. It will retaliate against your attacks even from several tiles away."},{id:"shadow",name:"Lurking Shadow",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-violet-400 drop-shadow-lg",dangerouslySetInnerHTML:{__html:"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' viewBox='-5.0 -10.0 110.0 135.0' fill=\"currentColor\"> <path d='m45.883 0.10938c-0.43359 0.039063-2.043 0.16797-3.5742 0.28906-2.8359 0.22656-4.3086 0.55469-9.2109 2.043-4.3789 1.332-6.5977 2.3906-12.281 5.8594-2.0859 1.2734-5.9336 4.6797-8.5391 7.5586-1.6484 1.8242-3.7891 4.957-5.8398 8.5391-2.1953 3.8438-4.2539 9.3008-5.7383 15.242-0.69141 2.7617-0.70703 2.918-0.69922 8.0352 0.011719 6.0273 0.085938 6.6211 1.5977 12.637 1.2539 4.9961 2.6367 8.4727 5.0312 12.688 2.1797 3.8398 6.2891 9.0781 9.1992 11.734 1.457 1.3281 6.2812 4.8164 8.9375 6.4609 6.8125 4.2109 13.883 6.918 21.582 8.2578 3.3438 0.58203 8.707 0.72266 12.07 0.3125 5.0703-0.61328 12.66-3.2773 19.535-6.8477l3.5469-2.418 3.4492-3.1914c5.168-5.2695 8.7227-10.152 11.594-15.914 3.7344-7.4922 4.5547-19.875 1.918-28.938-1.793-6.1562-4.7109-10.922-9.5234-15.555-2.5156-2.418-5.1953-5.1836-9.3008-7.3047-1.3789-0.71094-2.2109-0.98047-3.6367-1.5977-1.8984-0.82031-2.918-0.90625-4.875-2.0664-2.2773-1.3516-2.6562-1.7109-2.6562-2.5156 0-0.80859 0.6875-1.5117 2.6211-2.668 5.5508-3.3242 7.8867-4.7578 8.2578-5.0664 0.32422-0.27344 0.39453-0.51562 0.28125-1-0.33203-1.4023-1.4531-1.3125-4.6758 0.375-4.5117 2.3633-12.566 6.2227-16.055 7.6992-1.8711 0.78906-3.5156 1.5234-3.6484 1.625-0.13672 0.10547-2.3594 1.0352-4.9414 2.0703-6.4805 2.5938-9.1367 4.1914-13.539 8.1367-5.0742 4.5547-7.4805 7.9297-9.1797 12.895-1.0742 3.1328-1.3867 5.2305-1.1211 7.4766 0.37109 3.1367 0.89062 5.1445 1.5664 6.0547 0.33984 0.46094 0.79297 1.3984 1.0078 2.0898 0.43359 1.3867 1.0664 2.1914 2.1289 2.6992 0.43359 0.20703 0.75391 0.55078 0.83984 0.90625 0.28516 1.1914 0.37891 1.332 1.0898 1.6445 0.56641 0.25 0.78906 0.52734 0.99219 1.2383 0.35156 1.2109 1.4648 1.9141 3.3281 2.0938l1.3477 0.12891 0.91797-1.0156c2.0195-2.2266 4.293-6.3359 4.7539-8.5898 0.097656-0.49219 0.33984-0.78125 0.84766-1.0195 0.38672-0.18359 1.2227-0.71875 1.8555-1.1914 0.99219-0.74609 1.1953-1.0312 1.5117-2.1133 0.19922-0.69141 0.41016-1.7227 0.46875-2.2969 0.09375-0.95703 0.21094-1.1328 1.4219-2.1562 1.4609-1.2344 4.0547-2.4805 5.5508-2.6719 0.53125-0.066407 1.3984-0.015625 1.9258 0.11719 1.0195 0.25391-0.64453 1.6523-0.14453 3.2031 0.41016 1.2695 1.168 1.9492 2.5391 2.2734l3.1953-0.71875 0.18359 1.125c0.21875 1.3516 0.085937 2.7812-0.29688 3.2109-0.15625 0.17188-0.57812 0.3125-0.94531 0.3125-0.53906 0-0.71875 0.13281-0.98828 0.72656l-0.77734 2.0469-0.45312 1.457c0 0.87109 0.097656 1.0156 1.6602 2.4727 0.91406 0.84766 2.3789 2.1641 3.2578 2.918 1.3242 1.1445 1.6562 1.5664 1.9609 2.5078 1.1328 3.4844 0.98828 9.2773-0.30078 12.062-1.5391 3.3398-4.9883 6.6953-8.6094 8.3789-2.8594 1.332-5.7383 2.0898-8.4688 2.2227-4.3281 0.21484-7.7695-0.43359-14.617-2.7539-6.9922-2.3672-14.957-8.832-19.02-15.434-4.7383-7.707-6.6797-13.961-6.6797-21.539 0-4.2148 0.25391-6.457 1.2422-11.035 0.84375-3.9023 1.4961-5.4883 4.4336-10.754 1.2539-2.2422 2.1641-3.5 4.4609-6.1562 1.5859-1.8398 3.7422-4.0547 4.7891-4.9258 4.8594-4.043 11.695-7.2852 18.387-8.7148 3.8008-0.80859 7.2773-1.2969 9.2617-1.293 2.0234 0 2.6875-0.29688 2.7852-1.2422 0.12109-1.1719-0.21094-1.2617-4.4648-1.2227-2.0586 0.015625-4.0977 0.0625-4.5312 0.10156z' fill-rule='evenodd'/></svg>"}})}),description:"A being of pure darkness that flickers and fades in the torchlight. It is hard to keep track of and can vanish from sight entirely.",abilities:"Has a chance each turn to become invisible, making it untargetable for one turn."},{id:"golem",name:"Stone Golem",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-stone-500 drop-shadow-lg",dangerouslySetInnerHTML:{__html:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' fill=\"currentColor\"><path d='M316.18 22.05c-28.8.16-57.27 6.13-85.46 17.92-2.34 12.94-6.77 28.27-16.64 41.56-10.4 13.07-26.07 23.34-50.12 23.3-22.8 26.9-33.58 56.57-32.8 87.37-10.23 9.27-21.48 18.86-33.32 26.92-13.04 9.1-27.1 16.65-42.52 20.65-7.57 14.78-13.3 30.26-16.97 46.21 14.6 2.65 28.5 9.86 38.72 22.05 6.18 7.4 10.32 15.53 12.94 24.03 14.84 1.52 28.74 7.07 40.26 18.1 6.1 5.84 10.88 12.43 14.33 19.56 12.12-1.12 23.28 2.37 33.06 7.7 4.06 2.2 7.82 4.75 11.34 7.56 12.1-5.58 26.28-8.6 43.3-6.62 24.52-25.6 54.84-45.2 88.3-58.82 5.52-26.03 6.95-51.65 4.97-76.22-13.38-6.4-26.7-16.23-39.06-30.26-20.67-23.53-35.57-54.06-46.97-86.33-1.47-2.1-2.8-4.2-4.04-6.27 17.1-2.06 34.08-5.86 50.82-11.5-2.7-4.93-5.3-10.16-7.77-15.7 26.8 2.48 54.08-1.15 81.36-9.9 3.38-4.6 6.7-9.38 9.88-14.36-8.6-14.87-11.64-31.55-10.36-49.63-7.26-.22-14.56-.42-21.84-.36zm106.06 39.16c-6.66 1.1-13.18 3.1-19.26 6.05-17.2 8.45-29.14 24.22-35.73 42.06-1.68 4.6-2.93 9.28-3.73 13.96 10.23 16.84 23.38 31.73 38.66 44.28 3.16 2.65 6.43 5.14 9.78 7.48 16.57-2.8 32.92-10.03 46.14-22.4 9.46-8.87 16.64-19.42 21.5-30.83-7.72-12.96-18.55-23.92-31.5-31.7-7.87-4.73-16.4-8.04-25.28-9.86-1.71-.35-3.44-.66-5.16-.88-1.05-.13-2.1-.25-3.16-.32-.1-.02-.2-.02-.3-.02-.98-.06-1.96-.08-2.94-.08zm64.3 121.74c-14.64 6.57-28.38 13.45-41.62 20.6-10.98 5.96-21.5 12.05-31.56 18.3 5.3 9.13 8.6 18.9 9.6 28.67 13.18 1.22 27.5 4.76 41.64 11.58 4.8-10.1 11.66-19.1 19.94-26.5-1.35-16.44.26-33.18 2-52.65zm-94.02 55.07c-2.38 10.5-6.62 20.57-12.78 29.3-5.94 8.42-13.47 15.3-22.07 20.43.9 24.07-.1 48.8-5.4 74.72 12.27 3.76 24.28 8.45 35.92 14.1 6.06-6.9 13.8-12.23 22.3-15.84-1.52-17.35-.77-36.27 5.9-53.77 6.63-17.36 18.4-33.42 37.22-44.5-4.58-9.5-8.26-19.06-10.22-28.67-16.63 3.02-33.4 3.4-50.87 4.23zm-100.57 76.6c-9.55 7.43-19.12 15.46-28.22 24.12 7.27-.1 13.37 1.4 18.6 3.73 3.5-4.1 6.58-8.56 9.1-13.36 3.68-6.85 5.78-9.94.52-14.5zM44.1 390.67c-4.62 12.43-7.65 25.52-8.73 39.05 8.93 2.14 17.66 5.85 25.42 11.35 11.5-7.5 24.53-10.7 37.1-10.5-2.6-9.05-7.14-17.66-13.97-23.72-7.8-6.84-17.4-10.42-26.8-11.38-4.65-.47-9.17-.3-13.05.2zm97.78 34.36c-3.7 6.05-6.4 12.8-7.6 20-1.53 9.05-.26 17.88 3.12 25.67 8.6-1.5 17.47-1.4 26.32.93 7.22 1.88 13.73 5.23 19.26 9.62 6.6-6.82 14.72-11.5 23.26-13.97-1.94-2.92-4.1-5.63-6.6-8-8.26-7.9-19.4-11.78-30.14-10.57-.3.04-.6.08-.9.1-6.94-7.66-16.25-12.73-26.72-13.78zm94.07 34.77c-6.17 5.46-11.35 11.96-14.7 19.35-2.44 5.28-3.75 10.82-4.13 16.3 9.97 2.77 20.37 7.64 29.22 15.55 4.84-1.82 9.62-3.05 14.38-3.57-1.73-10.5-.72-21.1 2.73-31.3-11.9-1.8-20.97-7.04-27.5-16.33z'/></svg>"}})}),description:"An animated construct of rock and ancient magic. It is incredibly durable and its heavy fists can shatter bone with ease.",abilities:"Very high health and damage. Its rocky hide acts as armor, reducing all incoming damage."},{id:"keyholder_orc",name:"Orc Keywarden",icon:(0,vF.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,vF.jsx)("div",{className:"w-10 h-10 text-emerald-500 drop-shadow-lg",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor"><g><path d="M55.4,63.3c-0.1,0.2-0.3,0.4-0.4,0.6c0.2,0.7,0.6,1.9,1.5,3c1,1.1,2.1,1.7,2.6,1.9c0,0.5,0.1,1.5-0.4,2.6 c-0.7,1.7-1.9,2.6-2.4,2.8c0.7,1.2,1.7,3.2,2.2,5.7c0.7,4.1-0.2,7.4-0.8,8.9h19.3v-1.7c-1.8-0.4-4-1-6.4-2.1 c-1.5-0.7-2.8-1.4-3.9-2.1c1.5-1.6,3.7-4.6,5.1-8.7c0.8-2.4,1-4.5,1.1-6.2c-2.5-6.5-4.9-10-6.9-12c-0.3-0.3-0.7-0.7-1.2-1.4 c-1.8,1.1-3.6,2.4-5.2,3.9C58.1,59.9,56.6,61.5,55.4,63.3z"/><path d="M61.5,41.5c-0.4-1-0.6-2.1-0.7-3.2c-0.1-1.1,0.1-2.2,0.3-3.3c0.2-1.1,0.6-2.1,0.9-3.1c0.3-1,0.6-2,0.9-3.1 c0.3-1,0.6-2.1,0.9-3.1l1.6-6.2c-1.4,0-2.5,0.2-3.5,0.3c-0.3,1.8-0.8,3.5-1.3,5.2c-0.5,1.7-1.1,3.4-1.8,5.1 c-0.7,1.7-1.5,3.3-2.4,4.8c-0.9,1.6-1.8,3.1-2.8,4.6c-1,1.5-2.2,2.9-3.5,4.2c-1.3,1.3-2.6,2.5-4.1,3.5c-2.9,2.1-6.2,3.7-9.6,4.9 c-0.4,1-1,1.8-1.4,2.4c-0.5,0.6-0.9,1.1-1.2,1.4c-1.9,2-4.4,5.5-6.9,12c0.1,1.7,0.3,3.8,1.1,6.2c1.3,4.2,3.6,7.1,5.1,8.7 c-1.1,0.7-2.4,1.4-3.9,2.1c-2.4,1.1-4.5,1.7-6.4,2.1v1.7h19.3c-0.6-1.6-1.5-4.9-0.8-8.9c0.5-2.5,1.4-4.4,2.2-5.7 c-0.5-0.3-1.7-1.2-2.4-2.8c-0.4-1.1-0.4-2-0.4-2.6c0.6-0.3,1.7-0.8,2.6-1.9c0.9-1,1.3-2.2,1.5-3c-0.1-0.2-0.3-0.4-0.4-0.6 c-1.2-1.8-2.7-3.4-4.3-4.8c-1.6-1.5-3.4-2.7-5.2-3.9c0.5,0.3,1,0.5,1.4,0.8c0.5,0.3,0.9,0.6,1.4,0.9c0.9,0.6,1.8,1.2,2.6,1.9 c1.7,1.4,3.2,3,4.5,4.7c0.1,0.2,0.3,0.4,0.4,0.5c0.5,0.7,1,1.5,1.4,2.2c0.5,1,1,1.9,1.4,3c0.7,1.6,1.2,3.2,1.7,4.9 c0.5-1.7,1-3.3,1.7-4.9c0.4-1,0.9-2,1.4-3c0.4-0.8,0.9-1.5,1.4-2.2c0.1-0.2,0.3-0.4,0.4-0.5c1.3-1.8,2.8-3.3,4.5-4.7 c0.8-0.7,1.7-1.3,2.6-1.9c0.5-0.3,0.9-0.6,1.4-0.9c0.5-0.3,0.9-0.5,1.4-0.8c-0.7-0.9-1.4-2-1.9-3.6c-0.2-0.7-0.7-2.5-0.5-4.7 c0.1-0.7,0.2-1.3,0.4-1.9c-0.3-0.4-0.6-0.9-0.8-1.4C61.9,42.5,61.7,42,61.5,41.5z"/><path d="M97.6,69c-3.7-5.5-5-10.2-5.5-13.5c-0.5-3.3-0.4-6.2-2.5-9.1c-1.8-2.6-4.5-3.8-6.4-4.5c-0.2-1.4-0.7-3.5-1.9-5.6 c-0.8-1.5-1.7-2.7-2.5-3.6c0.1-0.9,0.7-5.7-2.5-9.3c-2.2-2.4-5.1-3-7.2-3.4c-1.3-0.3-2.5-0.4-3.6-0.4c-0.3,2.1-0.6,4.2-1.1,6.3 c-0.4,2.1-1,4.2-1.6,6.2c-0.3,1-0.7,2-0.9,3.1c-0.1,0.5-0.2,1-0.3,1.5c-0.1,0.5-0.1,1-0.1,1.6c0,2.1,0.7,4.2,1.6,6.1 c1.2-3.7,4.3-5.9,5-6.3c0.8,1.5,1.9,3.2,3.2,5c1.3,1.8,2.7,3.2,3.9,4.4c1.1,2.8,2.9,6.3,5.7,10c1.5,1.9,3,3.6,4.5,4.9 c-0.6,0.4-2.9,2.3-3.6,5.6c-0.8,4,1.4,7.1,1.7,7.6c0.1-1,0.5-2.8,1.7-4.7c0.9-1.4,1.9-2.3,2.7-2.9c0.5,1.2,1.1,2.5,1.7,3.8 c0.8,1.7,1.7,3.2,2.6,4.5c-0.4,0.2-0.9,0.6-1.4,1.2c-0.9,1-1.1,2.1-1.2,2.7c0.7,0.1,1.7,0.4,2.9,1.2c1,0.6,1.6,1.4,2,1.9 c0.9-0.9,2.2-2.5,3.1-4.8C99,74,98,70.3,97.6,69z"/><path d="M45.8,46.9c2.8-2.1,5.3-4.7,7.3-7.6c1-1.4,1.9-3,2.8-4.5c0.9-1.5,1.7-3.1,2.4-4.7c1.5-3.2,2.7-6.6,3.6-10.1 c-0.3,0.1-0.6,0.1-0.8,0.2c-0.2-0.4-0.6-1-1.3-1.6c-0.5-0.5-1.1-0.8-1.5-1c0.4-0.4,0.9-0.9,1.3-1.5c0.9-1.3,1.3-2.6,1.4-3.4 c-0.6,0-2.4-0.1-3.9,1.1c-0.6,0.5-1.1,1-1.3,1.4c-0.3-0.6-1-1.7-2.3-2.7c-1.4-1-2.9-1.2-3.5-1.3c-0.6,0.1-2.1,0.3-3.5,1.3 c-1.3,0.9-2,2.1-2.3,2.7c-0.3-0.4-0.7-1-1.3-1.4c-1.6-1.2-3.4-1.2-3.9-1.1c0.2,0.8,0.5,2.1,1.4,3.4c0.4,0.6,0.9,1.1,1.3,1.5 c-0.4,0.2-0.9,0.5-1.5,1c-0.6,0.6-1,1.2-1.3,1.6c-1.6-0.4-4.5-0.8-7.9-0.2c-2.2,0.4-5.1,1-7.3,3.4c-3.2,3.5-2.6,8.4-2.5,9.3 c-0.8,0.9-1.7,2.1-2.5,3.6c-1.1,2.2-1.6,4.2-1.9,5.6c-2,0.7-4.6,2-6.4,4.5c-2.1,2.9-2,5.8-2.5,9.1c-0.5,3.3-1.9,8-5.5,13.5 C2,70.3,1,74,2.5,78.3c0.9,2.3,2.2,3.9,3.1,4.8c0.4-0.5,1-1.2,2-1.9c1.1-0.7,2.2-1,2.9-1.2c-0.1-0.5-0.3-1.6-1.2-2.7 c-0.5-0.6-1-0.9-1.4-1.2c0.9-1.3,1.7-2.8,2.6-4.5c0.7-1.3,1.2-2.6,1.7-3.8c0.7,0.6,1.8,1.5,2.7,2.9c1.2,1.9,1.6,3.6,1.7,4.7 c0.4-0.5,2.6-3.5,1.7-7.6c-0.7-3.3-3-5.1-3.6-5.6c1.4-1.3,3-3,4.5-4.9c2.8-3.6,4.6-7.1,5.7-10c1.2-1.2,2.5-2.6,3.9-4.4 c1.4-1.8,2.4-3.5,3.2-5c0.8,0.5,4.8,3.3,5.4,8.2c0.3,2.2-0.2,4.1-0.5,4.7c-0.1,0.4-0.3,0.8-0.4,1.1c1.6-0.7,3.2-1.5,4.8-2.4 C42.9,48.9,44.4,47.9,45.8,46.9z M54.2,16.3c0.4,0,0.8,0.3,0.8,0.8c0,0.4-0.3,0.8-0.8,0.8s-0.8-0.3-0.8-0.8 C53.4,16.7,53.7,16.3,54.2,16.3z M45.8,16.3c0.4,0,0.8,0.3,0.8,0.8c0,0.4-0.3,0.8-0.8,0.8c-0.4,0-0.8-0.3-0.8-0.8 C45.1,16.7,45.4,16.3,45.8,16.3z M44.6,23c0.1-0.2,0.2-0.3,0.3-0.5c0.2-0.3,0.4-0.7,0.6-1c0.2-0.4,0.3-0.7,0.5-1.1 c0.1-0.4,0.2-0.7,0.3-1.1l0.1-0.7l0.3,0.6c0.3,0.6,0.5,1.2,0.4,1.9c0,0.3-0.1,0.6-0.2,0.9c-0.1,0.2-0.2,0.5-0.3,0.7 c0.1,0,0.3-0.1,0.4-0.1c1-0.2,2-0.3,3-0.3c1,0,2,0.1,3,0.3c0.1,0,0.3,0.1,0.4,0.1c-0.1-0.2-0.2-0.4-0.3-0.6 c-0.1-0.3-0.2-0.6-0.2-0.9c-0.1-0.6,0.1-1.3,0.4-1.9l0.3-0.6l0.1,0.7c0.1,0.4,0.2,0.8,0.3,1.1c0.1,0.4,0.3,0.7,0.5,1.1 c0.2,0.4,0.4,0.7,0.6,1c0.1,0.2,0.2,0.3,0.3,0.5c0.1,0.2,0.2,0.3,0.4,0.5c-1-0.2-1.9-0.4-2.9-0.6c-1-0.1-1.9-0.2-2.9-0.1 c-1,0-1.9,0.1-2.9,0.2c-1,0.1-1.9,0.3-2.9,0.5C44.4,23.3,44.5,23.1,44.6,23z"/></g></svg>'}})}),description:"A hulking Orc chosen for its brute strength. It is entrusted with the key that unlocks the passage to the deeper levels of the dungeon.",abilities:"A powerful mini-boss. Defeating it drops the key for the floor."}]},Z=(0,t.useMemo)(()=>{var e,t,n;if(!b||!b.playerClass)return{maxHp:100,attack:10};const r=Q.classes[b.playerClass],i=[...Q.weapons,...Q.wands,...Q.bows,...Q.shields].find(e=>e.id===b.equippedWeapon),a=Q.armors.find(e=>e.id===b.equippedArmor),o=s.currentPet?d(s.currentPet.id):null;let l=0,c=0;const u=(null===(e=b.player.activeEffects)||void 0===e?void 0:e.find(e=>"tank_hunker_down"===e.id))?100:0;b.player.activeEffects&&b.player.activeEffects.forEach(e=>{"potion_strength"===e.id&&(l+=15),"potion_fortitude"===e.id&&(c+=50)});return{maxHp:(r.startingHp||100)+((null===a||void 0===a?void 0:a.hp)||0)+((null===i||void 0===i?void 0:i.hp)||0)+((null===(t=b.boughtStats)||void 0===t?void 0:t.hp)||0)+c+u,attack:10+((null===i||void 0===i?void 0:i.attack)||0)+(50*(null===o||void 0===o?void 0:o.xpBuff)||0)+((null===(n=b.boughtStats)||void 0===n?void 0:n.attack)||0)+l}},[b,s.currentPet,d,Q]),J=(0,t.useCallback)(()=>{X("Enemy turn...","text-gray-400 italic"),w(e=>u(u({},e),{},{lastMoveTrails:[]}))},[X]);(0,t.useEffect)(()=>{if("enemy"!==S||H.current.gameOver)return;const e=[...H.current.enemies];let t=0;const n=()=>{var r;const i=H.current;if(t>=e.length||i.player.hp<=0){if(i.wingman&&i.wingman.hp<=0){X("".concat(i.wingman.name," has been defeated! All upgrades are lost."),"text-red-500 font-bold");const e=u({},i.wingman),t=e.id,n=[...v.current.dungeon_wingmen.graveyard||[],e],r=u({},v.current.dungeon_wingmen.upgrades||{});delete r[t],l({"dungeon_wingmen.graveyard":n,"dungeon_wingmen.upgrades":r}),w(t=>{const n=u({},t);return n.board["".concat(e.y,",").concat(e.x)]={type:"empty"},n.wingman=null,n})}return w(e=>{let t=u(u({},e),{},{turnCount:(e.turnCount||1)+1});if(!t.wingman)return t;let n=u({},t.wingman),r=[...n.activeEffects||[]],i=[];return r.forEach((e,r)=>{if(e.durationTurns=(e.durationTurns||99)-1,"crusader_ability_b"===e.specialization&&"divine_shield"===e.id){const t=Math.round(.2*n.maxHp/e.duration);n.hp=Math.min(n.maxHp,n.hp+t),X("".concat(n.name,"'s Sanctuary heals them for ").concat(t," HP."),"text-green-300")}if(e.durationTurns<=0){if("crusader_ability_a"===e.specialization&&"divine_shield"===e.id){X("".concat(n.name,"'s Divine Shield explodes!"),"text-yellow-300");const r=e.tempHp||30;t.enemies.forEach(e=>{Math.hypot(e.x-n.x,e.y-n.y)<1.6&&(e.hp-=r)})}e.tempHp&&(n.maxHp-=e.tempHp),i.push(r)}}),n.activeEffects=r.filter((e,t)=>!i.includes(t)),t.wingman=n,t}),_("player"),E(2),z({distanceMoved:0,frenziedAttackAvailable:!1}),H.current.wingman&&C(H.current.wingman.ap),P({tiles:[],forEnemy:null}),void(H.current.player.hp>0?X("Your turn.","text-gray-400 italic"):ee())}const a=u({},e[t]),o=(e,t)=>{const n="player"===t.entityType?"player":"wingman",r="player"===n?"you":t.name||"your wingman";let i=e.atk;w(t=>{var a,o;if(!t[n])return t;let s=JSON.parse(JSON.stringify(t)),l=s[n],c=s.enemies.find(t=>t.id===e.id);const d=null===(a=l.activeEffects)||void 0===a?void 0:a.find(e=>"riposte"===e.id);if(d){const e="duelist_ability_a"===d.specialization?1:.5;if(Math.random()<e){const e=Math.round(.5*l.atk);c&&(c.hp-=e),X("".concat(l.name," ripostes for ").concat(e," damage!"),"text-sky-400")}"duelist_ability_b"===d.specialization&&(i=0,X("".concat(l.name," parries the attack!"),"text-sky-400"))}if(null===(o=l.activeEffects)||void 0===o?void 0:o.find(e=>"fortify"===e.id&&"heavy_ability_b"===e.specialization)){const e=Math.round(.25*i);c&&(c.hp-=e),X("".concat(l.name," reflects ").concat(e," damage!"),"text-orange-400")}l.hp-=i;const h={id:Date.now()+Math.random(),message:"".concat(e.name," attacks ").concat(r," for ").concat(i," damage!"),style:"text-red-400"};return s.log=[h,...(s.log||[]).slice(0,4)],k(e=>u(u({},e),{},{hits:u(u({},e.hits),{},{[n]:Date.now()})})),s})};if(a.statusEffects){let e=0;if(a.statusEffects.forEach(t=>{"poison"!==t.type&&"burning"!==t.type||(e+=t.damage)}),e>0&&(a.hp-=e,X("".concat(a.name," takes ").concat(e," damage from status effects."),"text-purple-400"),a.hp<=0))return w(e=>u(u({},e),{},{enemies:e.enemies.filter(e=>e.id!==a.id)})),t++,void setTimeout(n,50);a.statusEffects=a.statusEffects.map(e=>u(u({},e),{},{duration:e.duration-1})).filter(e=>e.duration>0)}if(a.moveFrequency&&i.turnCount%a.moveFrequency!==0||a.moveChance&&Math.random()>a.moveChance)return t++,void setTimeout(n,50);let s=i.player,c=[...i.enemies,i.player];if(i.wingman){var d;c.push(i.wingman);if(null===(d=a.statusEffects)||void 0===d?void 0:d.find(e=>"taunted"===e.type))s=i.wingman;else{const e=Math.hypot(a.x-i.player.x,a.y-i.player.y);Math.hypot(a.x-i.wingman.x,a.y-i.wingman.y)<e&&(s=i.wingman)}}let h=a.moveRange;const f=null===(r=a.statusEffects)||void 0===r?void 0:r.find(e=>"crippled"===e.type);f&&(h=Math.max(0,h-f.reduction));const p=((e,t,n,r)=>{const i=[[e]],a=new Set(["".concat(e.x,",").concat(e.y)]),o=new Set(r.map(e=>"".concat(e.x,",").concat(e.y)));for(o.delete("".concat(e.x,",").concat(e.y)),o.delete("".concat(t.x,",").concat(t.y));i.length>0;){const e=i.shift(),r=e[e.length-1];if(r.x===t.x&&r.y===t.y)return e;const c=[{x:0,y:1},{x:0,y:-1},{x:1,y:0},{x:-1,y:0},{x:1,y:1},{x:1,y:-1},{x:-1,y:1},{x:-1,y:-1}];for(const t of c){const c={x:r.x+t.x,y:r.y+t.y},u="".concat(c.x,",").concat(c.y);if(c.x<0||c.x>=10||c.y<0||c.y>=10||a.has(u))continue;if(0!==t.x&&0!==t.y){var s,l;const e="".concat(r.x+t.x,",").concat(r.y),i="".concat(r.x,",").concat(r.y+t.y);if("wall"===(null===(s=n[e])||void 0===s?void 0:s.type)||"wall"===(null===(l=n[i])||void 0===l?void 0:l.type))continue}const d=n[u];if(d&&"wall"!==d.type&&"hatch"!==d.type&&("chest"!==d.type||d.opened)&&!o.has(u)){const t=[...e,c];i.push(t),a.add(u)}}}return null})({x:a.x,y:a.y},{x:s.x,y:s.y},i.board,c);if(Math.hypot(a.x-s.x,a.y-s.y)<=a.attackRange)o(a,s),t++,setTimeout(n,200);else if(p&&p.length>1){if(p.length-2<=h){const e=p.slice(1,p.length-1),r=e.length>0?e[e.length-1]:{x:a.x,y:a.y};w(e=>{const t=u({},e.board);return t["".concat(a.y,",").concat(a.x)]={type:"empty"},t["".concat(r.y,",").concat(r.x)]={type:"enemy",enemyId:a.id},u(u({},e),{},{board:t,enemies:e.enemies.map(e=>e.id===a.id?u(u({},e),{},{x:r.x,y:r.y}):e)})}),setTimeout(()=>{o(a,s),t++,setTimeout(n,50)},250)}else{const e=p.slice(1,h+1),r=e[e.length-1];w(e=>{const t=u({},e.board);return t["".concat(a.y,",").concat(a.x)]={type:"empty"},t["".concat(r.y,",").concat(r.x)]={type:"enemy",enemyId:a.id},u(u({},e),{},{board:t,enemies:e.enemies.map(e=>e.id===a.id?u(u({},e),{},{x:r.x,y:r.y}):e)})}),setTimeout(()=>{t++,setTimeout(n,50)},250)}}else t++,setTimeout(n,200)};n()},[S]);const $=(e,t)=>{if(e.stopPropagation(),G)return void re(S,t,"attack_normal");if("player"===S&&q)return void re("player",t,q);if("wingman"===S&&j)return void ae(t);if(I.forEnemy===t.id)return void P({tiles:[],forEnemy:null});if(I.forEnemy===t.id)return void P({tiles:[],forEnemy:null});const n=!t.moveFrequency||b.turnCount%t.moveFrequency===0?t.moveRange:0,r=[...b.enemies,b.player],i=((e,t,n,r)=>{const i=new Map,a=[{pos:e,dist:0}],o=new Set(["".concat(e.x,",").concat(e.y)]);i.set("".concat(e.x,",").concat(e.y),{pos:e,dist:0});const s=new Set(r.map(e=>"".concat(e.x,",").concat(e.y)));for(;a.length>0;){const{pos:e,dist:r}=a.shift();if(r>=t)continue;const u=[{x:0,y:1},{x:0,y:-1},{x:1,y:0},{x:-1,y:0},{x:1,y:1},{x:1,y:-1},{x:-1,y:1},{x:-1,y:-1}];for(const t of u){const u={x:e.x+t.x,y:e.y+t.y},d="".concat(u.x,",").concat(u.y);if(u.x<0||u.x>=10||u.y<0||u.y>=10||o.has(d))continue;if(0!==t.x&&0!==t.y){var l,c;const r="".concat(e.x+t.x,",").concat(e.y),i="".concat(e.x,",").concat(e.y+t.y);if("wall"===(null===(l=n[r])||void 0===l?void 0:l.type)||"wall"===(null===(c=n[i])||void 0===c?void 0:c.type))continue}const h=n[d];!h||"wall"===h.type||"hatch"===h.type||"chest"===h.type&&!h.opened||s.has(d)||(o.add(d),i.set(d,{pos:u,dist:r+1}),a.push({pos:u,dist:r+1}))}}return Array.from(i.values()).map(e=>e.pos)})({x:t.x,y:t.y},n,b.board,r),a=new Set;[...i,{x:t.x,y:t.y}].forEach(e=>{for(let n=-t.attackRange;n<=t.attackRange;n++)for(let r=-t.attackRange;r<=t.attackRange;r++)if(Math.hypot(r,n)<=t.attackRange){const t=e.x+r,i=e.y+n;t>=0&&t<10&&i>=0&&i<10&&a.add("".concat(t,",").concat(i))}}),P({tiles:Array.from(a).map(e=>({x:parseInt(e.split(",")[0]),y:parseInt(e.split(",")[1])})),forEnemy:t.id})},ee=(b&&Q.classes[b.playerClass],()=>{const e=u(u({},b),{},{gameOver:!0,log:[{message:"You have been defeated! Your adventure ends here.",style:"text-red-500 font-bold"},...(b.log||[]).slice(0,4)]});w(e),K(e)}),te=e=>{const t=10;let n={},r=[];for(let u=0;u<t;u++)for(let e=0;e<t;e++)n["".concat(u,",").concat(e)]={type:"empty"};for(let u=0;u<15+Math.floor(5*Math.random());u++){const e=Math.floor(Math.random()*t),r=Math.floor(Math.random()*t);1===e&&1===r||(n["".concat(r,",").concat(e)]={type:"wall"})}const i=Q.enemies.filter(t=>e>=t.minFloor&&"ooze"!==t.id&&"keyholder_orc"!==t.id),a=6+Math.floor(e/2);for(let p=0;p<a;p++){let a,o;do{a=Math.floor(Math.random()*t),o=Math.floor(Math.random()*t)}while("empty"!==n["".concat(o,",").concat(a)].type);const s=i[Math.floor(Math.random()*i.length)],l=1+.5*Math.floor(e/3),c="enemy_".concat(p,"_").concat(Date.now());r.push(u(u({},s),{},{id:c,baseId:s.id,x:a,y:o,hp:Math.round(s.hp*l),maxHp:Math.round(s.hp*l),atk:Math.round(s.atk*l)})),n["".concat(o,",").concat(a)]={type:"enemy",enemyId:c}}let o,s;do{o=Math.floor(Math.random()*t),s=Math.floor(Math.random()*t)}while("empty"!==n["".concat(s,",").concat(o)].type);const l=Q.enemies.find(e=>"keyholder_orc"===e.id),c=1+.5*Math.floor(e/3),d=u(u({},l),{},{id:"keyholder_instance",baseId:l.id,hp:Math.round(l.hp*c),maxHp:Math.round(l.hp*c),atk:Math.round(l.atk*c),x:o,y:s});let h,f;r.push(d),n["".concat(s,",").concat(o)]={type:"enemy",enemyId:d.id};do{h=Math.floor(Math.random()*t),f=Math.floor(Math.random()*t)}while("empty"!==n["".concat(f,",").concat(h)].type||1===h&&1===f);n["".concat(f,",").concat(h)]={type:"hatch"};for(let u=0;u<2;u++){let e,r;do{e=Math.floor(Math.random()*t),r=Math.floor(Math.random()*t)}while("empty"!==n["".concat(r,",").concat(e)].type);n["".concat(r,",").concat(e)]={type:"chest",opened:!1}}return n["1,1"]={type:"player"},{newBoard:n,newEnemies:r}},ne=function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"player";if(S!==r||b.gameOver||!b.playerClass)return;const i="player"===r?b.player:b.wingman;if(!i)return;const a="player"===r?A:N,o="player"===r?1:i.moveCost||1;if(a<o)return void X("Not enough action points to move.","text-yellow-400");const c=b.board["".concat(t,",").concat(e)];if(q&&"player"===r){if("enemy"===c.type){const e=b.enemies.find(e=>e.id===c.enemyId);e&&re("player",e,q)}else X("No enemy at that location. Ability cancelled.","text-yellow-400");return void Y(null)}if(G&&"player"===r){if("enemy"===c.type){const e=b.enemies.find(e=>e.id===c.enemyId);e&&re(r,e,"attack_normal")}else X("No enemy at that location. Attack cancelled.","text-yellow-400");return void W(null)}const d=null===(n=i.activeEffects)||void 0===n?void 0:n.find(e=>"bonus_move"===e.type),h="player"===r?1.5:(i.moveRange||1.5)+(d?d.amount:0);if(Math.hypot(e-i.x,t-i.y)>h)return void X("You can only move to adjacent tiles.");if("wall"===c.type)return void X("You can't move through a wall.");if("enemy"===c.type)return void X("You cannot move onto an enemy's tile.");if("player"===r);else if(["hatch","key","chest"].includes(c.type))return void X("Your wingman cannot interact with that.","text-yellow-400");const f=Math.round(Math.hypot(e-i.x,t-i.y));"wingman"===r&&z(e=>u(u({},e),{},{distanceMoved:e.distanceMoved+f}));let m=B||0;const g={x:i.x,y:i.y},y=u({},b.board);y["".concat(g.y,",").concat(g.x)]={type:"empty"},y["".concat(t,",").concat(e)]={type:r};let v=u(u({},b),{},{board:y});if("player"===r?(v.player=u(u({},b.player),{},{x:e,y:t}),v.lastMoveTrails=[g]):(v.wingman=u(u({},b.wingman),{},{x:e,y:t}),v.lastMoveTrails=[...v.lastMoveTrails||[],g]),"player"===r){if("key"===c.type&&(v.player.hasKey=!0,v.log.unshift({id:Date.now(),message:"You picked up the key!",style:"text-yellow-400 font-bold"})),"chest"===c.type&&!c.opened){let n=Math.floor(Math.random()*(20+5*b.floor))+10;m+=n,v.log.unshift({id:Date.now(),message:"You opened a chest and found ".concat(n," gold!"),style:"text-yellow-400 font-bold"}),y["".concat(t,",").concat(e)].opened=!0}if("hatch"===c.type){if(b.player.hasKey)return void(()=>{const e=b.floor+1,{newBoard:t,newEnemies:n}=te(e);let r=(b.player.activeEffects||[]).map(e=>u(u({},e),{},{remainingFloors:e.remainingFloors-1})).filter(e=>e.remainingFloors>0),i=u({},b.player.abilityUses),a=[{message:"You descended to floor ".concat(e,"."),style:"text-slate-300"}];e%5===0&&(a.unshift({message:"You feel re-energized. Ability uses have been restored!",style:"text-cyan-400 font-bold"}),Q.attacks.filter(e=>e.class===b.playerClass).forEach(e=>{i[e.id]=e.maxUses}));const o=u(u({},b),{},{floor:e,board:t,enemies:n,player:u(u({},b.player),{},{x:1,y:1,hasKey:!1,activeEffects:r,abilityUses:i}),log:a,turnCount:1});w(o),l({dungeon_floor:Math.max(s.dungeon_floor||1,e),dungeon_state:o}).then(()=>{p("dungeonFloors",e)})})();v.log.unshift({id:Date.now(),message:"The hatch is locked. You need a key.",style:"text-yellow-400"})}}w(v),V(m);const x=a-o;"player"===r?(E(x),x<=0&&(b.wingman?_("wingman"):(_("enemy"),setTimeout(J,100)))):(C(x),x<=0&&(_("enemy"),setTimeout(J,100)))},re=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"attack_normal";const r="player"===e?b.player:b.wingman;if(!r)return;const i=Q.attacks.find(e=>e.id===n);if(!i)return;const a="player"===e?A:N,o="player"===e?1:r.attackCost||1;if(a<o)return void X("Not enough action points to attack.","text-yellow-400");const s=Math.hypot(t.x-r.x,t.y-r.y);if("player"===e){const e="attack_normal"===n?r.attackCost:i.cost,t="attack_normal"===n?r.attackRange:i.range;if(F<e)return X("Not enough XP for ".concat(i.name," (costs ").concat(e,")."),"text-red-400"),W(null),void Y(null);if("attack_normal"!==n&&(r.abilityUses[n]||0)<=0)return void X("No uses left for ".concat(i.name,"."),"text-yellow-400");if(s>t)return X("Target is out of range.","text-yellow-400"),W(null),void Y(null);U(t=>t-e)}else if(s>r.attackRange)return void X("Wingman target is out of range.","text-yellow-400");let l=!1;if(w(a=>{var o,s;let c=JSON.parse(JSON.stringify(a)),{enemies:d,board:h,player:f,log:p,wingman:m}=c;const g="player"===e;g&&"attack_normal"!==n&&f.abilityUses[n]--;const y=g?Z.attack+(i.power||0):m.atk||0,v=(null===(o=i.effect)||void 0===o?void 0:o.damageMultiplier)||1,b=d.findIndex(e=>e.id===t.id);if(-1===b)return a;let w=[d[b]];null!==(s=i.effect)&&void 0!==s&&s.aoe,w.forEach(e=>{let t=Math.round(y*v);e.armor&&(t=Math.max(1,t-e.armor)),e.hp-=t,p.unshift({id:Date.now()+Math.random(),message:"".concat(r.name||"You"," hit ").concat(e.name," for ").concat(t," damage."),style:"text-slate-300"})});let x=[],S=u({},c.enemyMovePaths||{});return d.forEach(e=>{e.hp<=0&&(x.push(e.id),delete S[e.id],p.unshift({id:Date.now()+Math.random(),message:"You defeated the ".concat(e.name,"!"),style:"text-green-400"}),h["".concat(e.y,",").concat(e.x)]={type:"keyholder_orc"===e.baseId?"key":"empty"})}),c.enemies=d.filter(e=>!x.includes(e.id)),c.log=p.slice(0,5),c.enemyMovePaths=S,c.lastMoveTrails=[],k(e=>u(u({},e),{},{hits:u(u({},e.hits),Object.fromEntries(w.map(e=>[e.id,Date.now()])))})),f.hp<=0&&(l=!0),c}),W(null),Y(null),l)return void ee();const c=a-o;"player"===e?(E(c),c<=0&&(b.wingman?_("wingman"):(_("enemy"),setTimeout(J,100)))):(C(c),c<=0&&(_("enemy"),setTimeout(J,100)))},ie=(e,t,n)=>{const r=e.cost;"xp"===n&&F<r?c("Not enough XP!","error"):"gold"===n&&B<r?c("Not enough Gold!","error"):(w(n=>{const r=u({},n);if("weapon"===t)r.ownedWeapons.push(e.id),r.equippedWeapon=e.id;else if("armor"===t)r.ownedArmor.push(e.id),r.equippedArmor=e.id;else if("potion"===t)r.potions=(r.potions||0)+1;else if("temp_potion"===t){const t=r.player.activeEffects||[],n=t.findIndex(t=>t.id===e.id);n>-1?t[n].remainingFloors=e.duration:t.push({id:e.id,remainingFloors:e.duration}),r.player.activeEffects=t}return r}),"xp"===n&&U(e=>e-r),"gold"===n&&V(e=>e-r),c("Bought ".concat(e.name,"! (Changes will be saved at the next checkpoint)"),"info"))},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=b.wingman,r=t?"savage_rush":j.id,i=n.abilities.find(e=>e.id===r);if(!n||!i)return;if(!t&&N<i.cost)return X("Not enough AP for ".concat(i.name,"."),"text-yellow-400"),void T(null);const a=Math.hypot(e.x-n.x,e.y-n.y);if(!t&&a>i.range)return X("Target is out of range for ".concat(i.name,"."),"text-yellow-400"),void T(null);let o=!1;if(w(t=>{let r=JSON.parse(JSON.stringify(t)),a="enemy"===e.entityType?r.enemies.find(t=>t.id===e.id):null;("player"===e.id||e.id===n.id)&&("player"===e.id?r.player:r.wingman);const s=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t-Math.max(0,(e.armor||0)-i);return a=Math.max(1,Math.round(a)),e.hp-=a,r.log.unshift({id:Date.now()+Math.random(),message:"".concat(n.name," hits ").concat(e.name," for ").concat(a," damage!"),style:"text-orange-400"}),k(t=>u(u({},t),{},{hits:u(u({},t.hits),{},{[e.id]:Date.now()})})),a};switch(i.id){case"taunt":a&&(a.statusEffects||(a.statusEffects=[]),a.statusEffects=a.statusEffects.filter(e=>"taunted"!==e.type),a.statusEffects.push({type:"taunted",duration:i.duration}),r.log.unshift({id:Date.now()+Math.random(),message:"".concat(n.name," taunts ").concat(a.name,"!"),style:"text-cyan-400"}),"knight_ability_a"===i.specialization?a.statusEffects.push({type:"attack_debuff",multiplier:.8,duration:i.duration}):"knight_ability_b"===i.specialization&&(r.wingman.activeEffects||(r.wingman.activeEffects=[]),r.wingman.activeEffects.push({type:"counter_attack",power:.5,duration:i.duration})),o=!0);break;case"heal":if("player"===e.id||e.id===n.id){const t="player"===e.id,a=t?r.player:r.wingman,s=t?Z.maxHp:n.maxHp,l=Math.min(s,a.hp+i.power);l>a.hp&&r.log.unshift({id:Date.now()+Math.random(),message:"".concat(n.name," heals for ").concat(l-a.hp," HP."),style:"text-green-400"}),a.hp=l,"cleric_ability_a"===i.specialization?a.statusEffects=(a.statusEffects||[]).filter(e=>e.isPositive):"cleric_ability_b"===i.specialization&&(a.activeEffects||(a.activeEffects=[]),a.activeEffects.push({type:"damage_buff",multiplier:1.15,durationTurns:1})),o=!0}break;case"firebolt":a&&(s(a,i.power),"mage_ability_a"===i.specialization?(a.statusEffects||(a.statusEffects=[]),a.statusEffects.push({type:"burning",damage:Math.round(.2*i.power),duration:2})):"mage_ability_b"===i.specialization&&(a.statusEffects||(a.statusEffects=[]),a.statusEffects.push({type:"chilled",reduction:1,duration:1})),o=!0);break;case"fortify":if(e.id===n.id){r.wingman.activeEffects||(r.wingman.activeEffects=[]),r.wingman.activeEffects=r.wingman.activeEffects.filter(e=>"fortify"!==e.id);let e=i.effect.tempHp,t={id:"fortify",duration:i.duration,tempHp:e};"heavy_ability_a"===i.specialization?(e+=20,t.tempHp=e):"heavy_ability_b"===i.specialization&&(t.specialization="heavy_ability_b"),r.wingman.activeEffects.push(t),r.wingman.hp+=e,r.wingman.maxHp+=e,r.log.unshift({id:Date.now()+Math.random(),message:"".concat(n.name," fortifies for ").concat(e," HP!"),style:"text-cyan-400"}),o=!0}break;case"divine_shield":if(e.id===n.id){r.wingman.activeEffects||(r.wingman.activeEffects=[]);const e=i.effect.tempHp;e>0&&(r.wingman.hp+=e,r.wingman.maxHp+=e);const t={id:i.id,duration:i.duration,specialization:i.specialization,tempHp:e};r.wingman.activeEffects.push(t),r.log.unshift({id:Date.now()+Math.random(),message:"".concat(n.name," gains a divine shield for ").concat(e," HP!"),style:"text-yellow-300"}),o=!0}break;case"riposte":{r.wingman.activeEffects||(r.wingman.activeEffects=[]);let e=0;"fortify"===i.id&&(e=i.effect.tempHp+("heavy_ability_a"===i.specialization?20:0)),"divine_shield"===i.id&&(e=i.effect.tempHp),e>0&&(r.wingman.hp+=e,r.wingman.maxHp+=e);const t={id:i.id,duration:i.duration,specialization:i.specialization};r.wingman.activeEffects.push(t),r.log.unshift({id:Date.now()+Math.random(),message:"".concat(n.name," uses ").concat(i.name,"!"),style:"text-cyan-400"}),o=!0;break}case"sunder":if(a){const e=s(a,i.power,i.armorPiercing);"undead_ability_a"===i.specialization?a.armor=Math.max(0,(a.armor||0)-2):"undead_ability_b"===i.specialization&&(r.wingman.hp=Math.min(r.wingman.maxHp,r.wingman.hp+Math.round(.3*e))),o=!0}break;case"shadow_strike":a&&(s(a,i.power,i.armorPiercing),"rogue_ability_a"===i.specialization?(a.statusEffects||(a.statusEffects=[]),a.statusEffects.push({type:"poison",damage:5,duration:3})):"rogue_ability_b"===i.specialization&&(r.wingman.activeEffects||(r.wingman.activeEffects=[]),r.wingman.activeEffects.push({type:"bonus_move",amount:1,durationTurns:1})),o=!0);break;case"piercing_lance":if(a){let e=i.power;if("cavalier_ability_b"===i.specialization){e*=1+Math.min(.5,.1*(L.distanceMoved||0))}if(s(a,e),"cavalier_ability_a"===i.specialization){const t=a.x-n.x,i=a.y-n.y,o=a.x+t,l=a.y+i,c=r.enemies.find(e=>e.x===o&&e.y===l);c&&(s(c,.5*e),r.log.unshift({id:Date.now(),message:"The attack pierces through to ".concat(c.name,"!"),style:"text-orange-300"}))}o=!0}break;case"savage_rush":a&&(s(a,i.power),"warg_ability_a"===i.specialization?(a.statusEffects||(a.statusEffects=[]),a.statusEffects.push({type:"crippled",reduction:2,duration:1})):"warg_ability_b"===i.specialization&&(r.wingman.activeEffects||(r.wingman.activeEffects=[]),r.wingman.activeEffects.push({type:"frenzied",durationTurns:1})),o=!0);break;default:a&&(s(a,i.power||n.atk),o=!0)}return r}),o)if(t)z(e=>u(u({},e),{},{frenziedAttackAvailable:!1}));else{const e=N-i.cost;C(e),e<=0&&(_("enemy"),setTimeout(J,100))}T(null)};if(!b)return(0,vF.jsx)("div",{className:"text-center p-10 text-xl text-slate-400",children:"Loading Dungeon..."});if("class_selection"===b.phase)return(0,vF.jsxs)("div",{className:"text-center",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/dark-brick-wall.png')"},children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Choose Your Class"}),(0,vF.jsx)("p",{className:"text-slate-400 mb-8",children:"Your choice will last for this entire dungeon run."}),(0,vF.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:Object.entries(Q.classes).map(e=>{let[t,n]=e;return(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700 flex flex-col items-center hover:bg-slate-800/80 transition-colors",children:[(0,vF.jsx)("span",{className:"text-6xl mb-4",children:n.icon}),(0,vF.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:n.name}),(0,vF.jsx)("p",{className:"text-slate-400 text-sm mb-4 flex-grow",children:n.description}),(0,vF.jsx)("button",{onClick:()=>(e=>{const t=Q.classes[e],{newBoard:n,newEnemies:r}=te(1),i={};Q.attacks.filter(t=>t.class===e).forEach(e=>{i[e.id]=e.maxUses});const a={id:"player",entityType:"player",name:t.name,x:1,y:1,hp:t.startingHp,hasKey:!1,activeEffects:[],moveCost:t.moveCost,attackCost:t.attackCost,attackRange:t.attackRange,abilityUses:i},o=u(u({},{phase:"class_selection",playerClass:null,floor:1,board:{},player:{id:"player",entityType:"player",x:1,y:1,hp:100,maxHp:100,attack:10,hasKey:!1,activeEffects:[]},enemies:[],enemyMovePaths:{},lastMoveTrails:[],turnCount:1,log:["Choose your class to begin your adventure."],gameOver:!1,shopOpen:!1,ownedWeapons:[],ownedArmor:[],potions:0,boughtStats:{hp:0,attack:0}}),{},{phase:"playing",turnCount:1,playerClass:e,board:n,enemies:r,log:["You have entered the dungeon as a ".concat(t.name,"!")],player:a});w(o),l({dungeon_state:o,"dungeon_wingmen.equipped":D})})(t),className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"Select"})]},t)})})]});return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Dungeon Crawler"}),(0,vF.jsxs)("p",{className:"text-slate-400",children:["Floor: ",b.floor," | Highest Floor: ",s.dungeon_floor||1]})]}),(0,vF.jsxs)("div",{className:"flex space-x-2",children:[(0,vF.jsx)("button",{onClick:()=>K(b),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Save"}),(0,vF.jsx)("button",{onClick:()=>{M(!1),w(e=>u(u({},e),{},{shopOpen:!e.shopOpen,bestiaryOpen:!1}))},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Shop"}),(0,vF.jsx)("button",{onClick:()=>{w(e=>u(u({},e),{},{shopOpen:!1,bestiaryOpen:!1})),M(e=>!e)},className:"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700",children:"Barracks"}),(0,vF.jsx)("button",{onClick:()=>{M(!1),w(e=>u(u({},e),{},{bestiaryOpen:!e.bestiaryOpen,shopOpen:!1}))},className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700",children:"Bestiary"}),(0,vF.jsx)("button",{onClick:h,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Reset"})]})]}),(0,vF.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,vF.jsx)("div",{className:"flex-grow flex justify-center lg:justify-start",children:(0,vF.jsx)("div",{className:"p-2 bg-slate-900/50 border border-slate-700 rounded-lg inline-block relative",children:(()=>{const e=[],t={player:e=>(0,vF.jsx)("div",{className:"w-8 h-8 text-blue-400 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsx)("svg",{viewBox:"0 0 20 20",className:"w-full h-full",children:(0,vF.jsx)("path",{fill:"currentColor",d:"M10 2a2.5 2.5 0 110 5a2.5 2.5 0 010-5zM5.121 12.121a5.002 5.002 0 018.758 0L15 13.25V18H5v-4.75l.121-.129z"})})}),key:()=>(0,vF.jsx)("div",{className:"w-8 h-8 text-yellow-400 drop-shadow-lg",children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-5.0 -10.0 110.0 135.0",className:"w-full h-full",children:(0,vF.jsx)("path",{fill:"currentColor",d:"m83.75 17.812 0.3125-0.3125c0.625-0.625 1.25-1.875 1.25-2.8125s-0.625-2.1875-1.25-2.8125c-1.5625-1.5625-4.0625-1.5625-5.625 0l-12.812 12.5c-1.25-0.625-2.8125-0.625-3.75 0.625-0.9375 0.9375-1.25 2.5-0.625 3.75l-29.375 29.375c-1.25-0.625-2.8125-0.625-3.75 0.625-0.625 0.625-0.9375 1.25-0.9375 2.1875-5.3125-2.1875-11.875-1.25-16.25 3.125-5.9375 5.9375-5.9375 15.312 0 20.938 2.8125 2.8125 6.875 4.375 10.625 4.375s7.5-1.5625 10.625-4.375c4.375-4.375 5.625-10.938 3.125-16.25 0.625 0 1.5625-0.3125 2.1875-0.9375s0.9375-1.25 0.9375-2.1875c0-0.625 0-0.9375-0.3125-1.5625l29.375-29.375c0.3125 0.3125 0.9375 0.3125 1.5625 0.3125 0.9375 0 1.5625-0.3125 2.1875-0.9375s0.9375-1.25 0.9375-2.1875c0-0.625 0-0.9375-0.3125-1.5625l0.3125-0.3125 7.1875 7.1875c0.3125 0.3125 0.625 0.3125 0.625 0.3125 0.3125 0 0.625 0 0.625-0.3125l2.1875-2.1875c0.3125-0.3125 0.3125-0.625 0.3125-0.625s0-0.625-0.3125-0.625l-2.8125-2.8125 3.75-3.75 0.9375 0.9375-0.9375 0.9375c-0.3125 0.3125-0.3125 0.625-0.3125 0.625s0 0.625 0.3125 0.625l3.4375 3.4375c0.3125 0.3125 1.25 0.3125 1.5625 0l4.375-4.375c0.625-0.625 0.625-1.25 0.3125-1.5625zm-57.5 61.875c-2.8125 2.8125-7.5 2.8125-10 0-2.8125-2.8125-2.8125-7.5 0-10 2.8125-2.8125 7.5-2.8125 10 0 2.8125 2.5 2.8125 7.1875 0 10zm9.0625-13.438c-0.3125 0.3125-0.9375 0.3125-1.25 0l-4.6875-4.6875c-0.3125-0.3125-0.3125-0.9375 0-1.5625 0.3125-0.3125 0.9375-0.3125 1.25 0l4.6875 4.6875c0.625 0.625 0.625 1.25 0 1.5625zm33.75-33.75c-0.3125 0.3125-0.9375 0.3125-1.25 0l-4.6875-4.6875c-0.3125-0.3125-0.3125-0.9375 0-1.5625 0.3125-0.3125 0.9375-0.3125 1.25 0l4.6875 4.6875c0.625 0.3125 0.625 0.9375 0 1.5625z"})})}),chest_closed:()=>(0,vF.jsx)("div",{className:"w-10 h-10 text-amber-500 drop-shadow-lg",children:(0,vF.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-5.0 -10.0 110.0 135.0",className:"w-full h-full",children:[(0,vF.jsx)("path",{fill:"currentColor",d:"m48.609 45.832v4.168c0 0.76562 0.62109 1.3906 1.3906 1.3906s1.3906-0.62109 1.3906-1.3906v-4.168c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906h-2.7773c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m70.832 76.391h4.168c3.832 0 6.9453-3.1094 6.9453-6.9453v-27.777c0-9.957-8.0977-18.055-18.055-18.055h-27.777c-9.957 0-18.055 8.0977-18.055 18.055v27.777c0 3.832 3.1094 6.9453 6.9453 6.9453h45.832zm-26.387-27.781v-6.9453c0-0.76562 0.625-1.3906 1.3906-1.3906h8.332c0.76562 0 1.3906 0.625 1.3906 1.3906v11.109c0 0.76562-0.625 1.3906-1.3906 1.3906h-8.332c-0.76563 0-1.3906-0.625-1.3906-1.3906v-4.168zm34.723-6.9414v27.777c0 2.293-1.875 4.168-4.168 4.168 0.875-1.168 1.3906-2.6094 1.3906-4.168v-20.832c0-0.76562-0.625-1.3906-1.3906-1.3906h-16.668v-2.7773h16.668c0.76562 0 1.3906-0.625 1.3906-1.3906v-1.3906c0-5.7773-2.7344-10.93-6.9727-14.234 5.6953 2.207 9.75 7.7656 9.75 14.234zm-54.168 31.941c-2.293 0-4.168-1.875-4.168-4.168v-27.777c0-6.4727 4.0547-12.027 9.75-14.234-4.2344 3.3047-6.9727 8.457-6.9727 14.234v1.3906c0 0.76562 0.625 1.3906 1.3906 1.3906h16.668v2.7773h-16.668c-0.76562 0-1.3906 0.625-1.3906 1.3906v20.832c0 1.5547 0.51562 3 1.3906 4.168z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m93.785 72.43c-1.3633-0.84375-3.8203-2.7695-4.9688-6.2031-1.6328-4.8945 0.75781-9.1406 1.2539-9.9414 0.40234-0.65234 0.20313-1.5078-0.44922-1.9102s-1.5078-0.20312-1.9141 0.44922c-0.85547 1.3867-3.4961 6.3672-1.5234 12.281 0.91797 2.75 2.5039 4.7148 3.9688 6.0469-2.0469 0.89844-4.5234 2.4688-6.543 5.1875-2.3633 3.1758-3.0586 6.5195-3.1758 9.0195-3.0234-1.8008-6.6562-2.2695-10.023-1.1797-2.9023 0.93359-4.8242 2.7695-6.043 4.4492l-1.9102-7.6289c-0.1875-0.74219-0.94141-1.1992-1.6836-1.0117-0.74609 0.1875-1.1992 0.94141-1.0117 1.6836l2.7773 11.109c0.14844 0.59766 0.67578 1.0234 1.2891 1.0508h0.058594c0.59375 0 1.1211-0.375 1.3125-0.94141 0.16016-0.47266 1.7031-4.668 6.0547-6.0703 3.375-1.0859 7.0938-0.14844 9.707 2.4414 0.42187 0.42188 1.0664 0.52344 1.6016 0.25391 0.53125-0.26953 0.83594-0.84766 0.75-1.4375-0.24219-1.6914-0.48047-6.0547 2.5156-10.086 2.4805-3.3398 5.8008-4.5898 7.5625-5.0391 0.53906-0.13672 0.94531-0.58594 1.0312-1.1367 0.085937-0.55078-0.16797-1.0977-0.64453-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m5.5547 37.5h6.9453c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906h-3.7539c1.4844-1.8906 3.0273-4.5703 3.7266-8.0625 0.79688-3.9844 0.16797-7.4219-0.625-9.8164 2.3242 0.042968 5.1797-0.30469 8.1797-1.6992 3.5391-1.6406 5.8828-4.0781 7.375-6.1992 1.3594 2.8945 3.8086 5.1719 6.8594 6.25 3.1758 1.125 6.0781 0.61328 8.1094-0.12109l-0.66016 2.6406c-0.1875 0.74219 0.26562 1.5 1.0117 1.6836 0.73828 0.18359 1.4961-0.26562 1.6836-1.0117l1.3906-5.5547c0.14062-0.5625-0.082031-1.1523-0.5625-1.4805-0.47656-0.32812-1.1094-0.32422-1.5859 0.007813-0.41016 0.28516-4.1055 2.7539-8.4609 1.2148-3.1445-1.1133-5.457-3.8945-6.0391-7.2617-0.10156-0.59766-0.58203-1.0586-1.1797-1.1406-0.61719-0.082031-1.1836 0.23438-1.4414 0.78516-0.92969 1.9688-3.1602 5.5781-7.6602 7.6641-3.5039 1.6211-6.793 1.5859-8.9375 1.2734-0.50391-0.074219-1.0156 0.13672-1.3203 0.55078-0.30469 0.41406-0.35547 0.96094-0.13672 1.4219 0.875 1.832 2.207 5.6016 1.2812 10.238-0.92969 4.6367-3.6055 7.6055-5.1211 8.9609-0.42969 0.38281-0.57812 0.99219-0.37109 1.5312 0.20312 0.53906 0.72266 0.89453 1.2969 0.89453z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m69.445 11.109c0.76953 0 1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76562-0.62109-1.3906-1.3906-1.3906-0.76953 0-1.3906 0.62109-1.3906 1.3906v1.3906c0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m65.277 13.891h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m69.445 13.891c-0.76953 0-1.3906 0.62109-1.3906 1.3906v1.3906c0 0.76562 0.62109 1.3906 1.3906 1.3906 0.76953 0 1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76562-0.62109-1.3906-1.3906-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m72.223 13.891h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m86.109 8.332c0.76953 0 1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76562-0.62109-1.3906-1.3906-1.3906s-1.3906 0.62109-1.3906 1.3906v1.3906c0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m81.945 11.109h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m86.109 11.109c-0.76953 0-1.3906 0.62109-1.3906 1.3906v1.3906c0 0.76562 0.62109 1.3906 1.3906 1.3906s1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76562-0.62109-1.3906-1.3906-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m88.891 11.109h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m8.332 76.391v1.3906c0 0.76562 0.62109 1.3906 1.3906 1.3906 0.76953 0 1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76562-0.62109-1.3906-1.3906-1.3906-0.76953 0-1.3906 0.62109-1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m6.9453 79.168h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m9.7227 81.945c-0.76953 0-1.3906 0.62109-1.3906 1.3906v1.3906c0 0.76563 0.62109 1.3906 1.3906 1.3906 0.76953 0 1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76563-0.62109-1.3906-1.3906-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m13.891 79.168h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m25 88.891c0.76953 0 1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76562-0.62109-1.3906-1.3906-1.3906s-1.3906 0.62109-1.3906 1.3906v1.3906c0 0.76562 0.62109 1.3906 1.3906 1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m22.223 88.891h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m25 91.668c-0.76953 0-1.3906 0.62109-1.3906 1.3906v1.3906c0 0.76562 0.62109 1.3906 1.3906 1.3906s1.3906-0.62109 1.3906-1.3906v-1.3906c0-0.76562-0.62109-1.3906-1.3906-1.3906z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m29.168 88.891h-1.3906c-0.76953 0-1.3906 0.62109-1.3906 1.3906 0 0.76562 0.62109 1.3906 1.3906 1.3906h1.3906c0.76953 0 1.3906-0.62109 1.3906-1.3906 0-0.76562-0.62109-1.3906-1.3906-1.3906z"})]})}),chest_opened:()=>(0,vF.jsx)("div",{className:"w-10 h-10 text-amber-600 opacity-70 drop-shadow-lg",children:(0,vF.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-5.0 -10.0 110.0 135.0",className:"w-full h-full",children:[(0,vF.jsx)("path",{fill:"currentColor",d:"m92.949 53.078h-85.871c-0.57812-0.011719-1.0508 0.46094-1.0508 1.0391v5.0781c0 0.57813 0.46875 1.0508 1.0508 1.0508l33.73 0.003906c1.1289 0 2.0508 0.92188 2.0508 2.0391v4.2695c0 0.28125 0.10938 0.53906 0.30859 0.73828l3.8984 3.8984c0.19922 0.19922 0.46094 0.30859 0.73828 0.30859h4.4297c0.28125 0 0.53906-0.10938 0.73828-0.30859l3.8984-3.8984c0.19922-0.19922 0.30859-0.46094 0.30859-0.73828v-4.2695c0-1.1211 0.92187-2.0391 2.0508-2.0391h33.73c0.57812 0 1.0508-0.46875 1.0508-1.0508v-5.0703c0-0.57812-0.46875-1.0508-1.0508-1.0508z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m87.871 81.301c0 0.53125-0.21875 1.0703-0.60938 1.4414l-4.5117 4.5117c-0.37891 0.39062-0.91016 0.60938-1.4414 0.60938l-62.59-0.003906c-0.53125 0-1.0703-0.21875-1.4414-0.60938l-4.5117-4.5117c-0.39062-0.37891-0.60938-0.91016-0.60938-1.4414v-1.9031l-6.125 0.003906v29.68c0 1.1289 0.91016 2.0391 2.0391 2.0391h83.891c1.1289 0 2.0391-0.91016 2.0391-2.0391v-29.68h-6.1289z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m14.211 62.281v19.031l4.5117 4.5117h62.59l4.5117-4.5117v-19.031h-26.602v5.1211c0 0.26953-0.10156 0.53125-0.30078 0.71875l-5.1211 5.1211c-0.19141 0.19922-0.44922 0.30078-0.71875 0.30078h-6.1289c-0.26953 0-0.53125-0.10156-0.71875-0.30078l-5.1211-5.1211c-0.19922-0.19141-0.30078-0.44922-0.30078-0.71875v-5.1211z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m7.4883 11.121h85.062c-1.0117-2.0898-2.75-3.6719-4.8398-4.4883-1.0312-0.41016-2.1406-0.62891-3.3086-0.62891l-68.762-0.003906c-1.7617 0-3.4102 0.5-4.8203 1.3906-1.4102 0.89062-2.5586 2.1719-3.3281 3.7305z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m62.5 26.27-4.3906 5.5195h6.8008z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m35.121 31.789h6.8008l-4.3906-5.5195z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m43.352 33.84h-7l11.02 9.5703z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m43.988 31.109 4.043-5.668h-8.543z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m46.02 31.789h7.9922l-3.9922-5.6094z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m7.5508 19.301 8.3711 20.461h24.148l-6.9609-6.0391c-0.16016-0.12891-0.25-0.28125-0.32812-0.44922-0.019531-0.050782-0.039062-0.089844-0.058594-0.14844-0.03125-0.10156-0.058594-0.19922-0.058594-0.30859 0-0.011718 0.011719-0.019531 0.011719-0.03125-0.019531-0.21875-0.011719-0.44922 0.078125-0.67188l3.4609-7.8906c0.17188-0.39062 0.5-0.66016 0.89844-0.76953h0.03125c0.12109-0.03125 0.21875-0.050781 0.32812-0.050781h25.09c0.12109 0 0.23047 0.019531 0.32812 0.050781h0.03125c0.39844 0.12109 0.73047 0.39062 0.89844 0.76953l3.4609 7.8906c0.089844 0.21875 0.10156 0.44922 0.078125 0.67188 0 0.011719 0.011719 0.019532 0.011719 0.03125 0 0.12109-0.03125 0.21094-0.058594 0.30859-0.019531 0.050781-0.039062 0.089844-0.058594 0.14844-0.078125 0.17187-0.17969 0.32031-0.32812 0.44922l-6.9609 6.0391h24.148l8.3711-20.461z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m9.8281 49.012-1.6406 2.0195h83.652l-2.9414-3.6016-4.5898-5.6094h-26.699l-6.6914 5.8008c-0.16016 0.14062-0.35156 0.21875-0.53125 0.26953-0.10156 0.03125-0.21094 0.050781-0.32031 0.050781-0.019531 0-0.03125 0.011719-0.050781 0.011719s-0.03125-0.011719-0.050781-0.011719c-0.12109 0-0.21875-0.019531-0.32031-0.050781-0.19141-0.050781-0.37891-0.14062-0.53125-0.26953l-6.6914-5.8008h-26.703z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m50.02 44.41 4.4297-10.57h-8.8711z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m56.039 31.109 4.5-5.668h-8.5391z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m56.68 33.84-4.0195 9.5703 11.02-9.5703z"}),(0,vF.jsx)("path",{fill:"currentColor",d:"m92.949 13.16h-85.898c-0.57812 0-1.0508 0.48047-1.0508 1.0586l0.019531 2c0 0.57031 0.46875 1.0391 1.0508 1.0391l85.879 0.003907c0.57812 0 1.0508-0.46875 1.0508-1.0508v-2c0-0.57813-0.46875-1.0508-1.0508-1.0508z"})]})}),goblin:e=>(0,vF.jsx)("div",{className:"w-5 h-5 text-lime-400 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 296.169 488.008",style:{enableBackground:"new 0 0 296.169 488.008"},xmlSpace:"preserve",children:(0,vF.jsxs)("g",{fill:"currentColor",children:[(0,vF.jsx)("path",{d:"M251.239,469.32l-15.584-6.922c-9.972-4.428-16.415-14.34-16.415-25.25v-26.795l-4.806,6.929   c-0.624,0.899-1.589,1.504-2.67,1.673c-1.086,0.169-2.185-0.112-3.053-0.779l-13.507-10.367l-11.098,13.85   c-0.71,0.887-1.763,1.429-2.896,1.493c-0.075,0.004-0.15,0.006-0.225,0.006c-1.055,0-2.07-0.417-2.822-1.165l-7.589-7.555   c1.909,14.146,4.522,36.294,3.186,42.971c-1.199,6.003-4.935,10.723-7.857,13.624c-1.914,1.901-2.969,4.37-2.969,6.952v0.399   c0,5.307,4.316,9.623,9.623,9.623h74.717c5.384,0,9.765-4.381,9.765-9.765C257.04,474.388,254.763,470.885,251.239,469.32z"}),(0,vF.jsx)("path",{d:"M167.754,400.341l12.896,12.839l10.762-13.43c1.358-1.7,3.829-2,5.557-0.672l13.284,10.196l9.7-13.986   c1.229-1.774,3.645-2.25,5.454-1.083l12.877,8.302l-15.488-61.351c-8.171-2.333-39.195-10.461-74.712-10.461   s-66.541,8.128-74.712,10.461l-15.488,61.351l12.877-8.302c1.809-1.167,4.224-0.691,5.454,1.083l9.7,13.986l13.284-10.196   c1.727-1.325,4.195-1.028,5.557,0.672l10.762,13.43l12.896-12.839c1.535-1.526,4.007-1.555,5.575-0.067l14.094,13.371   l14.094-13.371C163.749,398.786,166.22,398.814,167.754,400.341z"}),(0,vF.jsx)("path",{d:"M184.558,185.718c4.238-3.44,6.349-7.709,6.471-13.098c-2.208,0.679-4.517,1.039-6.88,1.039h-6.15   C178.914,178.902,181.067,182.899,184.558,185.718z"}),(0,vF.jsx)("path",{d:"M105.141,172.62c0.122,5.389,2.233,9.658,6.471,13.098c3.491-2.819,5.643-6.816,6.558-12.059h-6.15   C109.658,173.659,107.349,173.299,105.141,172.62z"}),(0,vF.jsx)("path",{d:"M172.128,239.8c21.341-8.008,38.856-24.864,46.748-38.017c2.561-4.269,4.979-9.923,7.186-16.808   c0.521-1.625,2.014-2.74,3.72-2.778c0.176-0.005,19.033-0.736,32.733-17.494c6.763-8.273,11.313-24.152,16.131-40.963   c4.774-16.659,9.689-33.807,17.523-47.553c-9.123,0.363-24.585,1.612-33.313,5.854c-10.613,5.158-17.107,15.558-18.826,18.58   c0.225,4.692,0.307,9.315,0.275,13.822c7.071-9.418,16.194-17.063,27.27-22.812c1.959-1.018,4.375-0.255,5.393,1.707   c1.019,1.961,0.254,4.375-1.707,5.393c-13.503,7.011-23.785,17.119-30.6,30.077c2.855,3.123,7.362,9.247,7.706,17.066   c0.506,11.487-8.201,18.826-8.571,19.133c-0.746,0.617-1.649,0.918-2.548,0.918c-1.15,0-2.293-0.494-3.084-1.45   c-1.408-1.702-1.17-4.224,0.532-5.632c0.044-0.037,6.006-5.174,5.679-12.617c-0.338-7.687-7.096-13.495-7.164-13.553   c-0.986-0.835-1.478-2.072-1.405-3.307l-0.014-0.001c2.049-33.403-0.863-78.914-26.371-106.034C194.859,7.85,174.224,0,148.085,0   s-46.774,7.85-61.336,23.332c-25.508,27.12-28.42,72.631-26.371,106.034l-0.011,0.001c0.076,1.241-0.419,2.483-1.42,3.317   c-0.057,0.048-6.814,5.856-7.152,13.543c-0.327,7.434,5.618,12.567,5.679,12.617c1.702,1.408,1.94,3.93,0.532,5.632   c-0.791,0.956-1.934,1.45-3.084,1.45c-0.898,0-1.802-0.301-2.548-0.918c-0.37-0.307-9.077-7.646-8.571-19.133   c0.344-7.819,4.851-13.943,7.706-17.066c-6.814-12.958-17.097-23.066-30.6-30.077c-1.961-1.018-2.726-3.432-1.707-5.393   c1.018-1.962,3.433-2.726,5.393-1.707c11.076,5.749,20.199,13.394,27.27,22.812c-0.032-4.507,0.049-9.13,0.275-13.823   c-1.714-3.013-8.209-13.419-18.826-18.579C24.575,77.794,9.119,76.547,0,76.186c7.835,13.747,12.749,30.894,17.524,47.555   c4.817,16.811,9.368,32.689,16.131,40.963c13.7,16.758,32.558,17.489,32.746,17.494c1.696,0.049,3.189,1.162,3.708,2.778   c2.206,6.885,4.624,12.539,7.185,16.808c7.894,13.154,25.41,30.011,46.752,38.018c2.068,0.776,3.116,3.082,2.34,5.15   c-0.603,1.605-2.127,2.596-3.746,2.596c-0.467,0-0.941-0.082-1.404-0.256c-9.799-3.676-18.859-9.09-26.707-15.197   c-16.247,13.932-32.635,39.116-45.308,69.772c-11.578,28.011-17.818,55.527-15.528,68.472c2.016,11.389,12.201,19.56,18.145,23.448   l29.308-116.096c0.54-2.142,2.71-3.442,4.857-2.898c2.142,0.54,3.439,2.715,2.898,4.857l-13.273,52.58   c12.399-3.27,40.336-9.533,72.458-9.533s60.059,6.263,72.458,9.533l-13.273-52.58c-0.541-2.143,0.757-4.317,2.898-4.857   c2.147-0.541,4.318,0.758,4.857,2.898l29.308,116.096c5.943-3.886,16.129-12.058,18.146-23.448   c2.29-12.944-3.95-40.461-15.528-68.472c-12.673-30.655-29.061-55.84-45.308-69.772c-7.847,6.106-16.905,11.519-26.703,15.196   c-0.463,0.174-0.938,0.256-1.404,0.256c-1.619,0-3.144-0.99-3.746-2.596C169.012,242.882,170.06,240.576,172.128,239.8z    M154.666,118.55c1.283-1.798,3.781-2.216,5.58-0.93l2.487,1.776c1.803,1.288,4.139,1.442,6.097,0.405l31.628-16.777   c1.95-1.038,4.373-0.292,5.407,1.659c1.035,1.951,0.293,4.372-1.659,5.407l-31.628,16.777c-2.047,1.086-4.269,1.623-6.48,1.623   c-2.815,0-5.613-0.87-8.015-2.585l-2.486-1.776C153.799,122.847,153.382,120.348,154.666,118.55z M192.632,141.16   c0,4.1-3.323,7.423-7.423,7.423c-4.1,0-7.423-3.323-7.423-7.423s3.323-7.423,7.423-7.423   C189.308,133.737,192.632,137.061,192.632,141.16z M90.305,104.684c1.034-1.951,3.456-2.697,5.407-1.659l31.628,16.777   c1.96,1.037,4.294,0.883,6.097-0.405l2.487-1.776c1.798-1.283,4.296-0.868,5.58,0.93s0.867,4.297-0.931,5.58l-2.487,1.776   c-2.4,1.715-5.199,2.585-8.014,2.585c-2.212,0-4.434-0.536-6.48-1.623l-31.628-16.777C90.012,109.056,89.27,106.635,90.305,104.684   z M118.402,141.16c0,4.1-3.323,7.423-7.423,7.423s-7.423-3.323-7.423-7.423s3.323-7.423,7.423-7.423   S118.402,137.061,118.402,141.16z M126.284,173.659c-1.268,9.254-5.515,16.104-12.667,20.389c-0.634,0.379-1.345,0.568-2.056,0.568   c-0.761,0-1.52-0.217-2.183-0.647c-9.064-5.901-13.184-14.666-12.033-25.453l-5.24-3.841c-1.782-1.307-2.168-3.81-0.862-5.591   c1.308-1.783,3.813-2.168,5.591-0.862l6.084,4.459c2.659,1.948,5.807,2.979,9.103,2.979h72.129c3.296,0,6.443-1.03,9.103-2.979   l6.084-4.459c1.78-1.303,4.284-0.92,5.591,0.862c1.306,1.781,0.92,4.284-0.862,5.591l-5.24,3.841   c1.151,10.787-2.969,19.552-12.033,25.453c-0.663,0.431-1.423,0.647-2.183,0.647c-0.711,0-1.422-0.189-2.056-0.568   c-7.152-4.285-11.399-11.135-12.667-20.389H126.284z"}),(0,vF.jsx)("path",{d:"M122.407,457.408c-1.335-6.676,1.278-28.823,3.187-42.97l-7.589,7.555c-0.805,0.8-1.907,1.211-3.047,1.159   c-1.134-0.064-2.187-0.606-2.896-1.493l-11.098-13.85l-13.507,10.367c-0.868,0.666-1.969,0.947-3.053,0.779   c-1.081-0.169-2.046-0.773-2.67-1.673l-4.806-6.929v26.795c0,10.91-6.443,20.822-16.414,25.25l-15.585,6.921   c-3.523,1.565-5.801,5.068-5.801,8.924c0,5.384,4.381,9.765,9.765,9.765h74.717c5.307,0,9.623-4.316,9.623-9.623v-0.399   c0-2.582-1.055-5.051-2.969-6.951C127.343,468.132,123.607,463.412,122.407,457.408z"})]})})}),skeleton:e=>(0,vF.jsx)("div",{className:"w-10 h-10 text-slate-300 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-5.0 -10.0 110.0 135.0",fill:"currentColor",children:[" ",(0,vF.jsx)("path",{d:"m55.238 20.16c1.2539-0.79297 2.207-1.9844 2.7109-3.3828 0.47656-1.3789 0.44531-2.8867-0.089844-4.2461-0.58203-1.4375-1.6172-2.6445-2.9492-3.4414-3.0234-1.8164-6.7969-1.8164-9.8203 0-1.332 0.79297-2.3672 2.0039-2.9492 3.4414-0.51172 1.332-0.50781 2.8086 0.003906 4.1406 0.57812 1.4648 1.6172 2.7031 2.957 3.5352 0.39063 0.25 0.625 0.67969 0.625 1.1445v2.918c0 0.011719 0.003907 0.019531 0.011719 0.027344 0.0625 0.046875 0.13672 0.070313 0.21484 0.066406h8.4219c0.050781 0.007813 0.10547-0.007812 0.14453-0.039062h0.007813c0.007812-0.011719 0.011718-0.03125 0.007812-0.050781v-2.9219c0-0.49609 0.26953-0.94922 0.70312-1.1914zm5.2812-2.5h-0.003906c-0.61719 1.7617-1.75 3.293-3.25 4.4023v2.2109-0.003907c0.003906 0.76562-0.30859 1.4961-0.86328 2.0234-0.54688 0.51562-1.2734 0.80469-2.0234 0.80078h-2.9492v1.2539l14.023-0.003906c0.58203 0 1.1016 0.37109 1.2891 0.92578l4.418 13 4.1289 4.5742c1.5664-0.42969 3.2188-0.42578 4.7852 0.011719 1.8789 0.53125 3.5352 1.6562 4.7266 3.207 0.43359 0.59375 0.31641 1.4297-0.26562 1.8789-0.58594 0.44922-1.4219 0.35547-1.8867-0.21875-0.83594-1.0859-1.9961-1.875-3.3164-2.25-0.85938-0.24219-1.7578-0.29297-2.6406-0.15625l1.0273 2.5664c0.16016 0.33594 0.17578 0.72656 0.039062 1.0781-0.13672 0.34766-0.41016 0.625-0.75781 0.76562-0.35156 0.14063-0.74219 0.13281-1.082-0.027343-0.33984-0.15625-0.60156-0.44922-0.71875-0.80469l-1.5-3.75-4.7461-5.2617c-0.13281-0.14844-0.23438-0.32422-0.29297-0.51172l-4.1797-12.301h-13.051v3.1094h11.234c0.75391 0 1.3672 0.60937 1.3672 1.3633 0 0.75391-0.61328 1.3633-1.3672 1.3633h-11.234v2.9766h8.3164c0.37109-0.011718 0.72656 0.12891 0.98828 0.38672 0.26562 0.25391 0.41406 0.60938 0.41406 0.97656 0 0.36719-0.14844 0.71875-0.41406 0.97656-0.26172 0.25781-0.61719 0.39453-0.98828 0.38672h-8.3164v2.9766h5.5352c0.36719-0.011719 0.72266 0.12891 0.98828 0.38672 0.26172 0.25391 0.41016 0.60938 0.41016 0.97656 0 0.36719-0.14844 0.71875-0.41016 0.97656-0.26562 0.25781-0.62109 0.39453-0.98828 0.38672h-5.5352v3.7578l4.3203-1.8711c1.7695-0.80078 3.8555-0.24219 4.9922 1.3359 1.1328 1.5742 0.99609 3.7344-0.32422 5.1562-0.80469 1.0078-1.4297 2.1484-1.8477 3.3711-0.43359 1.3008-0.64844 2.6641-0.64062 4.0352 0 0.042969 0 0.085938-0.007813 0.12891-0.011719 0.71484-0.22656 1.4141-0.625 2.0117-0.34766 0.51562-0.81641 0.94141-1.3633 1.2383l-0.12891 0.066407 2.8828 12.258c0.050781 0.21875 0.046875 0.44922-0.011719 0.66797l-2.4297 11.801h2.4414c0.36719-0.011719 0.72266 0.12891 0.98828 0.38672 0.26172 0.25391 0.41406 0.60938 0.41406 0.97656 0 0.36719-0.15234 0.71875-0.41406 0.97656-0.26562 0.25781-0.62109 0.39844-0.98828 0.38672h-4.1133c-0.089844 0-0.17969-0.007813-0.26953-0.027344-0.73438-0.15234-1.207-0.86719-1.0625-1.6016l2.7227-13.23-2.8984-12.336c-0.38281-0.10938-0.74219-0.27734-1.0742-0.49609l-0.085938-0.0625-0.51953-0.35547 0.003906 0.003906c-0.78906-0.48047-1.7812-0.46875-2.5586 0.023437l-0.69922 0.42578c-0.28906 0.1875-0.59766 0.33594-0.92578 0.4375l-2.9062 12.355 2.7227 13.23c0.14844 0.73438-0.32422 1.4531-1.0586 1.6016-0.089844 0.019531-0.17969 0.027344-0.27344 0.027344h-4.1133c-0.36719 0.011718-0.72266-0.12891-0.98828-0.38672-0.26562-0.25391-0.41406-0.60938-0.41406-0.97656 0-0.36719 0.14844-0.71875 0.41406-0.97656 0.26562-0.25781 0.62109-0.39453 0.98828-0.38672h2.4414l-2.4297-11.801c-0.058594-0.21875-0.0625-0.44922-0.011719-0.66797l2.8711-12.203c-0.078125-0.035156-0.15625-0.074219-0.23438-0.11719h0.003906c-0.55469-0.30078-1.0273-0.73047-1.3789-1.25-0.41797-0.63281-0.64062-1.375-0.62891-2.1328h-0.011719c0.003906-1.3398-0.22656-2.6719-0.67578-3.9336l-0.019532-0.0625v0.003906c-0.45312-1.2383-1.1016-2.3906-1.9258-3.4141-1.3242-1.4258-1.457-3.582-0.32422-5.1602 1.1367-1.5742 3.2227-2.1328 4.9922-1.332l4.4531 1.9336v-3.8164h-5.3984c-0.36719 0.011719-0.72656-0.12891-0.98828-0.38672-0.26562-0.25391-0.41406-0.60938-0.41406-0.97656 0-0.36719 0.14844-0.71875 0.41406-0.97656 0.26172-0.25781 0.62109-0.39844 0.98828-0.38672h5.3984v-2.9766h-8.1836c-0.36719 0.011719-0.72266-0.12891-0.98828-0.38672-0.26172-0.25391-0.41016-0.60938-0.41016-0.97656 0-0.36719 0.14844-0.71875 0.41016-0.97656 0.26562-0.25781 0.62109-0.39844 0.98828-0.38672h8.1836v-2.9766h-11.098c-0.75391 0-1.3672-0.60938-1.3672-1.3633 0-0.75391 0.61328-1.3633 1.3672-1.3633h11.098v-3.1094h-12.914l-4.1914 12.336c-0.058594 0.17578-0.15234 0.33594-0.27734 0.47656l-4.7695 5.2812-1.6289 3.7617c-0.13672 0.33984-0.40234 0.60547-0.74219 0.74609-0.33984 0.13672-0.71875 0.13672-1.0547-0.007813-0.33594-0.14844-0.59766-0.42187-0.73047-0.76172-0.12891-0.33984-0.11719-0.72266 0.035156-1.0547l1.1016-2.5352c-0.92578-0.13281-1.8672-0.074219-2.7656 0.17188-1.3516 0.35547-2.5469 1.1406-3.4141 2.2383-0.46875 0.55078-1.2891 0.63672-1.8633 0.19141-0.57422-0.44141-0.69922-1.2578-0.28516-1.8516 1.2266-1.5703 2.9297-2.6953 4.8516-3.2109 1.6133-0.4375 3.3125-0.44141 4.9297-0.007812l4.1289-4.5742 4.3906-12.918c0.16016-0.59375 0.69922-1.0078 1.3164-1.0078h13.883v-1.25h-2.7461c-0.75391-0.003906-1.4844-0.28516-2.0469-0.79297-0.57422-0.51953-0.90625-1.2578-0.90625-2.0312v-2.207c-1.5352-1.125-2.7148-2.668-3.3984-4.4453-0.74609-1.9492-0.74609-4.1055 0.003907-6.0547 0.79297-1.9961 2.2109-3.6758 4.0469-4.7852 3.9023-2.3711 8.7969-2.3711 12.699 0 1.8359 1.1094 3.2578 2.7891 4.0469 4.7852 0.76562 1.9531 0.80859 4.1133 0.125 6.0977zm-6.4492 47.559h-0.003906 0.13672c0.15234-0.015625 0.29688-0.058594 0.42969-0.13281 0.16016-0.085938 0.29688-0.21094 0.39844-0.36328 0.10547-0.16016 0.16797-0.33984 0.17969-0.53125v-0.10156 0.003906c-0.007813-1.6719 0.26172-3.3281 0.79297-4.9102 0.51953-1.5352 1.3047-2.9609 2.3203-4.2227 0.027343-0.039063 0.058593-0.074219 0.089843-0.10547 0.44922-0.47266 0.50391-1.1953 0.12891-1.7227-0.375-0.53125-1.0742-0.72266-1.668-0.45703l-4.875 2.1172c-0.59375 0.25781-1.2266 0.39844-1.8711 0.41406h-0.11719c-0.65625 0-1.3086-0.13281-1.9141-0.38281l-0.085937-0.03125-4.8711-2.1172h0.003906c-0.59375-0.26953-1.2969-0.082031-1.6719 0.44922-0.375 0.53516-0.32031 1.2578 0.12891 1.7266l0.074219 0.085938c1.0312 1.2695 1.8398 2.7031 2.4023 4.2383l0.027344 0.066407h-0.003907c0.55469 1.5586 0.83984 3.1953 0.83594 4.8477v0.015625c-0.003906 0.21484 0.058594 0.42188 0.17578 0.60156 0.20703 0.30469 0.54297 0.49609 0.91016 0.51953h0.125c0.18359-0.015624 0.35937-0.074218 0.50781-0.17187l0.070312-0.046876 0.64453-0.38672c1.6758-1.0859 3.8359-1.0938 5.5195-0.019532l0.078125 0.050782 0.48828 0.33594 0.0625 0.039063c0.16406 0.11328 0.35938 0.17969 0.55859 0.1875zm-6.25-51.438c0 0.20312-0.078124 0.39453-0.22266 0.53906-0.30078 0.27734-0.76562 0.26563-1.0547-0.023437-0.28906-0.28906-0.29688-0.75781-0.019531-1.0547 0.21875-0.21875 0.54687-0.28516 0.83203-0.16797 0.28516 0.11719 0.46875 0.39844 0.46875 0.70312zm1.707-2.4648c0.17969 0.17969 0.33594 0.37891 0.47266 0.58984 0.13672-0.21094 0.29297-0.41016 0.47266-0.58984 1.3242-1.3242 3.4609-1.3633 4.832-0.082031l0.09375 0.085937v-0.003906c0.65234 0.65234 1.0195 1.5391 1.0195 2.4648 0 0.92188-0.36719 1.8086-1.0195 2.4609-0.65234 0.65234-1.5391 1.0234-2.4609 1.0234s-1.8086-0.37109-2.4609-1.0234h-0.007812 0.003906c-0.17969-0.17969-0.33594-0.375-0.47266-0.58594-0.13672 0.21484-0.29688 0.41016-0.47656 0.58984-0.64844 0.67188-1.543 1.0508-2.4766 1.0586-0.93359 0.007812-1.8281-0.35938-2.4883-1.0195s-1.0273-1.5586-1.0195-2.4922c0.007813-0.93359 0.39063-1.8242 1.0625-2.4766 0.65234-0.65234 1.5352-1.0195 2.4609-1.0195 0.92188 0 1.8086 0.36719 2.4609 1.0195zm-1.9727 9.7695 1.3008-2.3359-0.003907 0.003906c0.22266-0.44531 0.66406-0.73047 1.1602-0.75 0.49219-0.023437 0.96094 0.22656 1.2188 0.64844l1.4062 2.3008c0.29688 0.41406 0.33594 0.96094 0.10156 1.4141-0.23047 0.45703-0.69922 0.74219-1.2109 0.74219h-2.7891c-0.48047 0-0.92578-0.25391-1.168-0.67188-0.24609-0.41406-0.25391-0.92578-0.019531-1.3477zm6.1445-7.3047c0.007812 0.20703-0.066407 0.40625-0.21094 0.55469-0.14453 0.14844-0.33984 0.23437-0.54688 0.23437-0.20703 0-0.40234-0.085937-0.54688-0.23437-0.14062-0.14844-0.21875-0.34766-0.21094-0.55469 0-0.19922 0.078125-0.39453 0.22266-0.53516 0.28125-0.27734 0.73047-0.29297 1.0352-0.039063l0.039063 0.039063c0.14062 0.14453 0.21875 0.33594 0.21875 0.53516z","fill-rule":"evenodd"})]})}),bat:e=>(0,vF.jsx)("div",{className:"w-10 h-10 text-slate-500 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-5.0 -10.0 110.0 135.0",fill:"currentColor",children:[" ",(0,vF.jsx)("path",{d:"m37.23 47.188 3.1719-1.1875c-0.26172 0.89844-0.625 1.4727-1.0781 1.6562-0.47656 0.19922-1.1953 0.035156-2.0938-0.46875zm-25.234 5.9375c0.43359 12.23 5.918 18.414 15.617 24.461-0.4375-1.9297-0.14062-3.9844 0.90625-5.832 1.1953-2.1094 3.168-3.5469 5.5-4.125-10.414-4.6992-17.672-9.4727-22.023-14.504zm25.621 4.3555c-0.625-0.5-1.2344-1.0312-1.8164-1.6172-1.4688-1.4648-2.7148-3.1406-3.6719-4.9141-8.8516 3.4492-13.875 0.35938-21.977-4.6797-4.6328 4.9258-5.2617 11.918-4.9531 17.008 0.6875 11.328 6.668 24.504 14.062 31.59-0.67969-4.1406-0.12891-7.6992 1.6406-10.414 1.4219-2.1875 3.6172-3.793 6.3164-4.6641-4.5703-2.7773-9.125-6.0273-12.363-10.613-3.5508-5.0352-5.168-11.301-4.9453-19.152 0.015625-0.45313 0.31641-0.84375 0.75391-0.96875 0.4375-0.12891 0.90234 0.046874 1.1562 0.42187 3.7969 5.7188 11.52 11.117 23.582 16.5-0.34766-1.4609-0.36328-3.0117-0.015625-4.4844 0.37891-1.6172 1.1641-3.0117 2.2305-4.0117zm25.652-52.281c-5.0898-0.30859-12.082 0.32422-17.008 4.9531 5.0391 8.1055 8.1289 13.129 4.6797 21.98 1.7773 0.95703 3.4492 2.2031 4.918 3.668 0.57812 0.58203 1.1133 1.1875 1.6172 1.8164 1.0039-1.0625 2.3945-1.8477 4-2.2266 1.6055-0.37891 3.3086-0.32422 4.8828 0.12109-5.4297-12.258-10.883-20.094-16.652-23.93-0.375-0.25-0.54688-0.71875-0.42578-1.1562 0.12891-0.43359 0.51953-0.73828 0.96875-0.75 7.8594-0.22266 14.121 1.3906 19.156 4.9453 4.5273 3.1953 7.7578 7.6758 10.516 12.191 0.89844-2.5117 2.4453-4.5547 4.5234-5.9062 2.7148-1.7656 6.2734-2.3164 10.414-1.6367-7.082-7.3984-20.262-13.375-31.59-14.07zm-9.9023 6.5547c4.9961 4.3203 9.7305 11.496 14.391 21.777 0.65234-2.1172 2.0312-3.8945 3.9922-5.0078 1.9922-1.1328 4.2344-1.3867 6.3008-0.78906-6.1172-9.9219-12.305-15.539-24.684-15.98zm6.207 35.828c0.39844 3.625-0.62109 6.8672-2.875 9.1211-4.7227 4.7227-13.438 3.6875-19.43-2.3047-1.8203-1.8203-3.2578-3.9844-4.1602-6.2578-0.058594-0.14844-0.14844-0.28516-0.27344-0.39062-2.3555-2.1016-4.7148-5.25-7.0156-9.3672 2.1211 0.17188 3.8945 0.58594 5.2891 1.2422 0.26953 0.125 0.58203 0.12891 0.85938 0.007812 0.27344-0.12109 0.48438-0.35156 0.57422-0.64062 0.49609-1.5547 1.3086-2.9062 2.4219-4.0273 1.1172-1.1133 2.4688-1.9297 4.0312-2.4219 0.28516-0.089844 0.51562-0.30078 0.63672-0.57422 0.12109-0.27734 0.11719-0.58984-0.011718-0.85938-0.64844-1.3945-1.0625-3.168-1.2344-5.2891 4.1133 2.3008 7.2578 4.6602 9.3633 7.0156 0.10547 0.12109 0.24219 0.21484 0.39453 0.27344 2.2734 0.90234 4.4336 2.3438 6.2539 4.1602 2.9258 2.9375 4.7656 6.5938 5.1758 10.312zm-16.773-3.082c0.042969-0.35938-0.10547-0.71484-0.39453-0.9375-0.28516-0.22266-0.66406-0.28125-1.0039-0.15234l-6.7734 2.5273c-0.35156 0.13281-0.60547 0.44141-0.66406 0.8125s0.085937 0.74219 0.38281 0.97656c1.7617 1.3984 3.2578 2.0898 4.5391 2.0898 0.4375 0 0.85156-0.078125 1.2383-0.23828 1.4844-0.61328 2.3555-2.2734 2.6758-5.0781zm0.75781-2.0898c0.20312 0.25391 0.50391 0.39844 0.82031 0.39844 0.039063 0 0.078125 0 0.12109-0.003906 2.8008-0.32031 4.4648-1.1953 5.0781-2.6758 0.63281-1.5273 0.027344-3.4141-1.8516-5.7773-0.23047-0.29297-0.60547-0.4375-0.97656-0.37891s-0.67969 0.3125-0.8125 0.66406l-2.5273 6.7734c-0.13281 0.33594-0.074218 0.71484 0.14844 1zm11.906 1.5742c-0.53516-0.21094-1.1367 0.054687-1.3516 0.58594-1.6133 4.0977-5.4492 7.9336-9.5391 9.543-0.53516 0.21094-0.79688 0.81641-0.58984 1.3477 0.16406 0.41406 0.55859 0.66016 0.96875 0.66016 0.12891 0 0.25391-0.023438 0.38281-0.074219 1.0078-0.39453 2-0.91406 2.957-1.5312l1.1992 1.1992c0.20703 0.20703 0.46875 0.30469 0.73828 0.30469 0.26562 0 0.53125-0.097656 0.73438-0.30469 0.41016-0.40234 0.41016-1.0625 0-1.4688l-0.96484-0.96484c1.2031-0.96484 2.3164-2.0781 3.2891-3.2812l0.96094 0.96484c0.20312 0.20312 0.46875 0.30469 0.73828 0.30469 0.26953 0 0.53125-0.10156 0.73828-0.30469 0.40234-0.41016 0.40234-1.0625 0-1.4727l-1.2031-1.1992c0.61719-0.95703 1.1328-1.9492 1.5312-2.9609 0.20703-0.53125-0.054687-1.1367-0.58594-1.3477zm-7.8086-4.6523c0.19922-0.47656 0.03125-1.1992-0.46875-2.0977l-1.1836 3.1758c0.89844-0.26562 1.4648-0.63281 1.6523-1.0781z"})]})}),slime:e=>(0,vF.jsx)("div",{className:"w-10 h-10 text-green-400 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 75",x:"0px",y:"0px",fill:"currentColor",children:[(0,vF.jsx)("path",{d:"M51.525,49.463C49.089,48.476,45,46.064,45,41V28a10.986,10.986,0,0,0-4-8.479V13.315a7,7,0,1,0-6,0v3.736c-.33-.03-.662-.051-1-.051H26c-.338,0-.67.021-1,.051V13.315a7,7,0,1,0-6,0v6.206A10.986,10.986,0,0,0,15,28V41c0,5.063-4.088,7.476-6.527,8.464a4.045,4.045,0,0,0-.07,7.424C11.091,58.05,17.472,60,30,60s18.909-1.95,21.6-3.113a4.046,4.046,0,0,0-.075-7.424ZM38,2a4.977,4.977,0,0,1,3.974,2H34.026A4.977,4.977,0,0,1,38,2Zm1,5a1,1,0,1,1-1-1A1,1,0,0,1,39,7ZM33,7a5,5,0,0,1,.1-1h2.083A2.966,2.966,0,0,0,35,7a3,3,0,0,0,6,0,2.966,2.966,0,0,0-.184-1H42.9A5,5,0,1,1,33,7Zm4,6.92a6.29,6.29,0,0,0,2,0v4.294a10.9,10.9,0,0,0-2-.787ZM22,2a4.977,4.977,0,0,1,3.974,2H18.026A4.977,4.977,0,0,1,22,2Zm1,5a1,1,0,1,1-1-1A1,1,0,0,1,23,7ZM17,7a5,5,0,0,1,.1-1h2.083A2.966,2.966,0,0,0,19,7a3,3,0,0,0,6,0,2.966,2.966,0,0,0-.184-1H26.9A5,5,0,1,1,17,7Zm4,6.92a6.29,6.29,0,0,0,2,0v3.507a10.9,10.9,0,0,0-2,.787ZM50.8,55.052C48.257,56.153,42.168,58,30,58S11.743,56.153,9.2,55.053a2.046,2.046,0,0,1,.026-3.737A13.721,13.721,0,0,0,15,47.105V52a1,1,0,0,0,2,0V28a9.01,9.01,0,0,1,9-9h8a9.01,9.01,0,0,1,9,9V52a1,1,0,0,0,2,0v-4.9a13.707,13.707,0,0,0,5.773,4.21,2.047,2.047,0,0,1,.031,3.737Z"}),(0,vF.jsx)("path",{d:"M27,44a3,3,0,1,0-3,3A3,3,0,0,0,27,44Zm-3,1a1,1,0,1,1,1-1A1,1,0,0,1,24,45Z"}),(0,vF.jsx)("path",{d:"M30,47a4,4,0,1,0,4,4A4,4,0,0,0,30,47Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,30,53Z"}),(0,vF.jsx)("path",{d:"M37,42a3,3,0,1,0,3,3A3,3,0,0,0,37,42Zm0,4a1,1,0,1,1,1-1A1,1,0,0,1,37,46Z"}),(0,vF.jsx)("path",{d:"M21.553,28.9A7.278,7.278,0,0,0,23,29.361V32a7,7,0,0,0,14,0V29.361a7.278,7.278,0,0,0,1.447-.466,1,1,0,0,0,.448-1.328,1.009,1.009,0,0,0-1.331-.467c-.019.008-1.987.9-7.564.9-5.517,0-7.5-.872-7.563-.9a1,1,0,0,0-.884,1.794ZM35,32a5,5,0,0,1-10,0V29.715c.582.076,1.24.144,2,.193V32a2,2,0,0,0,2,2h2a2,2,0,0,0,2-2V29.908c.76-.049,1.418-.117,2-.193Zm-4-2.01V32H29V29.99c.322.006.653.01,1,.01S30.678,30,31,29.99Z"})]})}),ooze:e=>(0,vF.jsx)("div",{className:"w-6 h-6 text-lime-600 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsx)("svg",{viewBox:"0 0 20 20",className:"w-full h-full",children:(0,vF.jsx)("path",{fill:"currentColor",d:"M10 2a8 8 0 00-8 8c0 4.42 3.58 8 8 8s8-3.58 8-8a8 8 0 00-8-8z"})})}),skeleton_archer:e=>(0,vF.jsx)("div",{className:"w-10 h-10 text-slate-400 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",fill:"currentColor",children:(0,vF.jsxs)("g",{children:[(0,vF.jsx)("path",{d:"M57.8,35.1c3.9,0,7.1-3.2,7.1-7.1s-3.2-7.1-7.1-7.1s-7.1,3.2-7.1,7.1S53.9,35.1,57.8,35.1z M57.8,23.9 c2.3,0,4.1,1.8,4.1,4.1s-1.8,4.1-4.1,4.1s-4.1-1.8-4.1-4.1S55.5,23.9,57.8,23.9z"}),(0,vF.jsx)("path",{d:"M45.1,58.6c0.1,0,0.1,0,0.2,0c0.8,0,1.4-0.6,1.5-1.3c0.4-3.7,2.1-13.9,4.7-17.4c0.3-0.4,0.4-0.9,0.2-1.3 c-0.1-0.5-0.5-0.8-1-1l-22.3-7.6c0.4-1,0.9-2,1.4-2.9c6.2-10.7,18-13.6,18.1-13.6c0.8-0.2,1.3-1,1.1-1.8c-0.2-0.8-1-1.3-1.8-1.1 c-0.5,0.1-13.2,3.2-20,15c-5,8.7-5.5,19.7-1.5,32.8c0.2,0.6,0.8,1.1,1.4,1.1c0.1,0,0.3,0,0.4-0.1c0.8-0.2,1.2-1.1,1-1.9 c-2.9-9.4-3.3-17.7-1.3-24.6l20.6,7c-2.9,5.7-4.2,16.7-4.3,17.2C43.7,57.8,44.3,58.5,45.1,58.6z"}),(0,vF.jsx)("path",{d:"M63.1,41c-0.1-0.1-0.2-0.1-0.3-0.1c-0.1,0-0.2,0-0.3-0.1h0c0,0,0,0,0,0c-0.7-0.2-1.4,0.2-1.7,0.9 c-0.1,0.3-0.1,0.5,0,0.8c-0.3,1.4-2.9,7.9-3.4,9.2c-2.2,5.1-5.3,8.8-9.6,11.5c-1,0.6-2,1.2-3.1,1.8c-3.4,2-6.8,4-9.7,7.1 c-4.3,4.7-6,11.2-6.6,15.9c-0.1,0.8,0.5,1.6,1.3,1.7c0.1,0,0.1,0,0.2,0c0.7,0,1.4-0.5,1.5-1.3c0.6-4.2,2.1-10.1,5.9-14.3 c2.5-2.7,5.7-4.6,9-6.5c1-0.6,2.1-1.2,3.1-1.9c4.8-3,8.2-7.1,10.7-12.8c1.7-4,2.7-6.6,3.2-8.3c3.3,2,10.3,7.3,10.6,16.4 c0,0.8,0.7,1.5,1.5,1.4c0.8,0,1.5-0.7,1.4-1.5C76.4,48.1,65.1,41.9,63.1,41z"}),(0,vF.jsx)("path",{d:"M59.6,89.6c0.3,0,0.7-0.1,1-0.3c0.6-0.5,0.7-1.5,0.2-2.1c-7.5-9.1-9-17.6-9-17.7c-0.1-0.8-0.9-1.4-1.7-1.2 c-0.8,0.1-1.4,0.9-1.2,1.7c0.1,0.4,1.6,9.4,9.6,19.2C58.7,89.4,59.1,89.6,59.6,89.6z"})]})})}),shadow:e=>(0,vF.jsx)("div",{className:"w-10 h-10 text-violet-400 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-5.0 -10.0 110.0 135.0",fill:"currentColor",children:[" ",(0,vF.jsx)("path",{d:"m45.883 0.10938c-0.43359 0.039063-2.043 0.16797-3.5742 0.28906-2.8359 0.22656-4.3086 0.55469-9.2109 2.043-4.3789 1.332-6.5977 2.3906-12.281 5.8594-2.0859 1.2734-5.9336 4.6797-8.5391 7.5586-1.6484 1.8242-3.7891 4.957-5.8398 8.5391-2.1953 3.8438-4.2539 9.3008-5.7383 15.242-0.69141 2.7617-0.70703 2.918-0.69922 8.0352 0.011719 6.0273 0.085938 6.6211 1.5977 12.637 1.2539 4.9961 2.6367 8.4727 5.0312 12.688 2.1797 3.8398 6.2891 9.0781 9.1992 11.734 1.457 1.3281 6.2812 4.8164 8.9375 6.4609 6.8125 4.2109 13.883 6.918 21.582 8.2578 3.3438 0.58203 8.707 0.72266 12.07 0.3125 5.0703-0.61328 12.66-3.2773 19.535-6.8477l3.5469-2.418 3.4492-3.1914c5.168-5.2695 8.7227-10.152 11.594-15.914 3.7344-7.4922 4.5547-19.875 1.918-28.938-1.793-6.1562-4.7109-10.922-9.5234-15.555-2.5156-2.418-5.1953-5.1836-9.3008-7.3047-1.3789-0.71094-2.2109-0.98047-3.6367-1.5977-1.8984-0.82031-2.918-0.90625-4.875-2.0664-2.2773-1.3516-2.6562-1.7109-2.6562-2.5156 0-0.80859 0.6875-1.5117 2.6211-2.668 5.5508-3.3242 7.8867-4.7578 8.2578-5.0664 0.32422-0.27344 0.39453-0.51562 0.28125-1-0.33203-1.4023-1.4531-1.3125-4.6758 0.375-4.5117 2.3633-12.566 6.2227-16.055 7.6992-1.8711 0.78906-3.5156 1.5234-3.6484 1.625-0.13672 0.10547-2.3594 1.0352-4.9414 2.0703-6.4805 2.5938-9.1367 4.1914-13.539 8.1367-5.0742 4.5547-7.4805 7.9297-9.1797 12.895-1.0742 3.1328-1.3867 5.2305-1.1211 7.4766 0.37109 3.1367 0.89062 5.1445 1.5664 6.0547 0.33984 0.46094 0.79297 1.3984 1.0078 2.0898 0.43359 1.3867 1.0664 2.1914 2.1289 2.6992 0.43359 0.20703 0.75391 0.55078 0.83984 0.90625 0.28516 1.1914 0.37891 1.332 1.0898 1.6445 0.56641 0.25 0.78906 0.52734 0.99219 1.2383 0.35156 1.2109 1.4648 1.9141 3.3281 2.0938l1.3477 0.12891 0.91797-1.0156c2.0195-2.2266 4.293-6.3359 4.7539-8.5898 0.097656-0.49219 0.33984-0.78125 0.84766-1.0195 0.38672-0.18359 1.2227-0.71875 1.8555-1.1914 0.99219-0.74609 1.1953-1.0312 1.5117-2.1133 0.19922-0.69141 0.41016-1.7227 0.46875-2.2969 0.09375-0.95703 0.21094-1.1328 1.4219-2.1562 1.4609-1.2344 4.0547-2.4805 5.5508-2.6719 0.53125-0.066407 1.3984-0.015625 1.9258 0.11719 1.0195 0.25391-0.64453 1.6523-0.14453 3.2031 0.41016 1.2695 1.168 1.9492 2.5391 2.2734l3.1953-0.71875 0.18359 1.125c0.21875 1.3516 0.085937 2.7812-0.29688 3.2109-0.15625 0.17188-0.57812 0.3125-0.94531 0.3125-0.53906 0-0.71875 0.13281-0.98828 0.72656l-0.77734 2.0469-0.45312 1.457c0 0.87109 0.097656 1.0156 1.6602 2.4727 0.91406 0.84766 2.3789 2.1641 3.2578 2.918 1.3242 1.1445 1.6562 1.5664 1.9609 2.5078 1.1328 3.4844 0.98828 9.2773-0.30078 12.062-1.5391 3.3398-4.9883 6.6953-8.6094 8.3789-2.8594 1.332-5.7383 2.0898-8.4688 2.2227-4.3281 0.21484-7.7695-0.43359-14.617-2.7539-6.9922-2.3672-14.957-8.832-19.02-15.434-4.7383-7.707-6.6797-13.961-6.6797-21.539 0-4.2148 0.25391-6.457 1.2422-11.035 0.84375-3.9023 1.4961-5.4883 4.4336-10.754 1.2539-2.2422 2.1641-3.5 4.4609-6.1562 1.5859-1.8398 3.7422-4.0547 4.7891-4.9258 4.8594-4.043 11.695-7.2852 18.387-8.7148 3.8008-0.80859 7.2773-1.2969 9.2617-1.293 2.0234 0 2.6875-0.29688 2.7852-1.2422 0.12109-1.1719-0.21094-1.2617-4.4648-1.2227-2.0586 0.015625-4.0977 0.0625-4.5312 0.10156z","fill-rule":"evenodd"})]})}),golem:e=>(0,vF.jsx)("div",{className:"w-10 h-10 text-stone-500 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:(0,vF.jsx)("path",{d:"M316.18 22.05c-28.8.16-57.27 6.13-85.46 17.92-2.34 12.94-6.77 28.27-16.64 41.56-10.4 13.07-26.07 23.34-50.12 23.3-22.8 26.9-33.58 56.57-32.8 87.37-10.23 9.27-21.48 18.86-33.32 26.92-13.04 9.1-27.1 16.65-42.52 20.65-7.57 14.78-13.3 30.26-16.97 46.21 14.6 2.65 28.5 9.86 38.72 22.05 6.18 7.4 10.32 15.53 12.94 24.03 14.84 1.52 28.74 7.07 40.26 18.1 6.1 5.84 10.88 12.43 14.33 19.56 12.12-1.12 23.28 2.37 33.06 7.7 4.06 2.2 7.82 4.75 11.34 7.56 12.1-5.58 26.28-8.6 43.3-6.62 24.52-25.6 54.84-45.2 88.3-58.82 5.52-26.03 6.95-51.65 4.97-76.22-13.38-6.4-26.7-16.23-39.06-30.26-20.67-23.53-35.57-54.06-46.97-86.33-1.47-2.1-2.8-4.2-4.04-6.27 17.1-2.06 34.08-5.86 50.82-11.5-2.7-4.93-5.3-10.16-7.77-15.7 26.8 2.48 54.08-1.15 81.36-9.9 3.38-4.6 6.7-9.38 9.88-14.36-8.6-14.87-11.64-31.55-10.36-49.63-7.26-.22-14.56-.42-21.84-.36zm106.06 39.16c-6.66 1.1-13.18 3.1-19.26 6.05-17.2 8.45-29.14 24.22-35.73 42.06-1.68 4.6-2.93 9.28-3.73 13.96 10.23 16.84 23.38 31.73 38.66 44.28 3.16 2.65 6.43 5.14 9.78 7.48 16.57-2.8 32.92-10.03 46.14-22.4 9.46-8.87 16.64-19.42 21.5-30.83-7.72-12.96-18.55-23.92-31.5-31.7-7.87-4.73-16.4-8.04-25.28-9.86-1.71-.35-3.44-.66-5.16-.88-1.05-.13-2.1-.25-3.16-.32-.1-.02-.2-.02-.3-.02-.98-.06-1.96-.08-2.94-.08zm64.3 121.74c-14.64 6.57-28.38 13.45-41.62 20.6-10.98 5.96-21.5 12.05-31.56 18.3 5.3 9.13 8.6 18.9 9.6 28.67 13.18 1.22 27.5 4.76 41.64 11.58 4.8-10.1 11.66-19.1 19.94-26.5-1.35-16.44.26-33.18 2-52.65zm-94.02 55.07c-2.38 10.5-6.62 20.57-12.78 29.3-5.94 8.42-13.47 15.3-22.07 20.43.9 24.07-.1 48.8-5.4 74.72 12.27 3.76 24.28 8.45 35.92 14.1 6.06-6.9 13.8-12.23 22.3-15.84-1.52-17.35-.77-36.27 5.9-53.77 6.63-17.36 18.4-33.42 37.22-44.5-4.58-9.5-8.26-19.06-10.22-28.67-16.63 3.02-33.4 3.4-50.87 4.23zm-100.57 76.6c-9.55 7.43-19.12 15.46-28.22 24.12 7.27-.1 13.37 1.4 18.6 3.73 3.5-4.1 6.58-8.56 9.1-13.36 3.68-6.85 5.78-9.94.52-14.5zM44.1 390.67c-4.62 12.43-7.65 25.52-8.73 39.05 8.93 2.14 17.66 5.85 25.42 11.35 11.5-7.5 24.53-10.7 37.1-10.5-2.6-9.05-7.14-17.66-13.97-23.72-7.8-6.84-17.4-10.42-26.8-11.38-4.65-.47-9.17-.3-13.05.2zm97.78 34.36c-3.7 6.05-6.4 12.8-7.6 20-1.53 9.05-.26 17.88 3.12 25.67 8.6-1.5 17.47-1.4 26.32.93 7.22 1.88 13.73 5.23 19.26 9.62 6.6-6.82 14.72-11.5 23.26-13.97-1.94-2.92-4.1-5.63-6.6-8-8.26-7.9-19.4-11.78-30.14-10.57-.3.04-.6.08-.9.1-6.94-7.66-16.25-12.73-26.72-13.78zm94.07 34.77c-6.17 5.46-11.35 11.96-14.7 19.35-2.44 5.28-3.75 10.82-4.13 16.3 9.97 2.77 20.37 7.64 29.22 15.55 4.84-1.82 9.62-3.05 14.38-3.57-1.73-10.5-.72-21.1 2.73-31.3-11.9-1.8-20.97-7.04-27.5-16.33z"})})}),keyholder_orc:e=>(0,vF.jsx)("div",{className:"w-8 h-8 text-emerald-500 drop-shadow-lg transition-transform ".concat(x.hits[e]>Date.now()-200?"entity-hit":""),children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",fill:"currentColor",children:(0,vF.jsxs)("g",{children:[(0,vF.jsx)("path",{d:"M55.4,63.3c-0.1,0.2-0.3,0.4-0.4,0.6c0.2,0.7,0.6,1.9,1.5,3c1,1.1,2.1,1.7,2.6,1.9c0,0.5,0.1,1.5-0.4,2.6 c-0.7,1.7-1.9,2.6-2.4,2.8c0.7,1.2,1.7,3.2,2.2,5.7c0.7,4.1-0.2,7.4-0.8,8.9h19.3v-1.7c-1.8-0.4-4-1-6.4-2.1 c-1.5-0.7-2.8-1.4-3.9-2.1c1.5-1.6,3.7-4.6,5.1-8.7c0.8-2.4,1-4.5,1.1-6.2c-2.5-6.5-4.9-10-6.9-12c-0.3-0.3-0.7-0.7-1.2-1.4 c-1.8,1.1-3.6,2.4-5.2,3.9C58.1,59.9,56.6,61.5,55.4,63.3z"}),(0,vF.jsx)("path",{d:"M61.5,41.5c-0.4-1-0.6-2.1-0.7-3.2c-0.1-1.1,0.1-2.2,0.3-3.3c0.2-1.1,0.6-2.1,0.9-3.1c0.3-1,0.6-2,0.9-3.1 c0.3-1,0.6-2.1,0.9-3.1l1.6-6.2c-1.4,0-2.5,0.2-3.5,0.3c-0.3,1.8-0.8,3.5-1.3,5.2c-0.5,1.7-1.1,3.4-1.8,5.1 c-0.7,1.7-1.5,3.3-2.4,4.8c-0.9,1.6-1.8,3.1-2.8,4.6c-1,1.5-2.2,2.9-3.5,4.2c-1.3,1.3-2.6,2.5-4.1,3.5c-2.9,2.1-6.2,3.7-9.6,4.9 c-0.4,1-1,1.8-1.4,2.4c-0.5,0.6-0.9,1.1-1.2,1.4c-1.9,2-4.4,5.5-6.9,12c0.1,1.7,0.3,3.8,1.1,6.2c1.3,4.2,3.6,7.1,5.1,8.7 c-1.1,0.7-2.4,1.4-3.9,2.1c-2.4,1.1-4.5,1.7-6.4,2.1v1.7h19.3c-0.6-1.6-1.5-4.9-0.8-8.9c0.5-2.5,1.4-4.4,2.2-5.7 c-0.5-0.3-1.7-1.2-2.4-2.8c-0.4-1.1-0.4-2-0.4-2.6c0.6-0.3,1.7-0.8,2.6-1.9c0.9-1,1.3-2.2,1.5-3c-0.1-0.2-0.3-0.4-0.4-0.6 c-1.2-1.8-2.7-3.4-4.3-4.8c-1.6-1.5-3.4-2.7-5.2-3.9c0.5,0.3,1,0.5,1.4,0.8c0.5,0.3,0.9,0.6,1.4,0.9c0.9,0.6,1.8,1.2,2.6,1.9 c1.7,1.4,3.2,3,4.5,4.7c0.1,0.2,0.3,0.4,0.4,0.5c0.5,0.7,1,1.5,1.4,2.2c0.5,1,1,1.9,1.4,3c0.7,1.6,1.2,3.2,1.7,4.9 c0.5-1.7,1-3.3,1.7-4.9c0.4-1,0.9-2,1.4-3c0.4-0.8,0.9-1.5,1.4-2.2c0.1-0.2,0.3-0.4,0.4-0.5c1.3-1.8,2.8-3.3,4.5-4.7 c0.8-0.7,1.7-1.3,2.6-1.9c0.5-0.3,0.9-0.6,1.4-0.9c0.5-0.3,0.9-0.5,1.4-0.8c-0.7-0.9-1.4-2-1.9-3.6c-0.2-0.7-0.7-2.5-0.5-4.7 c0.1-0.7,0.2-1.3,0.4-1.9c-0.3-0.4-0.6-0.9-0.8-1.4C61.9,42.5,61.7,42,61.5,41.5z"}),(0,vF.jsx)("path",{d:"M97.6,69c-3.7-5.5-5-10.2-5.5-13.5c-0.5-3.3-0.4-6.2-2.5-9.1c-1.8-2.6-4.5-3.8-6.4-4.5c-0.2-1.4-0.7-3.5-1.9-5.6 c-0.8-1.5-1.7-2.7-2.5-3.6c0.1-0.9,0.7-5.7-2.5-9.3c-2.2-2.4-5.1-3-7.2-3.4c-1.3-0.3-2.5-0.4-3.6-0.4c-0.3,2.1-0.6,4.2-1.1,6.3 c-0.4,2.1-1,4.2-1.6,6.2c-0.3,1-0.7,2-0.9,3.1c-0.1,0.5-0.2,1-0.3,1.5c-0.1,0.5-0.1,1-0.1,1.6c0,2.1,0.7,4.2,1.6,6.1 c1.2-3.7,4.3-5.9,5-6.3c0.8,1.5,1.9,3.2,3.2,5c1.3,1.8,2.7,3.2,3.9,4.4c1.1,2.8,2.9,6.3,5.7,10c1.5,1.9,3,3.6,4.5,4.9 c-0.6,0.4-2.9,2.3-3.6,5.6c-0.8,4,1.4,7.1,1.7,7.6c0.1-1,0.5-2.8,1.7-4.7c0.9-1.4,1.9-2.3,2.7-2.9c0.5,1.2,1.1,2.5,1.7,3.8 c0.8,1.7,1.7,3.2,2.6,4.5c-0.4,0.2-0.9,0.6-1.4,1.2c-0.9,1-1.1,2.1-1.2,2.7c0.7,0.1,1.7,0.4,2.9,1.2c1,0.6,1.6,1.4,2,1.9 c0.9-0.9,2.2-2.5,3.1-4.8C99,74,98,70.3,97.6,69z"}),(0,vF.jsx)("path",{d:"M45.8,46.9c2.8-2.1,5.3-4.7,7.3-7.6c1-1.4,1.9-3,2.8-4.5c0.9-1.5,1.7-3.1,2.4-4.7c1.5-3.2,2.7-6.6,3.6-10.1 c-0.3,0.1-0.6,0.1-0.8,0.2c-0.2-0.4-0.6-1-1.3-1.6c-0.5-0.5-1.1-0.8-1.5-1c0.4-0.4,0.9-0.9,1.3-1.5c0.9-1.3,1.3-2.6,1.4-3.4 c-0.6,0-2.4-0.1-3.9,1.1c-0.6,0.5-1.1,1-1.3,1.4c-0.3-0.6-1-1.7-2.3-2.7c-1.4-1-2.9-1.2-3.5-1.3c-0.6,0.1-2.1,0.3-3.5,1.3 c-1.3,0.9-2,2.1-2.3,2.7c-0.3-0.4-0.7-1-1.3-1.4c-1.6-1.2-3.4-1.2-3.9-1.1c0.2,0.8,0.5,2.1,1.4,3.4c0.4,0.6,0.9,1.1,1.3,1.5 c-0.4,0.2-0.9,0.5-1.5,1c-0.6,0.6-1,1.2-1.3,1.6c-1.6-0.4-4.5-0.8-7.9-0.2c-2.2,0.4-5.1,1-7.3,3.4c-3.2,3.5-2.6,8.4-2.5,9.3 c-0.8,0.9-1.7,2.1-2.5,3.6c-1.1,2.2-1.6,4.2-1.9,5.6c-2,0.7-4.6,2-6.4,4.5c-2.1,2.9-2,5.8-2.5,9.1c-0.5,3.3-1.9,8-5.5,13.5 C2,70.3,1,74,2.5,78.3c0.9,2.3,2.2,3.9,3.1,4.8c0.4-0.5,1-1.2,2-1.9c1.1-0.7,2.2-1,2.9-1.2c-0.1-0.5-0.3-1.6-1.2-2.7 c-0.5-0.6-1-0.9-1.4-1.2c0.9-1.3,1.7-2.8,2.6-4.5c0.7-1.3,1.2-2.6,1.7-3.8c0.7,0.6,1.8,1.5,2.7,2.9c1.2,1.9,1.6,3.6,1.7,4.7 c0.4-0.5,2.6-3.5,1.7-7.6c-0.7-3.3-3-5.1-3.6-5.6c1.4-1.3,3-3,4.5-4.9c2.8-3.6,4.6-7.1,5.7-10c1.2-1.2,2.5-2.6,3.9-4.4 c1.4-1.8,2.4-3.5,3.2-5c0.8,0.5,4.8,3.3,5.4,8.2c0.3,2.2-0.2,4.1-0.5,4.7c-0.1,0.4-0.3,0.8-0.4,1.1c1.6-0.7,3.2-1.5,4.8-2.4 C42.9,48.9,44.4,47.9,45.8,46.9z M54.2,16.3c0.4,0,0.8,0.3,0.8,0.8c0,0.4-0.3,0.8-0.8,0.8s-0.8-0.3-0.8-0.8 C53.4,16.7,53.7,16.3,54.2,16.3z M45.8,16.3c0.4,0,0.8,0.3,0.8,0.8c0,0.4-0.3,0.8-0.8,0.8c-0.4,0-0.8-0.3-0.8-0.8 C45.1,16.7,45.4,16.3,45.8,16.3z M44.6,23c0.1-0.2,0.2-0.3,0.3-0.5c0.2-0.3,0.4-0.7,0.6-1c0.2-0.4,0.3-0.7,0.5-1.1 c0.1-0.4,0.2-0.7,0.3-1.1l0.1-0.7l0.3,0.6c0.3,0.6,0.5,1.2,0.4,1.9c0,0.3-0.1,0.6-0.2,0.9c-0.1,0.2-0.2,0.5-0.3,0.7 c0.1,0,0.3-0.1,0.4-0.1c1-0.2,2-0.3,3-0.3c1,0,2,0.1,3,0.3c0.1,0,0.3,0.1,0.4,0.1c-0.1-0.2-0.2-0.4-0.3-0.6 c-0.1-0.3-0.2-0.6-0.2-0.9c-0.1-0.6,0.1-1.3,0.4-1.9l0.3-0.6l0.1,0.7c0.1,0.4,0.2,0.8,0.3,1.1c0.1,0.4,0.3,0.7,0.5,1.1 c0.2,0.4,0.4,0.7,0.6,1c0.1,0.2,0.2,0.3,0.3,0.5c0.1,0.2,0.2,0.3,0.4,0.5c-1-0.2-1.9-0.4-2.9-0.6c-1-0.1-1.9-0.2-2.9-0.1 c-1,0-1.9,0.1-2.9,0.2c-1,0.1-1.9,0.3-2.9,0.5C44.4,23.3,44.5,23.1,44.6,23z"})]})})})};for(let s=0;s<10;s++){const r=[];for(let e=0;e<10;e++){var n;const i="".concat(s,",").concat(e),a=b.board[i]||{type:"empty"};let o=null,l={},c="relative ";switch((null===(n=b.lastMoveTrails)||void 0===n?void 0:n.some(t=>t.x===e&&t.y===s))?(l={backgroundImage:"url('https://www.transparenttextures.com/patterns/concrete-wall.png')",backgroundColor:"#334155"},c+="bg-slate-700/50"):(l={backgroundImage:"url('https://www.transparenttextures.com/patterns/dark-brick-wall.png')"},c+="bg-slate-800/20"),a.type){case"wall":c="bg-black/80 shadow-inner",l={backgroundImage:"url('https://www.transparenttextures.com/patterns/brick-wall-dark.png')"};break;case"hatch":const e=b.player.hasKey;o=(0,vF.jsx)("div",{className:"w-8 h-8 rounded-md transition-all duration-300 ".concat(e?"bg-yellow-600 shadow-[0_0_15px_rgba(250,204,21,0.7)]":"bg-purple-800"," border-2 border-black/20")});break;case"key":o=t.key();break;case"chest":o=a.opened?t.chest_opened():t.chest_closed()}const u=x.particles.filter(t=>t.x===e&&t.y===s),d=I.tiles.some(t=>t.x===e&&t.y===s),h=new Set(b.enemies.map(e=>"".concat(e.y,",").concat(e.x))),f=()=>(0,vF.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6 text-white opacity-60",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})});let p=null;h.has(i)||Object.values(b.enemyMovePaths||{}).forEach(t=>{const n=t.findIndex(t=>t&&t.x===e&&t.y===s);if(n>0){const e=t[n-1],r=t[n],i=r.x-e.x,a=r.y-e.y,o=Math.atan2(a,i)*(180/Math.PI);p={rotation:o}}}),r.push((0,vF.jsxs)("div",{onClick:()=>ne(e,s,S),style:l,className:"border border-slate-700/50 flex items-center justify-center transition-colors duration-200 ".concat(c," ").concat("enemy"!==S?"cursor-pointer hover:bg-slate-600/50":"cursor-wait"," ").concat(g?"w-8 h-8":"w-12 h-12"),children:[o,d&&"wall"!==a.type&&(0,vF.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-red-500/20 animate-pulse"}),u.map(e=>(0,vF.jsx)(dU,{onComplete:()=>{}},e.id)),p&&(0,vF.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none animate-fade-in",style:{transform:"rotate(".concat(p.rotation,"deg)")},children:(0,vF.jsx)(f,{})})]},i))}e.push((0,vF.jsx)("div",{className:"flex",children:r},s))}const r=g?32:48,i=e=>{let{style:t}=e;const n=32/Math.max(t.width,t.height);return(0,vF.jsx)("div",{className:"relative w-full h-full overflow-hidden",children:(0,vF.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",width:t.width,height:t.height,backgroundImage:"url(".concat(lF,")"),backgroundPosition:t.backgroundPosition,transform:"translate(-50%, -50%) scale(".concat(n,")"),imageRendering:"pixelated"}})})},a=[...b.enemies.map(e=>u(u({},e),{},{entityType:"enemy"})),u(u({},b.player),{},{id:"player",entityType:"player"})];b.wingman&&a.push(u(u({},b.wingman),{},{entityType:"wingman"}));const o=a.map(e=>{const n=e.y*r+(r/2-16),a=e.x*r+(r/2-16);let o;return o="player"===e.entityType?t.player(e.id):"wingman"===e.entityType?(0,vF.jsx)(i,{style:e.spriteStyle}):t[e.baseId]?t[e.baseId](e.id):(0,vF.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-600"}),(0,vF.jsxs)("div",{onClick:"enemy"===e.entityType?t=>$(t,e):t=>((e,t)=>{e.stopPropagation(),"wingman"===S&&"heal"===(null===j||void 0===j?void 0:j.id)&&ae(t)})(t,e),className:"absolute z-10",style:{width:32,height:32,top:n,left:a,transition:"top 0.25s linear, left 0.25s linear",cursor:"enemy"===e.entityType&&"enemy"!==S&&(G||q||j&&"heal"!==j.id)||"enemy"!==e.entityType&&"wingman"===S&&"heal"===(null===j||void 0===j?void 0:j.id)?"pointer":"default"},children:[o,"enemy"===e.entityType&&(0,vF.jsx)("div",{className:"absolute -bottom-2 w-full h-1.5 bg-red-900/80 rounded-full overflow-hidden border border-black/50",children:(0,vF.jsx)("div",{className:"h-full bg-red-500 transition-all duration-200",style:{width:"".concat(Math.max(0,e.hp/e.maxHp*100),"%")}})})]},e.id)});return(0,vF.jsxs)("div",{className:"relative",children:[e,o]})})()})}),(0,vF.jsxs)("div",{className:"w-full lg:w-96 flex-shrink-0",children:[(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl mb-4",children:[(0,vF.jsx)("h3",{className:"font-bold text-white",children:"Player Stats"}),(0,vF.jsxs)("p",{children:["HP: ",(0,vF.jsxs)("span",{className:"text-red-400 font-bold",children:[b.player.hp," / ",Z.maxHp]})]}),(0,vF.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mt-1",children:(0,vF.jsx)("div",{className:"bg-red-600 h-2.5 rounded-full",style:{width:"".concat(b.player.hp/Z.maxHp*100,"%")}})}),(0,vF.jsxs)("p",{children:["Attack: ",(0,vF.jsx)("span",{className:"text-yellow-400 font-bold",children:Z.attack})," | Gold: ",(0,vF.jsx)("span",{className:"text-yellow-400 font-bold",children:B||0})]}),"player"===S&&(0,vF.jsxs)("p",{children:["Action Points: ",(0,vF.jsxs)("span",{className:"font-bold text-cyan-400",children:[A," / 2"]})]}),b.wingman&&(0,vF.jsxs)("div",{className:"mt-2 border-t border-slate-700 pt-2",children:[(0,vF.jsxs)("h4",{className:"text-sm font-bold text-slate-300",children:["Wingman: ",b.wingman.name]}),(0,vF.jsxs)("p",{children:["HP: ",(0,vF.jsxs)("span",{className:"text-red-400 font-bold",children:[b.wingman.hp," / ",b.wingman.maxHp]})," | Attack: ",(0,vF.jsx)("span",{className:"text-yellow-400 font-bold",children:b.wingman.atk})]}),"wingman"===S&&(0,vF.jsxs)("p",{children:["Action Points: ",(0,vF.jsxs)("span",{className:"font-bold text-cyan-400",children:[N," / ",b.wingman.ap]})]})]}),(0,vF.jsxs)("p",{children:["Pet: ",(0,vF.jsx)("span",{className:"font-semibold",children:(null===(a=s.currentPet)||void 0===a?void 0:a.name)||"None"})," ",b.player.hasKey&&(0,vF.jsx)("span",{className:"text-yellow-300 font-bold ml-4",children:"\ud83d\udd11 Key"})]}),b.player.activeEffects&&b.player.activeEffects.length>0&&(0,vF.jsxs)("div",{className:"mt-2 border-t border-slate-700 pt-2",children:[(0,vF.jsx)("h4",{className:"text-sm font-bold text-slate-300",children:"Active Effects:"}),(0,vF.jsx)("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:b.player.activeEffects.map(e=>{const t=Q.temp_potions.find(t=>t.id===e.id);return(0,vF.jsxs)("span",{className:"bg-purple-600/50 text-purple-300 px-2 py-1 rounded-full",children:[null===t||void 0===t?void 0:t.name," (",e.remainingFloors," floors left)"]},e.id)})})]})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl mb-4",children:[(0,vF.jsx)("h3",{className:"font-bold text-white mb-2",children:"Actions"}),(0,vF.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:["player"===S&&(0,vF.jsxs)(vF.Fragment,{children:["player"===S&&(0,vF.jsx)("button",{onClick:()=>W(!0),className:"bg-red-600 text-white p-2 rounded hover:bg-red-700 disabled:bg-slate-600 disabled:cursor-wait",disabled:!!G||!!q||A<1,children:G||q?"Select Target...":"Attack (1 AP / ".concat(b.player.attackCost," XP)")}),(0,vF.jsxs)("button",{onClick:()=>{!b||(b.potions||0)<=0?X("You have no potions.","text-yellow-400"):w(e=>{const t=Z.maxHp;return u(u({},e),{},{potions:e.potions-1,player:u(u({},e.player),{},{hp:Math.min(t,e.player.hp+50)}),log:[{message:"You used a potion and restored 50 HP.",style:"text-green-400"},...(e.log||[]).slice(0,4)]})})},className:"bg-green-600 text-white p-2 rounded hover:bg-green-700 disabled:bg-slate-600",disabled:(b.potions||0)<=0,children:["Use Potion (",b.potions||0,")"]}),Q.attacks.filter(e=>e.class===b.playerClass).map(e=>{var t;const n=(null===(t=b.player.abilityUses)||void 0===t?void 0:t[e.id])||0,r=F>=e.cost,i=n<=0||!r||!!G||!!q||A<1;return(0,vF.jsx)("button",{onClick:()=>{i||(W(null),e.isSelfTarget?re("player",b.player,e.id):(Y(e.id),X("Select a target for ".concat(e.name,"."),"text-cyan-400")))},className:"bg-indigo-600 text-white p-2 rounded hover:bg-indigo-700 disabled:bg-slate-600/50 disabled:cursor-not-allowed",disabled:i,children:q===e.id?"Select Target...":"".concat(e.name," (").concat(n,"/").concat(e.maxUses,")")},e.id)})]}),"wingman"===S&&b.wingman&&(0,vF.jsxs)(vF.Fragment,{children:[(0,vF.jsx)("button",{onClick:()=>{T(null),W(!0)},className:"bg-red-600 text-white p-2 rounded hover:bg-red-700 disabled:bg-slate-600 disabled:cursor-wait",disabled:!!G||!!j||N<b.wingman.attackCost,children:G?"Select Target...":"Attack (".concat(b.wingman.attackCost," AP)")}),null===(o=b.wingman.abilities)||void 0===o?void 0:o.map(e=>(0,vF.jsx)("button",{onClick:()=>(e=>{W(null),T(e),X("Select a target for ".concat(e.name,"."),"text-cyan-400")})(e),disabled:N<e.cost||!!j||!!G,className:"bg-purple-600 text-white p-2 rounded hover:bg-purple-700 disabled:bg-slate-600 disabled:cursor-wait",children:(null===j||void 0===j?void 0:j.id)===e.id?"Select Target...":"".concat(e.name," (").concat(e.cost," AP)")},e.id)),L.frenziedAttackAvailable&&(0,vF.jsx)("button",{onClick:()=>{T(null),W({isFrenzied:!0})},className:"col-span-2 bg-orange-600 text-white p-2 rounded hover:bg-orange-700 animate-pulse",children:"Frenzied Assault (Free Action)"})]}),(0,vF.jsx)("button",{onClick:()=>{W(null),Y(null),"player"===S?b.wingman?_("wingman"):(_("enemy"),setTimeout(J,100)):"wingman"===S&&(_("enemy"),setTimeout(J,100))},className:"col-span-2 bg-slate-600 text-white p-2 rounded hover:bg-slate-700 disabled:bg-slate-800 disabled:cursor-wait",disabled:"enemy"===S,children:"End Turn"})]})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl",children:[(0,vF.jsx)("h3",{className:"font-bold text-white mb-2",children:"Game Log"}),(0,vF.jsx)("div",{className:"space-y-1 text-sm",children:(b.log||[]).map(e=>(0,vF.jsx)("p",{className:e.style,children:e.message},e.id))})]})]})]}),b.gameOver&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:(0,vF.jsxs)("div",{className:"bg-slate-800 p-8 rounded-lg text-center border border-red-500",children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-red-400 mb-4",children:"Game Over!"}),(0,vF.jsxs)("p",{className:"text-slate-300 mb-6",children:["You were defeated on floor ",b.floor,"."]}),(0,vF.jsx)("button",{onClick:h,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Play Again"})]})}),O&&(0,vF.jsx)(hU,{stats:s,wingmanDefs:RF,updateStatsInFirestore:l,showMessageBox:c,sessionGold:B,sessionXp:F,isRunActive:"playing"===b.phase&&(b.floor>1||b.turnCount>1),pendingEquippedWingman:D,onEquipWingman:R}),b.shopOpen&&(0,vF.jsxs)("div",{className:"mt-6",children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Dungeon Shop"}),(0,vF.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,vF.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg",children:[(0,vF.jsx)("h4",{className:"font-bold mb-2 text-white",children:"Gold Shop (Consumables)"}),(0,vF.jsx)("button",{onClick:()=>ie({name:"Potion",cost:50},"potion","gold"),disabled:(B||0)<50,className:"w-full bg-yellow-600 p-2 rounded mb-2 hover:bg-yellow-700 disabled:bg-slate-600/50 disabled:cursor-not-allowed",children:"Buy Health Potion (50 Gold)"}),Q.temp_potions.map(e=>(0,vF.jsxs)("button",{onClick:()=>ie(e,"temp_potion","gold"),disabled:(B||0)<e.cost,className:"w-full bg-yellow-600 p-2 rounded mb-2 hover:bg-yellow-700 disabled:bg-slate-600/50 disabled:cursor-not-allowed",children:["Buy ",e.name," (",e.cost," Gold)"]},e.id))]}),(0,vF.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg",children:[(0,vF.jsxs)("h4",{className:"font-bold mb-2 text-white",children:["XP Shop (",b.playerClass," Weapons)"]}),(()=>{const e=b.playerClass;let t=[];return"warrior"===e?t=Q.weapons:"mage"===e?t=Q.wands:"archer"===e?t=Q.bows:"tank"===e&&(t=Q.shields),t.map(e=>{const t=b.ownedWeapons.includes(e.id),n=s.totalXP>=e.cost;return(0,vF.jsx)("button",{onClick:()=>ie(e,"weapon","xp"),disabled:t||!n,className:"w-full p-2 rounded mb-2 font-semibold transition-colors text-center ".concat(t?"bg-green-800/60 text-green-400 cursor-default":n?"bg-indigo-600 text-white hover:bg-indigo-500":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.name," (").concat(e.cost," XP)")},e.id)})})()]}),(0,vF.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg",children:[(0,vF.jsx)("h4",{className:"font-bold mb-2 text-white",children:"XP Shop (Armor)"}),Q.armors.map(e=>{const t=b.ownedArmor.includes(e.id),n=s.totalXP>=e.cost;return(0,vF.jsx)("button",{onClick:()=>ie(e,"armor","xp"),disabled:t||!n,className:"w-full p-2 rounded mb-2 font-semibold transition-colors text-center ".concat(t?"bg-green-800/60 text-green-400 cursor-default":n?"bg-indigo-600 text-white hover:bg-indigo-500":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.name," (").concat(e.cost," XP)")},e.id)})]})]})]}),b.bestiaryOpen&&(0,vF.jsxs)("div",{className:"mt-6",children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Bestiary"}),(0,vF.jsx)("div",{className:"space-y-4",children:Q.bestiary.map(e=>(0,vF.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg flex items-start gap-4",children:[e.icon,(0,vF.jsxs)("div",{className:"flex-grow",children:[(0,vF.jsx)("h4",{className:"font-bold text-xl text-white",children:e.name}),(0,vF.jsx)("p",{className:"text-slate-300 text-sm mt-1",children:e.description}),(0,vF.jsxs)("p",{className:"text-sm mt-2",children:[(0,vF.jsx)("strong",{className:"text-yellow-400",children:"Combat Info:"})," ",(0,vF.jsx)("span",{className:"text-slate-400",children:e.abilities})]})]})]},e.id))})]})]})},pU=e=>{let{stats:n,userId:r,updateStatsInFirestore:i,showMessageBox:a,actionLock:o,processAchievement:s}=e;const{lab_state:l}=n,[c,d]=(0,t.useState)((null===l||void 0===l?void 0:l.sciencePoints)||0),h=(0,t.useRef)(0),f=(0,t.useRef)(!1),p=1e12,m=(0,t.useRef)(c),g=(0,t.useRef)(l);(0,t.useEffect)(()=>{m.current=c,g.current=l},[c,l]);const y=e=>e<1e3?e.toFixed(1):e<1e6?"".concat((e/1e3).toFixed(2),"K"):e<1e9?"".concat((e/1e6).toFixed(2),"M"):e<1e12?"".concat((e/1e9).toFixed(2),"B"):"".concat((e/1e12).toFixed(2),"T"),{totalSPS:v,totalClickPower:b,prestigeBonus:w}=(0,t.useMemo)(()=>{if(!l)return{totalSPS:0,totalClickPower:0,prestigeBonus:1};let e=0,t=0;const n=1+.1*(l.prestigeLevel||0);if(!l.labEquipment)return{totalSPS:0,totalClickPower:0,prestigeBonus:1};for(const a in l.labEquipment){const n=KF[a],r=l.labEquipment[a]||0;if(r>0){let i=n.baseSPS,o=n.clickPower;l.labXpUpgrades&&l.labXpUpgrades[a]&&(i*=n.xpUpgrade.multiplier,o*=n.xpUpgrade.multiplier),e+=i*r,t+=o*r}}const r=e*n,i=t*n;return h.current=r,{totalSPS:r,totalClickPower:i,prestigeBonus:n}},[l]);if((0,t.useEffect)(()=>{const e=setInterval(()=>{d(e=>e+h.current)},1e3);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{if(l&&l.lastLogin&&"function"===typeof l.lastLogin.toDate&&!f.current){f.current=!0;const e=l.lastLogin.toDate(),t=new Date,n=Math.round((t-e)/1e3);if(n>60){const e=n*h.current;if(e>0){const t=(l.sciencePoints||0)+e;i({lab_state:u(u({},l),{},{sciencePoints:t,lastLogin:em()})}).then(()=>{d(t),a("Welcome back! You generated ".concat(y(e)," Science Points."),"info",5e3),s("sciencePoints",t)})}}}},[null===l||void 0===l?void 0:l.lastLogin]),!l)return(0,vF.jsx)("div",{className:"text-center p-10 text-xl text-slate-400",children:"Loading Science Lab..."});u({id:"avatar_dragon",cost:1e7},DF.avatars.find(e=>"avatar_dragon"===e.id)),u({id:"banner_galaxy",cost:5e7},DF.banners.find(e=>"banner_galaxy"===e.id)),u({id:"bg_aurora",cost:1e9},DF.backgrounds.find(e=>"bg_aurora"===e.id));return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"mb-6",children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Science Lab"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Generate Science Points to unlock powerful upgrades and exclusive cosmetics."})]}),(0,vF.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,vF.jsxs)("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-6 rounded-2xl shadow-xl text-center",children:[(0,vF.jsx)("h3",{className:"text-slate-400 text-lg",children:"Science Points"}),(0,vF.jsx)("p",{className:"text-5xl font-bold text-cyan-400 my-2",children:y(c)}),(0,vF.jsxs)("p",{className:"text-green-400 font-semibold",children:[y(v)," per second"]}),(l.prestigeLevel||0)>0&&(0,vF.jsxs)("p",{className:"text-purple-400 font-semibold text-sm mt-1",children:["Prestige Bonus: +",(100*(w-1)).toFixed(0),"%"]})]}),(0,vF.jsxs)("div",{onClick:()=>{d(e=>e+b)},className:"bg-slate-800/50 p-6 rounded-2xl shadow-xl text-center flex-grow flex flex-col justify-center items-center cursor-pointer hover:bg-slate-800/80 transition-colors",children:[(0,vF.jsx)("div",{className:"text-8xl animate-pulse",children:"\ud83e\uddea"}),(0,vF.jsx)("p",{className:"mt-4 text-xl font-bold text-white",children:"Click to Generate"}),(0,vF.jsxs)("p",{className:"text-cyan-300",children:["+",y(b)," points per click"]})]}),c>=p&&(0,vF.jsxs)("div",{className:"bg-purple-900/50 border-2 border-purple-600 p-6 rounded-2xl shadow-xl text-center",children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Prestige Available!"}),(0,vF.jsx)("p",{className:"text-purple-300 mb-4",children:"Reset your Science Lab progress to gain a permanent 10% boost to all future generation."}),(0,vF.jsx)("button",{onClick:()=>o(async()=>{if(c<p)return void a("Not enough Science Points.","error");if(!PF||!r)return;const e=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),r);try{await CF(PF,async t=>{const n=await t.get(e);if(!n.exists())throw new Error("User data missing.");const r=n.data(),i={sciencePoints:0,labEquipment:{beaker:0,microscope:0,bunsen_burner:0,computer:0,particle_accelerator:0,quantum_computer:0,manual_clicker:1},labXpUpgrades:{},prestigeLevel:(r.lab_state.prestigeLevel||0)+1,lastLogin:em()};t.update(e,{lab_state:i,lastActionTimestamp:em(),cooldowns:u(u({},r.cooldowns||{}),{},{prestigeLab:em()})})}),d(0),a("Prestige successful! Level ".concat((l.prestigeLevel||0)+1,"."),"info",6e3)}catch(t){const e=t.message.includes("permission-denied")?"You're acting too quickly!":"Server error during prestige.";a(e,"error")}}),className:"w-full bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Prestige Now"})]})]}),(0,vF.jsx)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Lab Equipment"}),(0,vF.jsx)("div",{className:"space-y-3",children:l.labEquipment&&Object.entries(KF).map(e=>{let[t,r]=e;const o=l.labEquipment[t]||0,s=r.baseCost*Math.pow(1.15,o);return(0,vF.jsxs)("div",{className:"bg-slate-800/70 p-3 rounded-lg flex items-center justify-between gap-4",children:[(0,vF.jsxs)("div",{className:"flex-1",children:[(0,vF.jsxs)("h4",{className:"font-bold text-white",children:[r.name," ",(0,vF.jsxs)("span",{className:"text-sm text-slate-400",children:["(Owned: ",o,")"]})]}),(0,vF.jsxs)("p",{className:"text-xs text-cyan-400",children:[r.baseSPS>0&&"+".concat(y(r.baseSPS*(l.labXpUpgrades&&l.labXpUpgrades[t]?2:1)*w)," SPS each"),r.clickPower>0&&"+".concat(y(r.clickPower*(l.labXpUpgrades&&l.labXpUpgrades[t]?2:1)*w)," Click Power each")]})]}),(0,vF.jsxs)("div",{className:"flex items-center gap-2",children:[!(l.labXpUpgrades&&l.labXpUpgrades[t])&&(0,vF.jsxs)("button",{onClick:()=>(e=>{const t=KF[e];if(n.totalXP>=t.xpUpgrade.cost&&(!l.labXpUpgrades||!l.labXpUpgrades[e])){const r=u(u({},l.labXpUpgrades||{}),{},{[e]:!0});i({totalXP:n.totalXP-t.xpUpgrade.cost,lab_state:u(u({},l),{},{labXpUpgrades:r})}),a("".concat(t.name," production doubled!"),"info")}})(t),disabled:n.totalXP<r.xpUpgrade.cost,className:"text-xs bg-purple-600 text-white px-3 py-2 rounded-md hover:bg-purple-700 disabled:bg-slate-600 disabled:cursor-not-allowed",children:["2x with ",r.xpUpgrade.cost," XP"]}),(0,vF.jsxs)("button",{onClick:()=>(e=>{var t;const n=KF[e],r=(null===(t=l.labEquipment)||void 0===t?void 0:t[e])||0,a=n.baseCost*Math.pow(1.15,r);if(c>=a){const t=c-a;d(t);const n=u(u({},l.labEquipment||{}),{},{[e]:r+1});i({lab_state:u(u({},l),{},{sciencePoints:t,labEquipment:n})})}})(t),disabled:c<s,className:"text-sm bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:bg-slate-600 disabled:cursor-not-allowed w-32",children:["Buy: ",y(s)]})]})]},t)})})]})})]})]})},mU=e=>{let{stats:n,updateStatsInFirestore:r,showMessageBox:i,onResetGame:a,getFullCosmeticDetails:o,generatePath:s,processAchievement:l,addIngredientToInventory:c}=e;const[d,h]=(0,t.useState)(1),[f,p]=(0,t.useState)({projectiles:[],waveInProgress:!1,enemies:[],towers:[],soldiers:[]}),[m,g]=(0,t.useState)({selectedTile:null,selectedTower:null,shopOpen:!1}),{td_wave:y=0,td_castleHealth:v=5,td_towers:b=[],td_path:w=[],td_gameOver:x=!1,td_gameWon:k=!1,td_wins:S=0,td_unlockedTowers:_=[],td_towerUpgrades:A={}}=n||{},[E,N]=(0,t.useState)((null===n||void 0===n?void 0:n.td_towers)||[]);(0,t.useEffect)(()=>{N((null===n||void 0===n?void 0:n.td_towers)||[])},[null===n||void 0===n?void 0:n.td_towers]);const[C,j]=(0,t.useState)((null===n||void 0===n?void 0:n.td_towerUpgrades)||{});(0,t.useEffect)(()=>{j((null===n||void 0===n?void 0:n.td_towerUpgrades)||{})},[null===n||void 0===n?void 0:n.td_towerUpgrades]),(0,t.useEffect)(()=>{w&&0!==w.length||!(y>0)||x||k||(i("Tower Defense state error detected. Resetting game.","error",4e3),a())},[w,y,x,k,a,i]);const[T,I]=(0,t.useState)(null===n||void 0===n?void 0:n.td_castleHealth),P=(0,t.useRef)(w),O=(0,t.useRef)(y),M=(0,t.useRef)(S),D=(0,t.useRef)(T);(0,t.useEffect)(()=>{D.current=T},[T]),(0,t.useEffect)(()=>{0===y&&I(v)},[y,v]);const R={free:[{id:"archer",name:"Archer",cost:100,damage:3,range:5,attackSpeed:1,projectileType:"arrow",canHitFlying:!0},{id:"cannon",name:"Cannon",cost:200,damage:5,range:4,attackSpeed:.5,projectileType:"cannonball",canHitFlying:!1},{id:"icemage",name:"Ice Mage",cost:500,damage:2,range:5,attackSpeed:1,slow:.5,projectileType:"iceShard",canHitFlying:!0},{id:"barracks",name:"Barracks",cost:800,damage:0,range:0,attackSpeed:0,spawnRate:5,projectileType:null},{id:"ballista",name:"Ballista",cost:1e3,damage:10,range:6,attackSpeed:.3,projectileType:"bolt"}],unlockable:[{id:"fire",name:"Fire Tower",cost:800,damage:7,range:6,attackSpeed:1.2,dot:1,projectileType:"fireball"},{id:"tesla",name:"Tesla",cost:900,damage:7,range:6,attackSpeed:1.5,chain:3,projectileType:"lightning"},{id:"poison",name:"Poison Tower",cost:1e3,damage:2,range:5,attackSpeed:1.2,poison:10,projectileType:"poisonCloud"},{id:"sniper",name:"Sniper",cost:1500,damage:20,range:8,attackSpeed:.2,projectileType:"bullet"},{id:"dragon",name:"Dragon",cost:2e3,damage:.5,range:6,attackSpeed:50,aoe:2,projectileType:"fireball"}],dungeon_unlockable:[{id:"dungeoncannon",name:"Dungeon Cannon",cost:1500,damage:25,range:5,attackSpeed:.4,floorRequired:10,aoe:1,projectileType:"cannonball"},{id:"crystalspire",name:"Crystal Spire",cost:2200,damage:40,range:7,attackSpeed:.2,floorRequired:20,projectileType:"crystalShard"}]},L={archer:[{id:"archer_damage",name:"Sharper Arrows",cost:300,effect:{damage:7}},{id:"archer_range",name:"Longbow",cost:450,effect:{range:7}},{id:"archer_speed",name:"Quick Draw",cost:520,effect:{attackSpeed:1.5}}],cannon:[{id:"cannon_damage",name:"Bigger Cannonballs",cost:500,effect:{damage:13}},{id:"cannon_aoe",name:"Explosive Shells",cost:200,effect:{aoe:1}},{id:"cannon_speed",name:"Auto-loader",cost:180,effect:{attackSpeed:.8}}],icemage:[{id:"icemage_slow",name:"Deeper Freeze",cost:400,effect:{slow:.65}},{id:"icemage_damage",name:"Ice Shards",cost:250,effect:{damage:6}},{id:"icemage_aoe",name:"Frost Nova",cost:500,effect:{aoe:.5}}],barracks:[{id:"barracks_spawnRate",name:"Reinforcements",cost:350,effect:{spawnRate:-2}},{id:"barracks_soldierDamage",name:"Forged Blades",cost:300,effect:{soldierDamage:2}},{id:"barracks_soldierHealth",name:"Iron Mail",cost:300,effect:{soldierHealth:10}}],ballista:[{id:"ballista_damage",name:"Heavy Bolts",cost:400,effect:{damage:22}},{id:"ballista_range",name:"Eagle-Eye Scope",cost:350,effect:{range:8}},{id:"ballista_pierce",name:"Penetrating Shots",cost:600,effect:{pierce:2}}],fire:[{id:"fire_dot",name:"Wildfire",cost:450,effect:{dot:3}},{id:"fire_damage",name:"Combustion",cost:350,effect:{damage:12}},{id:"fire_aoe",name:"Fireball",cost:550,effect:{aoe:1.5}}],tesla:[{id:"tesla_chain",name:"Superconductor",cost:600,effect:{chain:5}},{id:"tesla_speed",name:"Overcharge",cost:500,effect:{attackSpeed:3}},{id:"tesla_damage",name:"High Voltage",cost:450,effect:{damage:11}}],poison:[{id:"poison_damage",name:"Virulent Toxin",cost:500,effect:{poison:25}},{id:"poison_slow",name:"Debilitating Poison",cost:400,effect:{slow:.3}},{id:"poison_aoe",name:"Noxious Fumes",cost:600,effect:{aoe:1}}],sniper:[{id:"sniper_damage",name:".50 Caliber",cost:800,effect:{damage:45}},{id:"sniper_range",name:"Advanced Scope",cost:600,effect:{range:12}},{id:"sniper_cripple",name:"Crippling Shot",cost:900,effect:{crippleChance:.2,crippleDuration:1}}],dragon:[{id:"dragon_damage",name:"Blue Flame",cost:1200,effect:{damage:1}},{id:"dragon_aoe",name:"Inferno Breath",cost:1500,effect:{aoe:3}},{id:"dragon_fear",name:"Terrifying Roar",cost:2e3,effect:{fearChance:.1}}],dungeoncannon:[{id:"dungeoncannon_gold",name:"Gilded Shot",cost:600,effect:{goldBonus:.15}},{id:"dungeoncannon_stun",name:"Cave-In",cost:750,effect:{stunChance:.2,stunDuration:1.5}},{id:"dungeoncannon_damage",name:"Dungeon Keeper's Wrath",cost:850,effect:{damage:35}}],crystalspire:[{id:"crystalspire_chain",name:"Prismatic Shard",cost:700,effect:{chain:3,chainDamageFalloff:.3}},{id:"crystalspire_aura",name:"Energize",cost:800,effect:{auraAttackSpeed:1.2,auraRange:5}},{id:"crystalspire_range",name:"Crystalline Lens",cost:650,effect:{range:10}}]},z={normal:[{id:"goblin",name:"Goblin",health:10,speed:.1},{id:"shieldbearer",name:"Shieldbearer",health:20,speed:.08,armor:2},{id:"runner",name:"Runner",health:5,speed:.5},{id:"healer",name:"Healer",health:15,speed:.1,heal:2},{id:"flyer",name:"Flyer",health:12,speed:.4,flying:!0}],juggernaut:[{id:"ogre",name:"Ogre",health:100,speed:.08,loot:{id:"ingredientEyeballs",chance:.3}},{id:"siege_engine",name:"Siege Engine",health:150,speed:.01},{id:"necromancer",name:"Necromancer",health:80,speed:.2,spawn:2,loot:{id:"ingredientDemonicBook",chance:.4}},{id:"dragon",name:"Dragon",health:200,speed:.08,flying:!0,loot:{id:"dragon_scale",chance:.5}}]},F={dragon:{castleHealth:1},owl:{attackSpeed:.1},squirrel:{sellRefund:.15}},U=Array(10).fill().map(()=>Array(10).fill(null)),B=()=>{var e;if(!m.selectedTile)return;const t=E.findIndex(e=>e.x===m.selectedTile.x&&e.y===m.selectedTile.y);if(-1===t)return;const i=E[t],a=Math.floor(i.cost*((null===(e=F.squirrel)||void 0===e?void 0:e.sellRefund)||.15));r({totalXP:n.totalXP+a}),N(e=>e.filter((e,n)=>n!==t)),g(e=>u(u({},e),{},{selectedTile:null,selectedTower:null}))},V=e=>{const t=[];if(e%10===0){const n=z.juggernaut[Math.min(Math.floor(e/10)-1,z.juggernaut.length-1)];t.push(u(u({},n),{},{id:"".concat(n.id,"_").concat(Date.now()),health:n.health*(1+e/20),x:0,y:0,progress:0}))}else for(let n=0;n<5+2*e;n++){const r=z.normal[Math.floor(Math.random()*z.normal.length)];t.push(u(u({},r),{},{id:"".concat(r.id,"_").concat(n,"_").concat(Date.now()),health:r.health*(1+e/50),x:0,y:0,progress:.2*-n}))}return t};(0,t.useEffect)(()=>{P.current=w,O.current=y,M.current=S},[w,y,S]),(0,t.useEffect)(()=>{if(!f.waveInProgress)return;const e={current:0},t=setInterval(()=>{p(t=>{if(!t.waveInProgress)return t;let n=[...t.enemies],a=[...t.soldiers],o=[...t.towers],s=t.projectiles.filter(e=>Date.now()<e.expires),h=0;o=o.map(e=>e.id.startsWith("barracks")&&Date.now()-(e.lastSpawn||0)>1e3*e.spawnRate?(a.push({id:"soldier_".concat(Date.now()),x:e.x,y:e.y,health:e.soldierHealth||20,damage:e.soldierDamage||1,targetId:null,despawnTime:Date.now()+2e4}),u(u({},e),{},{lastSpawn:Date.now()})):e),a=a.map(e=>{if(!e.targetId||!n.find(t=>t.id===e.targetId)){let t=null,r=1/0;n.forEach(n=>{if(!n.flying){const i=Math.hypot(e.x-n.x,e.y-n.y);i<r&&(r=i,t=n)}}),e.targetId=t?t.id:null}const t=n.find(t=>t.id===e.targetId);if(t){const n=Math.hypot(e.x-t.x,e.y-t.y);n>.5?(e.x+=(t.x-e.x)/n*.05*d,e.y+=(t.y-e.y)/n*.05*d):t.health-=.1*e.damage*d}return e}).filter(e=>e.health>0&&e.despawnTime>Date.now()),n=n.map(e=>{let t=e.speed;e.slowedUntil&&Date.now()<e.slowedUntil&&(t*=1-e.slowAmount);const n=e.progress+.1*t*d;if(n>=1)return h++,null;const r=P.current,i=Math.min(Math.floor(n*(r.length-1)),r.length-1),a=r[Math.max(0,i)];return u(u({},e),{},{progress:n,x:a.x,y:a.y})}).filter(Boolean),o=o.map(e=>{if(e.id.startsWith("barracks")||Date.now()-e.lastAttack<1e3/e.attackSpeed)return e;const t=n.find(t=>(e.canHitFlying||!t.flying)&&Math.hypot(t.x-e.x,t.y-e.y)<=e.range&&t.progress>=0);return t?(s.push({id:"p_".concat(Date.now(),"_").concat(Math.random()),from:{x:e.x,y:e.y},to:{x:t.x,y:t.y},type:e.projectileType,expires:Date.now()+300,towerData:e}),u(u({},e),{},{lastAttack:Date.now()})):e}),s.forEach(e=>{Date.now()>e.expires-100&&n.forEach(t=>{if(Math.hypot(t.x-e.to.x,t.y-e.to.y)<1){const r=e.towerData.damage-(t.armor||0);t.health-=Math.max(1,r),e.towerData.slow&&(t.slowedUntil=Date.now()+1e3,t.slowAmount=e.towerData.slow),e.towerData.aoe&&n.forEach(n=>{n.id!==t.id&&Math.hypot(n.x-t.x,n.y-t.y)<=e.towerData.aoe&&(n.health-=Math.max(1,e.towerData.damage/2-(n.armor||0)))})}})});const f=t.enemies.filter(e=>!n.some(t=>t.id===e.id));f.length>0&&f.forEach(e=>{e.loot&&Math.random()<e.loot.chance&&c(e.loot.id)});const p=n.filter(e=>e.health>0);h>0&&(e.current+=h);const m=D.current-e.current,g=m<=0,y=O.current>=50&&0===p.length&&!g,v=!g&&!y&&t.enemies.length>0&&0===p.length;if(g||y||v){I(m);let n={};if(e.current>0&&(n.td_castleHealth=m),g&&(n.td_gameOver=!0),y&&(n.td_gameWon=!0,n.td_wins=M.current+1),v&&O.current>0&&O.current%10===0){n["alchemy_state.inventory.pristine_crystal"]=tm(1),i("You earned a Pristine Crystal for surviving the boss wave!","info")}if(y){n["alchemy_state.inventory.dragon_scale"]=tm(1),i("You earned a Dragon Scale for your victory!","info")}return Object.keys(n).length>0&&r(n).then(()=>{n.td_gameWon&&l("towerDefenseWins")}),u(u({},t),{},{waveInProgress:!1,enemies:[],projectiles:[],soldiers:[]})}return u(u({},t),{},{enemies:p,soldiers:a,projectiles:s,towers:o})})},100/d);return()=>clearInterval(t)},[f.waveInProgress,d,r,i,l]);const H=n.currentPet&&F[n.currentPet.id.split("_")[0]]||{},G=e=>{var t,r;const i=e.split("_")[0],a=null===(t=n.equippedItems)||void 0===t||null===(r=t.tdSkins)||void 0===r?void 0:r[i];if(a){const e=o(a,"td_skins");if(e)return e.display}return{archer:"\ud83c\udff9",cannon:"\ud83d\udca3",icemage:"\u2744\ufe0f",barracks:"\ud83d\udee1\ufe0f",ballista:"\ud83c\udfaf",fire:"\ud83d\udd25",tesla:"\u26a1",poison:"\u2620\ufe0f",sniper:"\ud83c\udfaf",dragon:"\ud83d\udc09",dungeoncannon:"\ud83c\udf0b",crystalspire:"\ud83d\udc8e"}[i]||"\u2753"},W=e=>{var t,r;const i=e.split("_")[0],a=null===(t=n.equippedItems)||void 0===t||null===(r=t.tdSkins)||void 0===r?void 0:r[i];if(a){const e=o(a,"td_skins");if(e)return e.display}return{goblin:"\ud83d\udc79",shieldbearer:"\ud83d\udee1\ufe0f",runner:"\ud83c\udfc3",healer:"\ud83d\udc89",flyer:"\ud83e\udd87",ogre:"\ud83d\udc79",siege_engine:"\ud83c\udfd7\ufe0f",necromancer:"\ud83e\uddd9",dragon:"\ud83d\udc09"}[i]||"\u2753"};return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Tower Defense"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Use your XP to build towers and defend your castle!"})]}),(0,vF.jsxs)("div",{className:"flex space-x-4",children:[(0,vF.jsx)("button",{onClick:()=>g(e=>u(u({},e),{},{shopOpen:!e.shopOpen})),className:"bg-purple-600 text-white px-5 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:m.shopOpen?"Close Shop":"Open Shop"}),(x||k)&&(0,vF.jsx)("button",{onClick:a,className:"bg-green-600 text-white px-5 py-2 rounded-lg hover:bg-green-700",children:k?"Play Again":"Try Again"})]})]}),(0,vF.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,vF.jsxs)("div",{className:"flex-grow",children:[(0,vF.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,vF.jsx)("span",{className:"text-slate-400",children:"Wave:"})," ",(0,vF.jsxs)("span",{className:"font-bold text-white",children:[y,"/50"]})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,vF.jsx)("span",{className:"text-slate-400",children:"Health:"})," ",(0,vF.jsxs)("span",{className:"font-bold text-red-400",children:[T,"/5"]})]}),"            ",(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,vF.jsx)("span",{className:"text-slate-400",children:"XP:"})," ",(0,vF.jsx)("span",{className:"font-bold text-yellow-400",children:n.totalXP})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,vF.jsx)("span",{className:"text-slate-400",children:"Wins:"})," ",(0,vF.jsx)("span",{className:"font-bold text-green-400",children:S})]})]}),(0,vF.jsxs)("div",{className:"p-2 bg-slate-900/50 border border-slate-700 rounded-lg inline-block relative",children:[(()=>{const e=f.waveInProgress?f.towers:E;return U.map((t,n)=>(0,vF.jsx)("div",{className:"flex",children:t.map((t,r)=>{var i,a;const o=e.find(e=>e.x===r&&e.y===n),s=o&&Date.now()-o.lastAttack<300;return(0,vF.jsx)("div",{onClick:()=>((e,t)=>{if(f.waveInProgress||x||k)return;if(w.some(n=>n.x===e&&n.y===t))return;const n=E.find(n=>n.x===e&&n.y===t);g(r=>u(u({},r),{},{selectedTile:{x:e,y:t},selectedTower:n||null}))})(r,n),className:"w-10 h-10 border border-slate-600 flex items-center justify-center relative ".concat(w.some(e=>e.x===r&&e.y===n)?"bg-slate-700":"bg-slate-800"," ").concat((null===(i=m.selectedTile)||void 0===i?void 0:i.x)===r&&(null===(a=m.selectedTile)||void 0===a?void 0:a.y)===n?"ring-2 ring-indigo-500":""),children:o&&(0,vF.jsx)("div",{className:"text-lg transition-transform duration-200 ".concat(s?"tower-attack":""),children:G(o.id)})},r)})},n))})(),(0,vF.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[(f.enemies||[]).map(e=>{if(e.progress<0)return null;const t=40*e.y+20,n=40*e.x+20,r=e.id.split("_")[0],i=z.normal.find(e=>e.id===r)||z.juggernaut.find(e=>e.id===r),a=i?i.health:10;return(0,vF.jsxs)("div",{className:"absolute z-10 ".concat(e.justHit?"enemy-hit-animation":""),style:{top:"".concat(t,"px"),left:"".concat(n,"px"),transform:"translate(-50%, -50%)"},children:[(0,vF.jsx)("div",{className:"text-lg",children:W(e.id)}),(0,vF.jsx)("div",{className:"absolute -bottom-2 left-0 right-0 h-1 w-6 mx-auto bg-slate-600",children:(0,vF.jsx)("div",{className:"h-full bg-red-500",style:{width:"".concat(e.health/a*100,"%")}})})]},e.id)}),(f.soldiers||[]).map(e=>{const t=40*e.y+20,n=40*e.x+20,r=Math.max(0,(e.despawnTime-Date.now())/2e4);return(0,vF.jsxs)("div",{className:"absolute z-10 transition-opacity duration-500",style:{top:t,left:n,transform:"translate(-50%, -50%)",opacity:r<.25?.5:1},children:[(0,vF.jsx)("div",{className:"text-lg",children:"\u2694\ufe0f"}),(0,vF.jsx)("div",{className:"absolute -bottom-2 left-0 right-0 h-1 w-6 mx-auto bg-slate-600",children:(0,vF.jsx)("div",{className:"h-full bg-green-500",style:{width:"".concat(e.health/20*100,"%")}})})]},e.id)}),f.projectiles.map(e=>(0,vF.jsx)(cU,{from:e.from,to:e.to,type:e.type},e.id))]})]}),(0,vF.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,vF.jsx)("button",{onClick:()=>{if(f.waveInProgress||x||k)return;const e=y+1,t=V(e);let n={td_wave:e,"cooldowns.startWave":em()};e%3===0?(n.td_towers=E,n.td_towerUpgrades=C,i("Checkpoint reached! Tower configuration saved (Wave ".concat(e,")."),"info",3e3)):i("Starting Wave ".concat(e,". Next checkpoint at Wave ").concat(3*Math.ceil(e/3),"."),"info",1500),r(n),p(e=>u(u({},e),{},{waveInProgress:!0,enemies:t,towers:[...E],soldiers:[],projectiles:[]})),g(e=>u(u({},e),{},{selectedTile:null,selectedTower:null}))},disabled:f.waveInProgress||x||k,className:"flex-grow px-4 py-3 rounded-lg text-lg font-bold transition-colors ".concat(f.waveInProgress||x||k?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:f.waveInProgress?"Wave In Progress":0===y?"Start Wave 1":"Start Wave ".concat(y+1)}),(0,vF.jsxs)("button",{onClick:()=>h(e=>1===e?2:1),className:"w-24 bg-slate-700 text-white font-bold rounded-lg hover:bg-slate-600",children:["SPEED x",d]})]})]}),(0,vF.jsx)("div",{className:"w-full lg:w-80 flex-shrink-0",children:(0,vF.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 p-4 rounded-2xl sticky top-6",children:[(0,vF.jsx)("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:m.selectedTile&&!E.some(e=>e.x===m.selectedTile.x&&e.y===m.selectedTile.y)?"Build Tower":m.selectedTile?"Tower Control":"Select a Tile"}),(()=>{if(!m.selectedTile)return null;const e=E.find(e=>e.x===m.selectedTile.x&&e.y===m.selectedTile.y);if(e)return(0,vF.jsxs)("div",{className:"text-white",children:[(0,vF.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.name}),(0,vF.jsxs)("p",{children:["Damage: ",e.damage]}),(0,vF.jsxs)("p",{children:["Range: ",e.range]}),(0,vF.jsxs)("p",{children:["Attack Speed: ",e.attackSpeed,"/s"]}),(0,vF.jsxs)("div",{className:"mt-4",children:[(0,vF.jsx)("h4",{className:"font-bold mb-2",children:"Upgrades"}),(L[e.id.split("_")[0]]||[]).map(t=>{var a;const o=null===(a=C[e.id])||void 0===a?void 0:a.includes(t.id);return(0,vF.jsxs)("div",{className:"mb-2 p-2 bg-slate-700/50 rounded",children:[(0,vF.jsx)("p",{className:"font-medium",children:t.name}),(0,vF.jsxs)("p",{className:"text-sm text-slate-400",children:["Cost: ",t.cost," XP"]}),(0,vF.jsx)("button",{onClick:()=>((e,t)=>{n.totalXP<t.cost?i("Not enough XP for this upgrade!","error"):(N(n=>n.map(n=>n.id!==e?n:u(u({},n),t.effect))),j(n=>u(u({},n),{},{[e]:[...n[e]||[],t.id]})),r({totalXP:n.totalXP-t.cost}),i("Upgraded tower with ".concat(t.name,"!"),"info"))})(e.id,t),disabled:o||n.totalXP<t.cost,className:"mt-1 px-2 py-1 text-sm rounded w-full ".concat(o?"bg-green-800":n.totalXP>=t.cost?"bg-indigo-600 hover:bg-indigo-700":"bg-slate-600 text-slate-400"),children:o?"Purchased":"Buy Upgrade"})]},t.id)})]}),(0,vF.jsxs)("button",{onClick:B,className:"mt-2 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 w-full",children:["Sell for ",Math.floor(e.cost*(H.sellRefund||.15))," XP"]})]});const t=[...R.free,..._.map(e=>R.unlockable.find(t=>t.id===e)).filter(Boolean),...R.dungeon_unlockable.filter(e=>(n.dungeon_floor||0)>=e.floorRequired)];return(0,vF.jsxs)("div",{className:"text-white",children:[(0,vF.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Select Tower"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 gap-2",children:t.map(e=>(0,vF.jsxs)("button",{onClick:()=>(e=>{if(!m.selectedTile||n.totalXP<e.cost)return;const t=u(u({},e),{},{id:"".concat(e.id,"_").concat(Date.now()),x:m.selectedTile.x,y:m.selectedTile.y,lastAttack:0});r({totalXP:n.totalXP-e.cost}),N(e=>[...e,t]),g(e=>u(u({},e),{},{selectedTile:null,selectedTower:null}))})(e),disabled:n.totalXP<e.cost,className:"p-2 rounded-md flex flex-col items-center ".concat(n.totalXP<e.cost?"bg-slate-700 text-slate-500":"bg-slate-700 hover:bg-slate-600"),children:[(0,vF.jsx)("span",{className:"text-2xl",children:G(e.id)}),(0,vF.jsx)("span",{children:e.name}),(0,vF.jsxs)("span",{className:"text-sm text-yellow-400",children:[e.cost," XP"]})]},e.id))})]})})()]})})]}),x&&(0,vF.jsxs)("div",{className:"mt-4 p-4 bg-red-500/30 text-red-300 border border-red-500 rounded-lg",children:[(0,vF.jsx)("p",{className:"font-bold text-lg",children:"Game Over!"}),(0,vF.jsxs)("p",{children:["Your castle was destroyed on wave ",y,"."]})]}),k&&(0,vF.jsxs)("div",{className:"mt-4 p-4 bg-green-500/30 text-green-300 border border-green-500 rounded-lg",children:[(0,vF.jsx)("p",{className:"font-bold text-lg",children:"Victory!"}),(0,vF.jsx)("p",{children:"You successfully defended your castle against all 50 waves!"})]}),m.shopOpen&&(0,vF.jsxs)("div",{className:"mt-6",children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Shop"}),(0,vF.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"unlock_fire",name:"Unlock Fire Tower",cost:500,winsRequired:5,unlocks:"fire"},{id:"unlock_tesla",name:"Unlock Tesla",cost:800,winsRequired:8,unlocks:"tesla"},{id:"unlock_poison",name:"Unlock Poison Tower",cost:650,winsRequired:6,unlocks:"poison"},{id:"unlock_sniper",name:"Unlock Sniper",cost:1e3,winsRequired:10,unlocks:"sniper"},{id:"unlock_dragon",name:"Unlock Dragon",cost:2e3,winsRequired:15,unlocks:"dragon"}].map(e=>(0,vF.jsxs)("div",{className:"p-4 bg-slate-800/80 rounded-lg shadow-lg border border-slate-700",children:[(0,vF.jsx)("h4",{className:"font-bold text-white",children:e.name}),(0,vF.jsxs)("p",{className:"text-slate-400 text-sm",children:["Cost: ",e.cost," XP | Wins Required: ",e.winsRequired]}),(0,vF.jsx)("button",{onClick:()=>(e=>{n.totalXP<e.cost||S<e.winsRequired||(r({totalXP:n.totalXP-e.cost,td_unlockedTowers:[..._,e.unlocks]}),i("Unlocked ".concat(e.name,"!"),"info"))})(e),disabled:_.includes(e.unlocks)||n.totalXP<e.cost||S<e.winsRequired,className:"mt-2 w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(_.includes(e.unlocks)?"bg-green-500/20 text-green-400":n.totalXP<e.cost||S<e.winsRequired?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:_.includes(e.unlocks)?"Purchased":"Buy"})]},e.id))})]})]})},gU=e=>{let{gameProgress:t}=e;const n=Object.entries(QF),r=t.achievements||{};return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"mb-6",children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Achievements"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Track your long-term progress and earn rewards for your dedication."})]}),(0,vF.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>{var t;let[n,i]=e;const a=r[n]||{tier:0,progress:0},o=a.tier,s=i.tiers[o],l=i.tiers[i.tiers.length-1],c=!s;let u=0,d="",h="",f=c?l.name:(null===(t=i.tiers[o-1])||void 0===t?void 0:t.name)||"Unranked";return c?(u=100,d="Completed!",h="All tiers of ".concat(i.name," complete.")):(u=Math.min(100,a.progress/s.goal*100),d="".concat(a.progress," / ").concat(s.goal),h="Next: ".concat(s.reward.xp," XP")+(s.reward.shards?" & ".concat(s.reward.shards,"\ud83d\udc8e"):"")),(0,vF.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 p-5 rounded-2xl shadow-lg flex flex-col transition-all duration-300 ".concat(c?"opacity-60 bg-slate-800":""),children:[(0,vF.jsxs)("div",{className:"flex items-start gap-4",children:[(0,vF.jsx)("span",{className:"text-4xl pt-1",children:i.icon}),(0,vF.jsxs)("div",{className:"flex-1",children:[(0,vF.jsx)("h3",{className:"font-bold text-lg ".concat(c?"text-yellow-400":"text-white"),children:i.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400",children:c?"Mastered":"Current Tier: ".concat(f)})]})]}),(0,vF.jsxs)("div",{className:"mt-4 flex-grow",children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-400 mb-1",children:[(0,vF.jsx)("span",{children:c?"Mastered":s.name}),(0,vF.jsx)("span",{className:"font-mono",children:d})]}),(0,vF.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:(0,vF.jsx)("div",{className:"h-2.5 rounded-full transition-width duration-500 ".concat(c?"bg-yellow-500":"bg-indigo-500"),style:{width:"".concat(u,"%")}})})]}),(0,vF.jsx)("p",{className:"text-xs text-slate-300 mt-2 text-center h-4",children:h})]},n)})})]})},yU=e=>{var n;let{isOpen:r,onClose:i,assignments:a,triageSettings:o,onCompleteTriage:s,onSaveSettings:l}=e;const[c,d]=(0,t.useState)(o?"triage":"setup"),[h,f]=(0,t.useState)(null!==(n=null===o||void 0===o?void 0:o.triageDay)&&void 0!==n?n:1),p={urgent_important:[],not_urgent_important:[],urgent_not_important:[],not_urgent_not_important:[],unassigned:a},[m,g]=(0,t.useState)(p),[y,v]=(0,t.useState)(null);(0,t.useEffect)(()=>{r&&(d(o?"triage":"setup"),g({urgent_important:[],not_urgent_important:[],urgent_not_important:[],not_urgent_not_important:[],unassigned:a}))},[r,a,o]);const b=(e,t)=>{v({item:e,sourceQuadrant:t})},w=e=>{if(!y)return;const{item:t,sourceQuadrant:n}=y,r=m[n].filter(e=>e.id!==t.id),i=[...m[e],t];g(t=>u(u({},t),{},{[n]:r,[e]:i})),v(null)};return r?(0,vF.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[60] p-4",onClick:i,children:(0,vF.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-xl w-full max-w-7xl h-[90vh] flex flex-col text-white",onClick:e=>e.stopPropagation(),children:[(0,vF.jsx)("h3",{className:"text-3xl font-bold p-6 text-center border-b border-slate-700",children:"setup"===c?"Setup Your Weekly Triage":"Weekly Triage"}),"setup"===c?(0,vF.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center p-8 text-center",children:[(0,vF.jsx)("h4",{className:"text-2xl font-semibold text-indigo-300",children:"Choose Your Planning Day"}),(0,vF.jsx)("p",{className:"text-slate-400 max-w-lg mx-auto my-4",children:'Select one day each week to plan your assignments. Completing this ritual grants the week-long "Clarity" buff.'}),(0,vF.jsx)("div",{className:"flex flex-wrap justify-center gap-3 my-6",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((e,t)=>(0,vF.jsx)("button",{onClick:()=>f(t),className:"px-5 py-3 rounded-lg font-semibold transition-colors ".concat(h===t?"bg-indigo-600 text-white":"bg-slate-700 hover:bg-slate-600"),children:e},e))}),(0,vF.jsx)("button",{onClick:()=>{l({triageDay:h}),d("triage")},className:"px-10 py-4 bg-green-600 text-white font-bold rounded-lg text-xl hover:bg-green-700",children:"Save & Start First Triage"})]}):(0,vF.jsxs)("div",{className:"flex-grow flex flex-col md:flex-row p-4 gap-4 overflow-hidden",children:[(0,vF.jsxs)("div",{className:"w-full md:w-1/4 flex flex-col bg-slate-800/50 rounded-lg p-4",children:[(0,vF.jsxs)("h4",{className:"text-xl font-semibold text-center mb-4",children:["Upcoming Assignments (",m.unassigned.length,")"]}),(0,vF.jsx)("div",{onDragOver:e=>e.preventDefault(),onDrop:()=>w("unassigned"),className:"flex-grow overflow-y-auto space-y-2 pr-2",children:m.unassigned.map(e=>{var t;return(0,vF.jsxs)("div",{draggable:!0,onDragStart:()=>b(e,"unassigned"),className:"p-3 bg-slate-700 rounded-md cursor-grab active:cursor-grabbing",children:[(0,vF.jsx)("p",{className:"font-semibold",children:e.assignment}),(0,vF.jsxs)("p",{className:"text-xs text-slate-400",children:[e.class," - Due: ",null===(t=e.dueDate)||void 0===t?void 0:t.toLocaleDateString()]})]},e.id)})})]}),(0,vF.jsx)("div",{className:"flex-grow grid grid-cols-2 grid-rows-2 gap-4",children:Object.entries({urgent_important:{title:"Urgent & Important",color:"border-red-500"},not_urgent_important:{title:"Important, Not Urgent",color:"border-blue-500"},urgent_not_important:{title:"Urgent, Not Important",color:"border-yellow-500"},not_urgent_not_important:{title:"Not Urgent or Important",color:"border-slate-500"}}).map(e=>{let[t,{title:n,color:r}]=e;return(0,vF.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:()=>w(t),className:"bg-slate-800/50 rounded-lg p-4 flex flex-col border-t-4 ".concat(r),children:[(0,vF.jsx)("h5",{className:"font-bold text-center mb-2",children:n}),(0,vF.jsx)("div",{className:"flex-grow overflow-y-auto space-y-2 pr-2",children:m[t].map(e=>(0,vF.jsxs)("div",{draggable:!0,onDragStart:()=>b(e,t),className:"p-3 bg-slate-700 rounded-md cursor-grab active:cursor-grabbing",children:[(0,vF.jsx)("p",{className:"font-semibold",children:e.assignment}),(0,vF.jsx)("p",{className:"text-xs text-slate-400",children:e.class})]},e.id))})]},t)})})]}),"triage"===c&&(0,vF.jsx)("div",{className:"p-4 border-t border-slate-700 text-right",children:(0,vF.jsx)("button",{onClick:()=>{const e=[];for(const t in m)"unassigned"!==t&&m[t].forEach(n=>{e.push({id:n.id,priorityQuadrant:t})});s(e),i()},disabled:m.unassigned.length>0,className:"px-8 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-slate-600 disabled:cursor-not-allowed",children:"Finalize Plan & Get Buff"})})]})}):null},vU=()=>(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"mb-6",children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Why I Built This"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"The story and motivation behind the project."})]}),(0,vF.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl p-8 max-w-4xl mx-auto",children:(0,vF.jsxs)("div",{className:"text-slate-300 space-y-6 prose prose-invert max-w-none",children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"My Motivation"}),(0,vF.jsx)("p",{children:"[Your opening paragraph goes here. Explain the initial problem or the idea that sparked this project. What were you trying to solve for yourself or for others?]"}),(0,vF.jsx)("p",{children:"[Add another paragraph if needed to elaborate on the background or the challenges you faced before starting.]"}),(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"The Journey & The Goal"}),(0,vF.jsx)("p",{children:"[Describe the process of building this application. What were some key decisions you made? What features are you most proud of?]"}),(0,vF.jsxs)("ul",{className:"list-disc list-inside space-y-2",children:[(0,vF.jsx)("li",{children:"[A key feature or lesson learned during development.]"}),(0,vF.jsx)("li",{children:"[Another interesting fact or challenge you overcame.]"}),(0,vF.jsx)("li",{children:"[What you hope users will achieve by using this tool.]"})]}),(0,vF.jsx)("p",{children:"[Your closing thoughts here. You can thank the user for checking out your project or share what you hope they get out of the experience.]"})]})})]}),bU={locations:[{id:"genesis_prime",name:"Genesis Prime",type:"planet",iconAsset:Zz,position:{top:"50%",left:"10%"},description:"A lush, green terrestrial world. The perfect starting point for any academic journey."},{id:"luna_minor",name:"Luna Minor",type:"moon",iconAsset:tF,position:{top:"35%",left:"20%"},description:"The small, rocky moon of Genesis Prime."},{id:"ryzen_outpost",name:"Ryzen Outpost",type:"station",iconAsset:nF,position:{top:"65%",left:"22%"},description:"A bustling trade hub in the asteroid belt."},{id:"planet_pyro",name:"Planet Pyro",type:"planet",iconAsset:$z,position:{top:"50%",left:"35%"},description:"A volcanic world with intense heat and pressure."},{id:"helios_nebula",name:"Helios Nebula",type:"nebula",iconAsset:aF,position:{top:"20%",left:"45%"},description:"A beautiful but treacherous gas cloud."},{id:"planet_cryo",name:"Planet Cryo",type:"planet",iconAsset:rF,position:{top:"80%",left:"45%"},description:"An ice-covered planet with a mysterious sub-surface ocean."},{id:"aetheria",name:"Aetheria",type:"planet",iconAsset:Jz,position:{top:"50%",left:"65%"},description:"A gas giant with swirling, colorful clouds."},{id:"eris_moon",name:"Eris Moon",type:"moon",iconAsset:iF,position:{top:"65%",left:"78%"},description:"The chaotic, tidally-locked moon of Aetheria."},{id:"terminus",name:"Terminus",type:"planet",iconAsset:eF,position:{top:"30%",left:"85%"},description:"A dark, foreboding world at the edge of the system."}],routes:[{id:"r1",from:"genesis_prime",to:"luna_minor",duration:25,xpReward:100},{id:"r2",from:"genesis_prime",to:"ryzen_outpost",duration:45,xpReward:180},{id:"r3",from:"ryzen_outpost",to:"planet_pyro",duration:60,xpReward:250},{id:"r4",from:"planet_pyro",to:"helios_nebula",duration:80,xpReward:350},{id:"r5",from:"planet_pyro",to:"planet_cryo",duration:80,xpReward:350},{id:"r6",from:"helios_nebula",to:"aetheria",duration:100,xpReward:450},{id:"r7",from:"planet_cryo",to:"aetheria",duration:100,xpReward:450},{id:"r8",from:"aetheria",to:"eris_moon",duration:45,xpReward:200},{id:"r9",from:"aetheria",to:"terminus",duration:120,xpReward:600}]},wU=e=>{var n,r,i,a;let{stats:o,completedAssignments:s,updateStatsInFirestore:l,showMessageBox:c,getFullCosmeticDetails:d,getItemStyle:h,processAchievement:f}=e;const[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),[v,b]=(0,t.useState)(null),[w,x]=(0,t.useState)(null),[k,S]=(0,t.useState)(!1),[_,A]=(0,t.useState)(!1),[E,N]=(0,t.useState)(""),[C,j]=(0,t.useState)({x:1,y:1}),T=20,I=12,P=["The secret of getting ahead is getting started.","The only way to do great work is to love what you do.","Success is not final, failure is not fatal: it is the courage to continue that counts.","Don't watch the clock; do what it does. Keep going.","Believe you can and you're halfway there.","The future depends on what you do today.","Well done is better than well said."],O=d(null===o||void 0===o||null===(n=o.equippedItems)||void 0===n?void 0:n.wallpaper,"wallpapers"),M=(null===O||void 0===O?void 0:O.style)||{background:"linear-gradient(to bottom, #475569, #334155)"},D=e=>Object.values(LF).flat().find(t=>t.id===e),R=(null===o||void 0===o||null===(r=o.sanctumLayout)||void 0===r?void 0:r.placedItems)||[];(0,t.useEffect)(()=>{if(null!==o&&void 0!==o&&o.currentPet&&!p){const e=(e,t)=>R.some(n=>{const r=D(n.id);return!(!r||!r.isObstacle)&&(e>=n.x&&e<n.x+r.width&&t>=n.y&&t<n.y+r.height)}),t=setInterval(()=>{j(t=>{let n,r,i=0;do{n=Math.floor(Math.random()*T),r=Math.floor(Math.random()*I),i++}while(e(n,r)&&i<50);return i<50?{x:n,y:r}:t})},7e3);return()=>clearInterval(t)}},[null===o||void 0===o?void 0:o.currentPet,p,R]);const L=(0,t.useMemo)(()=>((null===o||void 0===o?void 0:o.ownedFurniture)||[]).map(e=>D(e)).filter(Boolean),[null===o||void 0===o?void 0:o.ownedFurniture]),z=e=>{l({sanctumLayout:u(u({},(null===o||void 0===o?void 0:o.sanctumLayout)||{placedItems:[]}),{},{placedItems:e})})};return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"My Sanctum"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Your personal space to decorate and display achievements."})]}),(0,vF.jsx)("button",{onClick:()=>p?(m(!1),y(null),x(null),void b(null)):m(!0),className:"px-5 py-2 rounded-lg font-semibold transition-colors z-30 ".concat(p?"bg-red-600 text-white hover:bg-red-700":"bg-indigo-600 text-white hover:bg-indigo-700"),children:p?"Exit Edit Mode":"Edit Sanctum"})]}),(0,vF.jsxs)("div",{className:"flex flex-col xl:flex-row gap-6",children:[(0,vF.jsxs)("div",{className:"flex-grow w-full bg-slate-900 border border-slate-700 rounded-2xl shadow-xl relative min-h-[500px] overflow-hidden",style:{perspective:"1200px"},children:[(0,vF.jsx)("div",{className:"absolute top-0 left-0 w-full h-[60%]",style:M}),(0,vF.jsxs)("div",{className:"absolute top-[60%] left-0 w-full h-full",style:{transform:"rotateX(60deg)",transformOrigin:"top center",transformStyle:"preserve-3d"},children:[(0,vF.jsx)("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:"repeat(".concat(T,", 1fr)"),gridTemplateRows:"repeat(".concat(I,", 1fr)")},onMouseLeave:()=>b(null),children:Array.from({length:240}).map((e,t)=>{const n=t%T,r=Math.floor(t/T);return(0,vF.jsx)("div",{onMouseEnter:()=>((e,t)=>{p&&g&&b({x:e,y:t})})(n,r),onClick:()=>((e,t)=>{if(p)if(g){const n=g,r={x:e,y:t,width:n.width,height:n.height};if(r.x+r.width>T||r.y+r.height>I)return void c("Item cannot be placed out of bounds.","error");if(R.some(e=>{const t=D(e.id);if(!t||!t.isObstacle)return!1;const n=e.x,i=e.y,a=t.width,o=t.height;return r.x<n+a&&r.x+r.width>n&&r.y<i+o&&r.y+r.height>i}))return void c("This space is occupied by an obstacle.","error");const i={instanceId:"".concat(n.id,"_").concat(Date.now()),id:n.id,x:e,y:t};z([...R,i]),f("furniturePlaced"),y(null),b(null)}else x(null)})(n,r),className:"border-r border-b border-slate-600/10 ".concat(p?"hover:bg-indigo-500/20":"")},t)})}),R.map(e=>u(u({},e),{},{def:D(e.id)})).filter(e=>e.def).sort((e,t)=>e.y+e.def.height-(t.y+t.def.height)).map(e=>(0,vF.jsxs)("div",{onClick:t=>((e,t)=>{e.stopPropagation(),p?(x(t),y(null),b(null)):t.id.includes("trophy_case")?S(!0):t.id.includes("computer_setup")&&(N(P[Math.floor(Math.random()*P.length)]),A(!0))})(t,e),className:"absolute transition-all duration-200 ".concat(p?"cursor-pointer hover:brightness-110":""," ").concat((null===w||void 0===w?void 0:w.instanceId)===e.instanceId?"ring-2 ring-red-500":""),style:{left:"".concat(e.x/T*100,"%"),top:"".concat(e.y/I*100,"%"),width:"".concat(e.def.width/T*100,"%"),height:"".concat(e.def.height/I*100,"%"),transform:"translateZ(5px)",transformStyle:"preserve-3d"},children:[(0,vF.jsx)("div",{className:"absolute bottom-[2%] left-1/2 -translate-x-1/2 w-4/5 h-2/5",style:{background:"rgba(0, 0, 0, 0.4)",borderRadius:"50%",filter:"blur(12px)",transform:"scaleY(0.4) translateZ(-1px)"}}),(0,vF.jsx)("div",{className:"w-full h-full drop-shadow-lg",style:{transform:"rotateX(-60deg)",transformOrigin:"bottom center"},dangerouslySetInnerHTML:{__html:e.def.display}})]},e.instanceId)),(null===o||void 0===o?void 0:o.currentPet)&&!p&&(0,vF.jsx)("div",{className:"absolute transition-all duration-1000 ease-in-out",style:{left:"".concat(C.x/T*100,"%"),top:"".concat(C.y/I*100,"%"),width:"".concat(5,"%"),height:"".concat(1/I*100,"%"),transform:"translateZ(10px)",zIndex:50},children:(0,vF.jsx)("div",{className:"w-full h-full text-2xl",style:{transform:"rotateX(-60deg) scale(1.5)",transformOrigin:"bottom center"},children:o.currentPet.display})}),p&&v&&g&&(0,vF.jsx)("div",{className:"absolute bg-green-500/30 border-2 border-dashed border-green-400 pointer-events-none",style:{left:"".concat(v.x/T*100,"%"),top:"".concat(v.y/I*100,"%"),width:"".concat(g.width/T*100,"%"),height:"".concat(g.height/I*100,"%"),zIndex:999}})]})]}),p&&(0,vF.jsx)("div",{className:"xl:w-80 flex-shrink-0",children:(0,vF.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-4 flex flex-col gap-4",children:w?(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:null===(i=D(w.id))||void 0===i?void 0:i.name}),(0,vF.jsxs)("p",{className:"text-sm text-slate-400 capitalize mb-3",children:["Rarity: ",null===(a=D(w.id))||void 0===a?void 0:a.rarity]}),(0,vF.jsx)("button",{onClick:()=>{if(!w)return;const e=R.filter(e=>e.instanceId!==w.instanceId);z(e),x(null)},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Remove Item"}),(0,vF.jsx)("button",{onClick:()=>x(null),className:"w-full mt-2 bg-slate-600 text-white px-4 py-2 rounded-md hover:bg-slate-500",children:"Deselect"})]}):(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"My Furniture"}),(0,vF.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:g?"Placing: ".concat(g.name):"Select an item to place."}),(0,vF.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:[L.map(e=>(0,vF.jsxs)("div",{onClick:()=>(e=>{y(e),x(null)})(e),className:"bg-slate-700/80 p-3 rounded-lg flex items-center gap-3 cursor-pointer hover:bg-slate-700 ".concat((null===g||void 0===g?void 0:g.id)===e.id?"ring-2 ring-indigo-500":""),children:[(0,vF.jsx)("div",{className:"w-12 h-12 bg-slate-800 rounded flex-shrink-0 flex items-center justify-center p-1",dangerouslySetInnerHTML:{__html:e.display}}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("p",{className:"font-semibold text-white",children:e.name}),(0,vF.jsxs)("p",{className:"text-xs text-slate-400",children:[e.width,"x",e.height," | ",e.rarity]})]})]},e.id)),0===L.length&&(0,vF.jsx)("p",{className:"text-center text-slate-500",children:"Buy furniture from the shop!"})]})]})})})]}),k&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:()=>S(!1),children:(0,vF.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-xl p-8 w-full max-w-3xl max-h-[80vh] flex flex-col text-white",onClick:e=>e.stopPropagation(),children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold mb-6 text-center",children:"My Trophy Wall"}),(0,vF.jsx)("div",{className:"overflow-y-auto pr-2 space-y-4",children:s.length>0?s.map(e=>(0,vF.jsxs)("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[(0,vF.jsx)("p",{className:"font-bold text-lg text-yellow-400",children:e.assignment}),(0,vF.jsxs)("p",{className:"text-sm text-slate-300",children:["Class: ",e.class]}),(0,vF.jsxs)("p",{className:"text-sm text-slate-400",children:["Completed on: ",new Date(e.dateCompleted).toLocaleDateString()]})]},e.id)):(0,vF.jsx)("p",{className:"text-slate-400 text-center",children:"No trophies earned yet."})})]})}),_&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:()=>A(!1),children:(0,vF.jsxs)("div",{className:"bg-slate-800 border border-indigo-500 rounded-2xl shadow-xl p-8 w-full max-w-md text-white text-center",onClick:e=>e.stopPropagation(),children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold mb-4 text-indigo-300",children:"A Quick Byte of Motivation!"}),(0,vF.jsxs)("p",{className:"text-lg text-slate-300 mb-6",children:['"',E,'"']}),(0,vF.jsx)("button",{onClick:()=>A(!1),className:"bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700",children:"Close"})]})})]})},xU=e=>{let{isOpen:n,onClose:r,assignment:i,unlockedLocations:a,onLaunchMission:o}=e;const[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{l(null),d(null),f(null)},[n]);const p=e=>{const t=bU.locations.find(t=>t.id===e);return t?t.position:{top:0,left:0}};return n?(0,vF.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:r,children:(0,vF.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-xl w-full max-w-6xl h-[90vh] flex flex-col text-white",onClick:e=>e.stopPropagation(),children:[(0,vF.jsx)("h3",{className:"text-3xl font-bold p-6 text-center border-b border-slate-700",children:"Mission Control"}),(0,vF.jsxs)("div",{className:"flex-grow flex flex-col md:flex-row",children:[(0,vF.jsxs)("div",{className:"w-full md:w-1/4 p-6 border-r border-slate-700 flex flex-col",children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300",children:"Mission Briefing"}),(0,vF.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Focusing on:"}),(0,vF.jsx)("p",{className:"text-lg font-bold text-white mb-4",children:i.assignment}),(0,vF.jsxs)("div",{className:"mt-4",children:[(0,vF.jsx)("p",{className:"text-sm text-slate-400",children:"Departure:"}),(0,vF.jsx)("p",{className:"text-lg font-semibold ".concat(s?"text-green-400":"text-slate-500"),children:s?s.name:"Select a starting point"})]}),(0,vF.jsxs)("div",{className:"mt-2",children:[(0,vF.jsx)("p",{className:"text-sm text-slate-400",children:"Destination:"}),(0,vF.jsx)("p",{className:"text-lg font-semibold ".concat(c?"text-blue-400":"text-slate-500"),children:c?c.name:"Select a destination"})]}),h&&(0,vF.jsxs)("div",{className:"mt-auto bg-slate-800/50 p-4 rounded-lg",children:[(0,vF.jsx)("p",{className:"font-semibold",children:"Route Details:"}),(0,vF.jsxs)("p",{children:["Duration: ",(0,vF.jsxs)("span",{className:"font-bold text-cyan-400",children:[h.duration," minutes"]})]}),(0,vF.jsxs)("p",{children:["Reward: ",(0,vF.jsxs)("span",{className:"font-bold text-yellow-400",children:[h.xpReward," XP"]})," (Banked on completion)"]})]}),(0,vF.jsx)("div",{className:"mt-4 text-center text-xs text-yellow-400/80 p-2 bg-yellow-900/20 rounded-md border border-yellow-700/30",children:(0,vF.jsxs)("p",{children:[(0,vF.jsx)("strong",{children:"Heads Up:"})," The mission will fail if you leave or switch tabs. Stay focused, pilot!"]})}),(0,vF.jsx)("button",{onClick:()=>o(h),disabled:!h,className:"mt-4 w-full bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 disabled:bg-slate-700 disabled:text-slate-500 disabled:cursor-not-allowed transition-colors",children:"LAUNCH MISSION"})]}),(0,vF.jsxs)("div",{className:"flex-grow relative bg-cover bg-center",style:{backgroundImage:"url(".concat(Qz,")")},children:[(0,vF.jsx)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:bU.routes.map(e=>{const t=p(e.from),n=p(e.to),r=a.includes(e.from)||a.includes(e.to),i=h&&h.id===e.id;return(0,vF.jsx)("line",{x1:t.left,y1:t.top,x2:n.left,y2:n.top,stroke:i?"#34d399":r?"rgba(100, 116, 139, 0.5)":"rgba(71, 85, 105, 0.2)",strokeWidth:"2",strokeDasharray:i?"0":"5, 5"},e.id)})}),bU.locations.map(e=>{const t=a.includes(e.id),n=(null===s||void 0===s?void 0:s.id)===e.id,r=(null===c||void 0===c?void 0:c.id)===e.id;return(0,vF.jsxs)("div",{onClick:()=>(e=>{if(s){if(e.id===s.id)return l(null),d(null),void f(null);const t=bU.routes.find(t=>t.from===s.id&&t.to===e.id||t.from===e.id&&t.to===s.id);t?(d(e),f(t)):MF("No direct route to that location.","error")}else{if(!a.includes(e.id))return void MF("You must depart from an unlocked location.","error");l(e),d(null),f(null)}})(e),className:"absolute transform -translate-x-1/2 -translate-y-1/2 group",style:u({},e.position),children:[(0,vF.jsx)("img",{src:e.iconAsset,alt:e.name,className:"w-16 h-16 transition-all duration-200 ".concat(t?"cursor-pointer hover:scale-110":"filter grayscale opacity-50"," ").concat(n?"ring-4 ring-green-500 rounded-full":""," ").concat(r?"ring-4 ring-blue-500 rounded-full":"")}),(0,vF.jsxs)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max bg-slate-800 text-white text-sm px-3 py-1 rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[(0,vF.jsx)("p",{className:"font-bold",children:e.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400",children:e.description})]})]},e.id)})]})]})]})}):null},kU=e=>{let{mission:n,onMissionComplete:r,isMobile:i}=e;const[a,o]=(0,t.useState)(60*n.route.duration),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(15),d=(0,t.useRef)(null),[h,f]=(0,t.useState)(window.innerHeight>window.innerWidth);(0,t.useEffect)(()=>{if(!i)return;const e=()=>{f(window.innerHeight>window.innerWidth)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[i]);const p=(60*n.route.duration-a)/(60*n.route.duration),m=5+90*p,g=-40*Math.sin(p*Math.PI);return(0,t.useEffect)(()=>{const e=setInterval(()=>{o(t=>t<=1?(clearInterval(e),r(!0),0):t-1)},1e3);return()=>clearInterval(e)},[r]),(0,t.useEffect)(()=>{const e=()=>{document.hidden?(l(!0),d.current=setInterval(()=>{u(e=>e<=1?(clearInterval(d.current),r(!1),0):e-1)},1e3)):(l(!1),u(15),clearInterval(d.current))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e),clearInterval(d.current)}},[r]),(0,vF.jsxs)("div",{className:"fixed inset-0 bg-black z-[100] flex items-center justify-center",children:[i&&h&&(0,vF.jsxs)("div",{className:"absolute inset-0 bg-black/95 flex flex-col items-center justify-center z-[100] text-white text-center p-4",children:[(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,vF.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,vF.jsx)("h3",{className:"text-2xl font-bold",children:"Please Rotate Your Device"}),(0,vF.jsx)("p",{className:"text-slate-400 mt-2",children:"For the best experience, please use landscape mode."})]}),(0,vF.jsxs)("div",{className:"relative w-full max-w-[1920px] ".concat(i&&h?"invisible":""),style:{aspectRatio:"1920 / 1080"},children:[(0,vF.jsx)("video",{src:oF,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute top-0 left-0 w-full h-full object-cover"}),(0,vF.jsx)("img",{src:Kz,alt:"Cockpit View",className:"absolute top-0 left-0 w-full h-full object-contain pointer-events-none z-10"}),(0,vF.jsx)("div",{className:"absolute z-0 pointer-events-none",style:{top:"23%",left:"33%",width:"34%",height:"40%"},children:(0,vF.jsx)("div",{className:"absolute top-1/2",style:{left:"".concat(m,"%"),transform:"translate(-50%, -50%) translateY(".concat(g,"px)")},children:(0,vF.jsx)("img",{src:sF,alt:"Scholar Ship",className:"w-10 h-10"})})}),(0,vF.jsx)("div",{className:"absolute z-20",style:{top:"68.2%",left:"33.8%",width:"14%",height:"14%"},children:(0,vF.jsx)("div",{className:"relative w-full h-full p-2 flex flex-col justify-center font-mono bg-black/20 rounded-md",children:(0,vF.jsxs)("div",{style:{textShadow:"0 0 8px rgba(0, 255, 255, 0.9)"},children:[(0,vF.jsx)("p",{className:"text-cyan-300 text-[10px] leading-tight",children:"MISSION OBJECTIVE"}),(0,vF.jsx)("p",{className:"text-white text-xs leading-tight truncate",children:n.assignmentName}),(0,vF.jsx)("p",{className:"text-cyan-300 text-[10px] mt-1 leading-tight",children:"TIME REMAINING"}),(0,vF.jsx)("p",{className:"text-white text-3xl font-bold leading-none",children:(e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0")))(a)})]})})}),(0,vF.jsx)("div",{className:"absolute z-20 flex items-center justify-center",style:{top:"68%",left:"50%",width:"8%",height:"12%",transform:"translateX(-50%)"},children:(0,vF.jsxs)("button",{onClick:()=>r(!1),className:"w-[95%] h-[95%] bg-red-900/80 text-white font-bold flex flex-col items-center justify-center rounded-md border-2 border-red-700/80 hover:bg-red-800 transition-colors",children:[(0,vF.jsx)("span",{className:"text-xl leading-none font-mono",children:"ABANDON"}),(0,vF.jsx)("span",{className:"text-lg leading-none font-mono",children:"MISSION"})]})}),(0,vF.jsx)("div",{className:"absolute z-20 flex items-center font-mono",style:{top:"89%",left:"50%",width:"16%",height:"1.5%",transform:"translateX(-50%)"},children:(0,vF.jsx)("div",{className:"w-full h-full bg-black/50 border border-cyan-700/50 rounded-sm p-0.5",children:(0,vF.jsx)("div",{className:"h-full bg-cyan-400 rounded-sm",style:{width:"".concat(100*p,"%"),transition:"width 1s linear"}})})})]}),s&&(0,vF.jsxs)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex flex-col items-center justify-center z-50",children:[(0,vF.jsx)("h3",{className:"text-4xl font-bold text-yellow-400",children:"MISSION PAUSED"}),(0,vF.jsx)("p",{className:"text-6xl font-mono my-4",children:c}),(0,vF.jsx)("p",{className:"text-slate-400 mb-6",children:"Return to this tab before the timer runs out!"})]})]})},SU=e=>{let{stats:n,updateStatsInFirestore:r}=e;const[i,a]=(0,t.useState)(null),o=null===n||void 0===n?void 0:n.alchemy_state;if(!o)return(0,vF.jsx)("div",{children:"Loading Alchemist's Workshop..."});const s=()=>a(null);return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white font-['Cinzel_Decorative']",children:"Alchemist's Workshop"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Brew potions to sell or use as powerful buffs in other games."})]}),(0,vF.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 px-4 py-2 rounded-lg",children:(0,vF.jsxs)("span",{className:"text-yellow-400 font-bold text-lg",children:["\ud83d\udcb0 ",o.gold||0," Gold"]})})]}),(0,vF.jsxs)("div",{className:"relative w-full max-w-5xl mx-auto aspect-[3/2] bg-slate-900 rounded-2xl shadow-xl border border-slate-700 overflow-hidden",children:[(0,vF.jsx)("div",{className:"absolute inset-0 bg-contain bg-no-repeat bg-center",style:{backgroundImage:"url(".concat(cF,")")}}),(0,vF.jsx)("div",{className:"absolute pointer-events-none",style:{top:"75%",left:"85%",width:"15%",height:"15%",backgroundImage:"url(".concat("data:image/png;base64,UklGRtgEAABXRUJQVlA4TMsEAAAvmcF5EAfBOAAAI8ds2+2/BEfo38v9vQabAACTbMPdPYJDQ4pQxzNoALdzbGTbakLOqaNlaGENdi7FfTu2djnr/MeP/34IhV4CUADdx8XO7ODFklGsCK/IgU3IJYW9CyXHgHSovUpTAm7NhvpG/45tWmc+GMcXVxHzcFgfaIoblmvxGNP0SVP0tnXUly1IcCRJkaSthZ5ZZub/vzNTAdVzfBHRf0luI0mSJH0gMt26Z8Zjy7l+/+/ewZgiGdU9wOtqE43Qx9CqCcINIxKNZAdS5GutyLBvqg1vgFmProBukYwgLYfratYD6RBQi51vtCLDpuJD/YjGGH4CgoAUh6KLxnwiP6Ixhp+SIFD1d9HMYE8YhH3AaIYtCCbfGMXsVy8Am2ho4pOtcJ32dDOfCOJl1NfVY8Drqjg+IQtq7+zNGqQQ5xoZtjg+mkZFbmJTvWFcF5uqGGpdtjg+4kZFXOKhugFcBcjDPlSHxL0qclMrEg0qPq5GRVzisHpf/apuGNVlZ7yvPlQPqw1LldpkTH0cBHUIFrVvWNOoCDbMHw3AL8aN1gfGwyoShC0g0nKgVnxTpyxrPlWJalQEKJC3e8iIZOSe8ZCRKsVSpXoPFFSjAlnNbW9UhCPs30F/qBWpABWErUTNEml7o4L6Vl9NNJA3k4lA3iW1nhpZGY2MjRr2qN5VR9WeEc3KaGpIVI40c+PvgE00ohDP1WYkyFQ2UmRqqfUDIPKMT9W7KpWRU5ODUXPnz5D4Xo1CIE/zVG1Gcl9tBomcYYygOVdYEw1xRrZVW1gkvgIiQTirNrxUExDU+0bKhbQlkPiIh63BlhGTXf0ZkbGdVbuxAeYdqMtkqIw8MXLtBK0U82TERdc8AKQaDM1ImowkHwCbXbDijAxGTbWHySY+E2aEmrimokEFIe/QDOfIpL0/QQXhkvGccZ65cfEe3DOtSOsi77AwbgG5ra5uL6tXVaTs9mjYM/JafTeJzHJHIezXy2iaB9Qgr6qXjCeAmmiIMzJPNKhlBzEHVxBck9LUkE6qTTSm7kaY7I6zcht8cK2eRhoDVLm41DDusG7EM6BmXTZVxPSCtQlBdRo+qp9VpEo7rBvxWXVFw74uGzn1OSWBRMPejbBHoxnJJ+NH1YW9UYG0JaIQmmistBvBlR2QCgLCKqJxWw0+HDEi/4GzVXQjXGV33e+attCcT2zvRqyi7M0xyZo7YP1F1hqFOKhqDioWR8Nedvs37a4rI3EIRzTsa65XUfaZM4LMjVNNiDiEIxpURsS35VDDXiS6WLRSGXk2+VhNQQiXWkP9CUZ7SU/nU5yahtsq1U7QjC0OYelPMA6Ty8QOrRTQSAADErP1J0yOiXU9vqjIErMO63Pmuq0iaxSP1VuJzXrqrMOK1ezcXVfvQby3mJrTFrccIhVQ2Rkp5mk5UFAHXIlnuTW9h6jDCtsJ4iA0UAcVa1iqTW2piLmgprupIQUoNGUXFxC6Eker+EHsO3eRBgN1GnGkAin7PAU8kjhPxJBZbtfFqkkKV/2HRCRiW4mu7bkaxNEQByElIS675mVMiPhhqVOjqIy4ghCTkDjho7k+btf+hl0ZoYIQkNgJ1+aI5893z49FtGNXGNYQ37maItF8g0N6RGuy4d9FvwEA",")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",transform:"translate(-50%, -50%)"}}),(0,vF.jsx)("div",{className:"absolute pointer-events-none",style:{top:"80%",left:"30%",width:"15%",height:"15%",backgroundImage:"url(".concat(uF,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",transform:"translate(-50%, -50%)"}}),(0,vF.jsx)("div",{className:"absolute cursor-pointer group",style:{top:"42%",left:"13%",width:"10%",height:"50%"},onClick:()=>a("shop"),children:(0,vF.jsx)("div",{className:"absolute inset-0 bg-yellow-500/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",title:"Open Shop"})}),(0,vF.jsx)("div",{className:"absolute cursor-pointer group",style:{top:"75%",left:"25%",width:"10%",height:"15%"},onClick:()=>a("cauldron"),children:(0,vF.jsx)("div",{className:"absolute inset-0 bg-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",title:"Use Cauldron"})}),(0,vF.jsx)("div",{className:"absolute cursor-pointer group",style:{top:"70%",left:"81%",width:"9%",height:"12%"},onClick:()=>a("bench"),children:(0,vF.jsx)("div",{className:"absolute inset-0 bg-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",title:"Use Alchemy Bench"})}),(0,vF.jsx)("div",{className:"absolute cursor-pointer group",style:{top:"36%",left:"91%",width:"8%",height:"20%"},onClick:()=>a("garden"),children:(0,vF.jsx)("div",{className:"absolute inset-0 bg-green-500/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",title:"Go to Garden"})}),(0,vF.jsx)("div",{className:"absolute cursor-pointer group",style:{top:"60%",left:"10%",width:"10%",height:"25%"},onClick:()=>a("bookshelf_left"),children:(0,vF.jsx)("div",{className:"absolute inset-0 bg-cyan-500/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",title:"Check Bookshelf"})}),(0,vF.jsx)("div",{className:"absolute cursor-pointer group",style:{top:"40%",left:"72%",width:"12%",height:"25%"},onClick:()=>a("bookshelf_right"),children:(0,vF.jsx)("div",{className:"absolute inset-0 bg-cyan-500/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",title:"Check Bookshelf"})})]}),"garden"===i&&(0,vF.jsx)(_U,{stats:n,updateStatsInFirestore:r,onClose:s}),"cauldron"===i&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",onClick:s,children:(0,vF.jsx)("div",{className:"bg-slate-800 p-8 rounded-lg",onClick:e=>e.stopPropagation(),children:"Cauldron Modal Coming Soon (For Brewing)"})}),"bench"===i&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",onClick:s,children:(0,vF.jsx)("div",{className:"bg-slate-800 p-8 rounded-lg",onClick:e=>e.stopPropagation(),children:"Bench Modal Coming Soon (For Prep)"})}),"shop"===i&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",onClick:s,children:(0,vF.jsx)("div",{className:"bg-slate-800 p-8 rounded-lg",onClick:e=>e.stopPropagation(),children:"Shop Modal Coming Soon"})}),"bookshelf_left"===i&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",onClick:s,children:(0,vF.jsx)("div",{className:"bg-slate-800 p-8 rounded-lg",onClick:e=>e.stopPropagation(),children:"Left Bookshelf (Coming Soon)"})}),"bookshelf_right"===i&&(0,vF.jsx)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",onClick:s,children:(0,vF.jsx)("div",{className:"bg-slate-800 p-8 rounded-lg",onClick:e=>e.stopPropagation(),children:"Right Bookshelf (Coming Soon)"})})]})},_U=e=>{let{stats:n,updateStatsInFirestore:r,onClose:i}=e;const[a,o]=(0,t.useState)({isOpen:!1,plotIndex:null}),s=n.alchemy_state;return(0,vF.jsxs)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",onClick:i,children:[(0,vF.jsxs)("div",{className:"w-full max-w-4xl h-[80vh] bg-yellow-50/10 border-4 border-amber-800/80 rounded-lg p-6 flex flex-col",style:{backgroundColor:"#F3EADF",boxShadow:"inset 0 0 20px #00000080"},onClick:e=>e.stopPropagation(),children:[(0,vF.jsx)("h2",{className:"text-4xl font-['Cinzel_Decorative'] text-amber-900 text-center mb-4",children:"The Garden"}),(0,vF.jsx)("div",{className:"flex-grow bg-cover bg-center rounded-md p-4 grid grid-cols-4 gap-4",style:{backgroundImage:"url(".concat(dF,")")},children:s.gardenPlots.map((e,t)=>(0,vF.jsx)(AU,{plotData:e,onHarvest:()=>(e=>{const t=s.gardenPlots[e];if(!t||!t.plantId)return;const n=t.plantId,i=u({},s.inventory);i[n]=(i[n]||0)+1;const a=[...s.gardenPlots];a[e]={plantId:null,plantedAt:null,stage:0},r({"alchemy_state.inventory":i,"alchemy_state.gardenPlots":a})})(t),onPlant:()=>o({isOpen:!0,plotIndex:t})},t))})]}),a.isOpen&&(0,vF.jsx)(EU,{stats:n,onClose:()=>o({isOpen:!1,plotIndex:null}),onSelectSeed:e=>((e,t)=>{const n=u({},s.inventory);n[e]=(n[e]||0)-1,n[e]<=0&&delete n[e];const i=[...s.gardenPlots];i[t]={plantId:tU[e].yields,plantedAt:new Date,stage:0},r({"alchemy_state.inventory":n,"alchemy_state.gardenPlots":i}),o({isOpen:!1,plotIndex:null})})(e,a.plotIndex)})]})},AU=e=>{let{plotData:n,onHarvest:r,onPlant:i}=e;const[a,o]=(0,t.useState)(0),[s,l]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{if(null!==n&&void 0!==n&&n.plantId&&n.plantedAt){const e=setInterval(()=>{const e=Object.values(tU).find(e=>e.yields===n.plantId);if(!e)return;const t=n.plantedAt.toDate().getTime(),r=((new Date).getTime()-t)/1e3,i=Math.min(100,r/e.growthTimeSeconds*100);o(i),l(i>=100)},1e3);return()=>clearInterval(e)}},[n]),null===n||void 0===n||!n.plantId)return(0,vF.jsx)("button",{onClick:i,className:"bg-amber-900/50 border-2 border-dashed border-amber-800/70 rounded-lg flex items-center justify-center text-amber-200/80 hover:bg-amber-900/70 transition-colors",children:(0,vF.jsx)("span",{className:"text-3xl",children:"+"})});const c=Object.values(tU).find(e=>e.yields===n.plantId),u=eU[n.plantId],d=Math.min(3,Math.floor(a/25));return(0,vF.jsxs)("div",{className:"bg-black/20 rounded-lg flex flex-col items-center justify-center p-2 relative",children:[(0,vF.jsx)("div",{className:"w-16 h-16 bg-no-repeat bg-center",style:{backgroundImage:"url(".concat(c.spritesheet,")"),backgroundPosition:"-".concat(16*d,"px 0px"),width:"16px",height:"16px",transform:"scale(4)",imageRendering:"pixelated"}}),(0,vF.jsx)("p",{className:"text-white text-sm font-bold mt-2 text-center",style:{textShadow:"1px 1px 2px #000"},children:u.name}),s?(0,vF.jsx)("button",{onClick:r,className:"absolute inset-0 bg-green-500/70 text-white font-bold text-2xl flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:"HARVEST"}):(0,vF.jsx)("div",{className:"absolute bottom-2 left-2 right-2 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,vF.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(a,"%")}})})]})},EU=e=>{let{stats:t,onClose:n,onSelectSeed:r}=e;const i=Object.entries(t.alchemy_state.inventory).map(e=>{let[t,n]=e;return{id:t,count:n,def:tU[t]}}).filter(e=>e.def);return(0,vF.jsx)("div",{className:"fixed inset-0 bg-black/50 z-60 flex items-center justify-center",onClick:n,children:(0,vF.jsxs)("div",{className:"bg-amber-100 border-2 border-amber-800 p-4 rounded-lg text-amber-900",onClick:e=>e.stopPropagation(),children:[(0,vF.jsx)("h3",{className:"font-['Cinzel_Decorative'] text-xl mb-4 text-center",children:"Plant a Seed"}),(0,vF.jsx)("div",{className:"grid grid-cols-3 gap-2",children:i.length>0?i.map(e=>(0,vF.jsxs)("button",{onClick:()=>r(e.id),className:"p-2 bg-amber-200/50 rounded-md hover:bg-amber-300/80 transition-colors",children:[(0,vF.jsx)("img",{src:eU[e.def.yields].icon,alt:e.def.name,className:"w-12 h-12 mx-auto"}),(0,vF.jsx)("p",{className:"text-xs font-bold mt-1",children:e.def.name}),(0,vF.jsxs)("p",{className:"text-xs",children:["x",e.count]})]},e.id)):(0,vF.jsx)("p",{className:"col-span-3 text-center text-slate-500",children:"You have no seeds!"})})]})})},NU=e=>{var n;let{xpGained:r,stats:i,calculateLevelInfo:a,onAnimationComplete:o,onAudioReady:s,originEvent:l}=e;const[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)("0%"),[m,g]=(0,t.useState)(""),y=(0,t.useRef)(null),v=(0,t.useRef)(1),b=(0,t.useMemo)(()=>((null===i||void 0===i?void 0:i.totalXP)||0)-r,[null===i||void 0===i?void 0:i.totalXP,r]),w=(0,t.useMemo)(()=>a(b),[b,a]);(0,t.useEffect)(()=>{y.current=new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="),y.current.volume=.9;s(()=>{if(y.current&&y.current.paused){const e=y.current.play();void 0!==e&&e.then(e=>{y.current.pause(),y.current.currentTime=0}).catch(e=>{})}})},[s]);const x=(0,t.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(y.current)try{y.current.playbackRate=e,y.current.currentTime=0,y.current.play().catch(e=>{})}catch(t){}},[]);(0,t.useEffect)(()=>{if(!i||!i.equippedItems)return;const e=i.equippedItems.banner||"banner_default",t=DF.banners.find(t=>t.id===e)||DF.banners.find(e=>"banner_default"===e.id);if(t&&t.themeColors){const e=document.documentElement;e.style.setProperty("--primary-color",t.themeColors.primary),e.style.setProperty("--accent-color",t.themeColors.accent),e.style.setProperty("--text-color",t.themeColors.text)}},[null===i||void 0===i||null===(n=i.equippedItems)||void 0===n?void 0:n.banner]),(0,t.useEffect)(()=>{if(r>0){u(!0);const e=w.xpProgressInLevel/w.xpNeededForLevelUp*100;p("".concat(e,"%")),g(String(w.level)),v.current=w.level;const t=40*(r>25?.7:r>10?.85:1),n=800;let i=window.innerWidth/2,s=window.innerHeight/4;if(l){const e=l.getBoundingClientRect();i=e.left+e.width/2,s=e.top+e.height/2}const c=Array.from({length:r},(e,r)=>({id:"".concat(Date.now(),"-").concat(r),delay:r*t,duration:n+400*Math.random(),startX:i+40*(Math.random()-.5),startY:s+40*(Math.random()-.5)}));h(c),c.forEach((e,t)=>{const n=e.delay+e.duration;setTimeout(()=>{x(1+t/r*.7);const e=a(b+t+1),n=e.xpProgressInLevel/e.xpNeededForLevelUp*100;p("".concat(n,"%")),e.level>v.current&&(v.current=e.level,g(String(e.level)),x(2))},n)});const d=(c.length>0?c[c.length-1].delay+c[c.length-1].duration:0)+1500,f=setTimeout(()=>{u(!1),h([]),o()},d);return()=>clearTimeout(f)}},[r,w,b,a,o,x,l]);const k=r>25?"satis-high":r>10?"satis-medium":"satis-low";return c?(0,vF.jsxs)(vF.Fragment,{children:[(0,vF.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[9999]",children:d.map(e=>(0,vF.jsx)("div",{className:"xp-orb ".concat(k),style:{top:"".concat(e.startY,"px"),left:"".concat(e.startX,"px"),animation:"fly-to-bar-minecraft ".concat(e.duration,"ms cubic-bezier(0.5, 0, 1, 0.5) ").concat(e.delay,"ms forwards")}},e.id))}),(0,vF.jsx)("div",{className:"xp-bar-container",children:(0,vF.jsxs)("div",{className:"xp-bar-wrapper",children:[(0,vF.jsx)("div",{className:"xp-bar-background",children:(0,vF.jsx)("div",{className:"xp-bar-fill",style:{width:f}})}),(0,vF.jsx)("div",{className:"xp-level-text",children:m})]})})]}):null},CU=e=>{var t,n;let{profile:r,onClose:i,getFullCosmeticDetails:a,getItemStyle:o,calculateLevelInfo:s}=e;if(!r)return null;const l=s(r.totalXP),c=a(null===(t=r.equippedItems)||void 0===t?void 0:t.avatar,"avatars"),u=a(null===(n=r.equippedItems)||void 0===n?void 0:n.banner,"banners");return(0,vF.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:i,children:(0,vF.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-xl w-full max-w-md text-white",onClick:e=>e.stopPropagation(),children:[(0,vF.jsxs)("div",{className:"h-32 rounded-t-2xl flex items-end p-4 relative",style:o(u)||{backgroundColor:"#475569"},children:[(0,vF.jsx)("div",{className:"w-24 h-24 rounded-full bg-slate-700 flex items-center justify-center text-5xl border-4 border-slate-800",style:o(c),children:(!(null!==c&&void 0!==c&&c.placeholder)||"URL_PLACEHOLDER"===c.placeholder)&&((null===c||void 0===c?void 0:c.display)||"\ud83d\udc64")}),(0,vF.jsx)("h3",{className:"ml-4 text-3xl font-bold text-white",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:r.username})]}),(0,vF.jsxs)("div",{className:"p-6",children:[(0,vF.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,vF.jsxs)("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:[(0,vF.jsx)("p",{className:"text-sm text-slate-400",children:"Level"}),(0,vF.jsx)("p",{className:"text-2xl font-bold",children:l.level})]}),(0,vF.jsxs)("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:[(0,vF.jsx)("p",{className:"text-sm text-slate-400",children:"Total XP"}),(0,vF.jsx)("p",{className:"text-2xl font-bold",children:r.totalXP})]}),(0,vF.jsxs)("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:[(0,vF.jsx)("p",{className:"text-sm text-slate-400",children:"Tasks Completed"}),(0,vF.jsx)("p",{className:"text-2xl font-bold",children:r.assignmentsCompleted})]}),(0,vF.jsxs)("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:[(0,vF.jsx)("p",{className:"text-sm text-slate-400",children:"Highest Dungeon Floor"}),(0,vF.jsx)("p",{className:"text-2xl font-bold",children:r.dungeon_floor||0})]})]}),(0,vF.jsx)("button",{onClick:i,className:"mt-6 w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700",children:"Close"})]})]})})},jU=(e,t)=>{const n=sessionStorage.getItem(e);if(!n)return null;try{const r=JSON.parse(n);return Date.now()-r.timestamp>1e3*t?(sessionStorage.removeItem(e),null):r.data}catch(r){return console.error("Failed to parse cached data:",r),null}},TU=()=>{const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[s,l]=(0,t.useState)("");return(0,vF.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:(0,vF.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-slate-800 rounded-lg shadow-lg",children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-center",children:e?"Sign In":"Sign Up"}),(0,vF.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(""),OF&&PF)try{if(e)await function(e,t,n){return $e(e.app)?Promise.reject(Nt(e)):wr(B(e),ar.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xr(e),t})}(OF,r,a);else{const e=await async function(e,t,n){if($e(e.app))return Promise.reject(Nt(e));const r=Mn(e),i=Gn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hr,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xr(e),t}),o=await fr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}(OF,r,a),t=e.user;if(t){const e=r.split("@")[0],i=u(u({},aU),{},{username:e,quests:iU(),dungeon_state:{phase:"class_selection",playerClass:null,floor:1,board:{},player:{id:"player",entityType:"player",x:1,y:1,hp:100,maxHp:100,attack:10,hasKey:!1,activeEffects:[]},enemies:[],enemyMovePaths:{},lastMoveTrails:[],turnCount:1,log:["Choose your class to begin your adventure."],gameOver:!1,shopOpen:!1,ownedWeapons:[],ownedArmor:[],potions:0,boughtStats:{hp:0,attack:0}},td_path:nU(),lab_state:u(u({},aU.lab_state),{},{lastLogin:em()})}),a=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),t.uid),o=Bf(PF,"usernames/".concat(e.toLowerCase()));try{await SF(a,i),await SF(o,{userId:t.uid})}catch(n){console.error("Firestore document creation failed after user signup:",n),l("Account was created, but failed to save initial user data. Please contact support.")}}}}catch(i){console.error("Authentication error:",i),l(i.message.replace("Firebase: ",""))}else l("Firebase is not configured correctly.")},className:"space-y-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("label",{htmlFor:"email",className:"text-sm font-bold text-slate-400 block mb-2",children:"Email Address"}),(0,vF.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>i(e.target.value),required:!0,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("label",{htmlFor:"password",className:"text-sm font-bold text-slate-400 block mb-2",children:"Password"}),(0,vF.jsx)("input",{type:"password",id:"password",value:a,onChange:e=>o(e.target.value),required:!0,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),s&&(0,vF.jsx)("p",{className:"text-red-500 text-sm text-center",children:s}),(0,vF.jsx)("button",{type:"submit",className:"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white font-bold transition-colors",children:e?"Sign In":"Create Account"})]}),(0,vF.jsx)("div",{className:"text-center",children:(0,vF.jsx)("button",{onClick:()=>n(!e),className:"text-sm text-indigo-400 hover:underline",children:e?"Need an account? Sign Up":"Already have an account? Sign In"})})]})})},IU=e=>{let{assignments:n,setIsAddModalOpen:r,handleCompletedToggle:i,addAssignmentToFirestore:o,updateAssignmentInFirestore:s,deleteAssignmentFromFirestore:l,isAddModalOpen:c,promptMissionStart:d,isMobile:h}=e;const[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(""),b=async e=>{if(!e.assignment)return void MF("Assignment Name is required.","error");const t=u(u({},e),{},{dueDate:e.dueDate?new Date(e.dueDate):null,timeEstimate:parseFloat(e.timeEstimate)||0,pointsEarned:parseFloat(e.pointsEarned)||0,pointsMax:parseFloat(e.pointsMax)||0,recurrenceType:e.recurrenceType||"none",recurrenceEndDate:e.recurrenceEndDate?new Date(e.recurrenceEndDate):null,tags:e.tags||[],dateCompleted:null,subtasks:[]});await o(t),MF("Assignment added successfully!","info")},w=e=>{f===e.id?(p(null),g(null)):(p(e.id),g(u({},e)))},x=(e,t)=>{let n=t;"dueDate"===e||"dateCompleted"===e||"recurrenceEndDate"===e?n=t?new Date(t):null:(e.startsWith("points")||"timeEstimate"===e)&&(n=parseFloat(t)||0),g(t=>u(u({},t),{},{[e]:n}))},k=async()=>{if(!m)return;const{id:e}=m,t=a(m,bF),n=u(u({},t),{},{dueDate:t.dueDate||null,dateCompleted:t.dateCompleted||null,recurrenceEndDate:t.recurrenceEndDate||null});await s(e,n),MF("Changes saved!","info"),p(null),g(null)};return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Assignment Tracker"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Manage, track, and complete your assignments."})]}),(0,vF.jsxs)("button",{onClick:()=>r(!0),className:"bg-indigo-600 text-white px-5 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-md flex items-center space-x-2",children:[(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),(0,vF.jsx)("span",{children:"Add New"})]})]}),(0,vF.jsx)(oU,{isOpen:c,onClose:()=>r(!1),onSubmit:b}),(0,vF.jsx)(oU,{isOpen:c,onClose:()=>r(!1),onSubmit:b}),(0,vF.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl overflow-hidden",children:(0,vF.jsx)("div",{className:"overflow-x-auto",children:(0,vF.jsxs)("table",{className:"min-w-full text-white",children:[(0,vF.jsx)("thead",{children:(0,vF.jsxs)("tr",{className:"text-slate-400 uppercase text-sm leading-normal",children:[(0,vF.jsx)("th",{className:"py-3 ".concat(h?"px-2":"px-6"," text-left"),children:"Class"}),(0,vF.jsx)("th",{className:"py-3 ".concat(h?"px-2":"px-6"," text-left"),children:"Assignment"}),(0,vF.jsx)("th",{className:"py-3 ".concat(h?"px-2":"px-6"," text-left"),children:"Due Date"}),!h&&(0,vF.jsx)("th",{className:"py-3 px-6 text-center",children:"Status"}),!h&&(0,vF.jsx)("th",{className:"py-3 px-6 text-left",children:"Difficulty"}),!h&&(0,vF.jsx)("th",{className:"py-3 px-6 text-left",children:"Tags"}),(0,vF.jsx)("th",{className:"py-3 ".concat(h?"px-2":"px-6"," text-center"),children:"Actions"})]})}),(0,vF.jsx)("tbody",{className:"text-slate-300 text-sm font-light",children:n.map(e=>{const r="Completed"!==e.status&&e.dueDate&&new Date>e.dueDate,a="Completed"===e.status&&e.dateCompleted&&e.dueDate&&e.dateCompleted>e.dueDate;return(0,vF.jsxs)(t.Fragment,{children:[(0,vF.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-800/70",children:[(0,vF.jsx)("td",{className:"py-3 ".concat(h?"px-2":"px-6"," text-left whitespace-nowrap"),children:e.class||"\u26a0\ufe0f"}),(0,vF.jsx)("td",{className:"py-3 ".concat(h?"px-2":"px-6"," text-left"),children:e.assignment}),(0,vF.jsx)("td",{className:"py-3 ".concat(h?"px-2":"px-6"," text-left"),children:e.dueDate?e.dueDate.toLocaleDateString():"\u26a0\ufe0f"}),!h&&(0,vF.jsxs)("td",{className:"py-3 px-6 text-center",children:[(0,vF.jsx)("input",{type:"checkbox",checked:"Completed"===e.status,onChange:async t=>{const n=f===e.id?m:e;await i(t,e.id,n),f===e.id&&(p(null),g(null))},className:"form-checkbox h-5 w-5 text-indigo-500 rounded bg-slate-700 border-slate-600 focus:ring-indigo-500"}),(r||a)&&(0,vF.jsx)("span",{className:"ml-2 text-red-500 font-semibold text-xs",children:"Late!"})]}),!h&&(0,vF.jsx)("td",{className:"py-3 px-6 text-left",children:e.difficulty}),!h&&(0,vF.jsx)("td",{className:"py-3 px-6 text-left",children:(0,vF.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags&&e.tags.map(e=>(0,vF.jsx)("span",{className:"bg-slate-700 text-slate-300 text-xs px-2 py-1 rounded-full",children:e},e))})}),(0,vF.jsx)("td",{className:"py-3 ".concat(h?"px-2":"px-6"," text-center"),children:(0,vF.jsxs)("div",{className:"flex items-center justify-center gap-2",children:["Completed"!==e.status&&(0,vF.jsx)("button",{onClick:()=>d(e),className:"text-cyan-400 hover:text-cyan-300 p-1 text-xl",title:"Start Focus Mission",children:"\ud83d\ude80"}),(0,vF.jsx)("button",{onClick:()=>w(e),className:"text-indigo-400 hover:text-indigo-300 p-1",title:"Details",children:f===e.id?"\ud83d\udd3c":"\ud83d\udd3d"}),(0,vF.jsx)("button",{onClick:()=>(async e=>{await l(e),MF("Assignment deleted.","info")})(e.id),className:"text-red-400 hover:text-red-600 p-1",title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})})]}),f===e.id&&m&&(0,vF.jsx)("tr",{className:"bg-slate-800",children:(0,vF.jsx)("td",{colSpan:"7",className:"p-4 border-t-2 border-slate-700",children:(0,vF.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm p-4 bg-slate-900/50 rounded-lg",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Assignment Name:"}),(0,vF.jsx)("input",{type:"text",value:m.assignment||"",onChange:e=>x("assignment",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Class Name:"}),(0,vF.jsx)("input",{type:"text",value:m.class||"",onChange:e=>x("class",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Due Date:"}),(0,vF.jsx)("input",{type:"date",value:m.dueDate?new Date(m.dueDate).toISOString().split("T")[0]:"",onChange:e=>x("dueDate",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Time Est. (hrs):"}),(0,vF.jsx)("input",{type:"number",value:m.timeEstimate||"",onChange:e=>x("timeEstimate",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Recurrence:"}),(0,vF.jsx)("span",{className:"capitalize p-2 block",children:m.recurrenceType})]}),(0,vF.jsxs)("div",{className:"md:col-span-3 pt-2 mt-2 border-t border-slate-700",children:[(0,vF.jsx)("strong",{className:"text-slate-400 block mb-2",children:"Subtasks:"}),m.subtasks&&m.subtasks.length>0?m.subtasks.map((e,t)=>(0,vF.jsxs)("div",{className:"flex items-center justify-between bg-slate-700/50 p-2 rounded-md mb-1",children:[(0,vF.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,vF.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>(async(e,t)=>{const r=n.find(t=>t.id===e);if(r){const n=[...r.subtasks];n[t].completed=!n[t].completed,await s(e,{subtasks:n}),m&&m.id===e&&g(e=>u(u({},e),{},{subtasks:n}))}})(m.id,t),className:"form-checkbox h-4 w-4 text-green-500 rounded bg-slate-800"}),(0,vF.jsx)("span",{className:"text-slate-300 ".concat(e.completed?"line-through text-slate-500":""),children:e.name})]}),(0,vF.jsx)("button",{onClick:()=>(async(e,t)=>{const r=n.find(t=>t.id===e);if(r){const n=r.subtasks.filter((e,n)=>n!==t);await s(e,{subtasks:n}),m&&m.id===e&&g(e=>u(u({},e),{},{subtasks:n}))}})(m.id,t),className:"text-red-400 hover:text-red-600",children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,vF.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},"".concat(m.id,"-subtask-").concat(t))):(0,vF.jsx)("p",{className:"text-slate-500 text-xs",children:"No subtasks added yet."}),(0,vF.jsxs)("div",{className:"flex mt-2 space-x-2",children:[(0,vF.jsx)("input",{type:"text",placeholder:"New subtask...",value:y,onChange:e=>v(e.target.value),className:"flex-grow p-2 bg-slate-700 border border-slate-600 rounded-md text-sm focus:ring-indigo-500"}),(0,vF.jsx)("button",{onClick:()=>(async e=>{if(!y.trim())return void MF("Subtask name cannot be empty.","error");const t=n.find(t=>t.id===e);if(t){const n=[...t.subtasks||[],{name:y.trim(),completed:!1}];await s(e,{subtasks:n}),m&&m.id===e&&g(e=>u(u({},e),{},{subtasks:n})),v("")}})(m.id),className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm hover:bg-green-700",children:"Add"})]})]}),(0,vF.jsxs)("div",{className:"md:col-span-3 flex justify-end space-x-2 mt-4",children:[(0,vF.jsx)("button",{onClick:()=>w(m),className:"bg-slate-600 text-white px-4 py-2 rounded-md hover:bg-slate-500",children:"Cancel"}),(0,vF.jsx)("button",{onClick:k,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Save Changes"})]})]})})})]},e.id)})})]})})})]})},PU=e=>{let{stats:n,user:r,userId:i,updateStatsInFirestore:a,handleEvolvePet:o,getFullPetDetails:s,getFullCosmeticDetails:l,getItemStyle:c,db:d,appId:h,showMessageBox:f,actionLock:p,processAchievement:m,calculateLevelInfo:g}=e;const[y,v]=(0,t.useState)(u({},n)),[b,w]=(0,t.useState)("collections"),[x,k]=(0,t.useState)(""),[S,_]=(0,t.useState)({}),[A,E]=(0,t.useState)(null),[N,C]=(0,t.useState)(n.username||""),j={common:20,rare:60,epic:200,legendary:500};(0,t.useEffect)(()=>{v(u({},n))},[n]),(0,t.useEffect)(()=>{C(y.username||"")},[y.username]),(0,t.useEffect)(()=>{if(!d||!n.friends||0===n.friends.length)return void _({});(async()=>{try{const e=Uf(d,"artifacts/".concat(h,"/public/data/stats")),t=n.friends,r={},i=[];for(let n=0;n<t.length;n+=30){const r=t.slice(n,n+30);r.length>0&&i.push(EF(jp(e,Ip(document.Id,"in",r))))}(await Promise.all(i)).forEach(e=>{e.forEach(e=>{r[e.id]=u({id:e.id},e.data())})}),_(r)}catch(e){console.error("Error fetching friend profiles:",e)}})()},[d,n.friends,h]);const T=(0,t.useMemo)(()=>{const e={username:y.username,friends:y.friends,equippedItems:y.equippedItems,currentPet:y.currentPet},t={username:n.username,friends:n.friends,equippedItems:n.equippedItems,currentPet:n.currentPet};return JSON.stringify(VU(e))!==JSON.stringify(VU(t))},[y,n]),I=(0,t.useCallback)(async e=>p(async()=>{if(!d||!r)return;const t=j[e.rarity];if(!t)return void f("This item cannot be crafted.","error");const n=Bf(d,"artifacts/".concat(h,"/public/data/stats"),r.uid);try{await CF(d,async r=>{const i=await r.get(n);if(!i.exists())throw new Error("User data not found.");const a=i.data();if((a.cosmeticShards||0)<t)throw new Error("INSUFFICIENT_SHARDS");if((a.ownedItems||[]).includes(e.id))throw new Error("ALREADY_OWNED");r.update(n,{cosmeticShards:a.cosmeticShards-t,ownedItems:[...a.ownedItems||[],e.id],cooldowns:u(u({},a.cooldowns||{}),{},{craftShopItem:em()})})}),f("Successfully crafted ".concat(e.name,"!"),"info"),m("cosmeticsCrafted")}catch(i){const e=i.message.includes("permission-denied")?"You're crafting too fast!":"INSUFFICIENT_SHARDS"===i.message?"You don't have enough shards.":"ALREADY_OWNED"===i.message?"You already own this item.":"A server error occurred.";f(e,"error")}}),[r,d,h,f,p,m]),P=async e=>p(async()=>{if(!d||!r)return;const t=Bf(d,"artifacts/".concat(h,"/public/data/stats"),r.uid);try{await CF(d,async n=>{const r=await n.get(t);if(!r.exists())throw new Error("User data missing.");const i=r.data();if(i.totalXP<e.cost)throw new Error("Not enough XP.");if((i.ownedItems||[]).includes(e.id)||(i.ownedFurniture||[]).includes(e.id))throw new Error("Already owned.");const a="furniture"===e.type,o={totalXP:i.totalXP-e.cost,cooldowns:u(u({},i.cooldowns||{}),{},{buyShopItem:em()}),ownedItems:a?i.ownedItems||[]:[...i.ownedItems||[],e.id],ownedFurniture:a?[...i.ownedFurniture||[],e.id]:i.ownedFurniture||[]};n.update(t,o)}),f("Purchased ".concat(e.name,"!"),"info"),m("xpSpentInShop",e.cost)}catch(n){const e=n.message.includes("permission-denied")?"You're buying too fast!":n.message;f(e,"error")}}),O=e=>{v(t=>{let n=u({},t.equippedItems);if("td_skin"===e.type||"dungeon_emoji"===e.type){const r="td_skin"===e.type?"tdSkins":"dungeonEmojis";n[r]=u(u({},t.equippedItems[r]||{}),{},{[e.for]:e.id})}else n[e.type]=e.id;return u(u({},t),{},{equippedItems:n})})},M=e=>{let{tabName:t,children:n}=e;return(0,vF.jsx)("button",{onClick:()=>w(t),className:"px-4 py-2 text-lg font-semibold transition-colors duration-200 ease-in-out ".concat(b===t?"text-accent border-b-2 border-accent":"text-slate-400 hover:text-white"),children:n})},D=n.ownedItems.map(e=>l(e,"avatars")).filter(Boolean),R=n.ownedItems.map(e=>l(e,"banners")).filter(Boolean),L=n.ownedItems.map(e=>l(e,"wallpapers")).filter(Boolean),z=n.ownedPets.map(e=>s(e.id)).filter(Boolean),F=n.ownedItems.map(e=>l(e,"td_skins")).filter(Boolean),U=n.ownedItems.map(e=>l(e,"dungeon_emojis")).filter(Boolean);return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"mb-6",children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"My Profile"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Manage your collections, friends, and shop for new items."})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl",children:[(0,vF.jsxs)("div",{className:"flex border-b border-slate-700",children:[(0,vF.jsx)(M,{tabName:"collections",children:"Collections"}),(0,vF.jsx)(M,{tabName:"shop",children:"Shop"}),(0,vF.jsx)(M,{tabName:"crafting",children:"Crafting"}),(0,vF.jsx)(M,{tabName:"friends",children:"Friends"})]}),(0,vF.jsxs)("div",{className:"p-6",children:["collections"===b&&(0,vF.jsxs)("div",{className:"space-y-8",children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Your Items"}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Avatars"}),(0,vF.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-4",children:D.map(e=>(0,vF.jsxs)("div",{onClick:()=>O(e),className:"aspect-square bg-slate-800/70 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-slate-700/70 transition-colors duration-200 ".concat(y.equippedItems.avatar===e.id?"ring-2 ring-indigo-500":""),children:[(0,vF.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-700 flex items-center justify-center text-4xl mb-1",style:c(e),children:(!e.placeholder||"URL_PLACEHOLDER"===e.placeholder)&&e.display}),(0,vF.jsx)("p",{className:"text-xs font-medium text-slate-300 text-center",children:e.name})]},e.id))})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Banners"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map(e=>(0,vF.jsx)("div",{onClick:()=>O(e),className:"p-4 h-24 rounded-lg cursor-pointer hover:opacity-80 transition-opacity flex items-center justify-center text-center ".concat(c(e).backgroundImage?"":e.style," ").concat(y.equippedItems.banner===e.id?"ring-2 ring-indigo-500":""),style:c(e),children:(0,vF.jsx)("p",{className:"font-bold ".concat(c(e).backgroundImage?"":"text-white bg-black bg-opacity-50 px-2 py-1 rounded"),children:e.name})},e.id))})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Sanctum Walls"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:L.map(e=>(0,vF.jsx)("div",{onClick:()=>O(e),className:"p-4 h-24 rounded-lg cursor-pointer flex items-center justify-center text-center transition-all ".concat(y.equippedItems.wallpaper===e.id?"ring-2 ring-indigo-500":"hover:opacity-80"),style:e.style,children:(0,vF.jsx)("p",{className:"font-bold text-white bg-black/50 px-2 py-1 rounded",children:e.name})},e.id))})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Pets"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:z.map(e=>{var t,r;const i=Object.values(WF).flat().find(t=>{var n;return t.id===e.id||(null===(n=t.evolutions)||void 0===n?void 0:n.some(t=>t.id===e.id))}),a=null===i||void 0===i||null===(t=i.evolutions)||void 0===t?void 0:t[i.evolutions.findIndex(t=>t.id===e.id)+1],s=a&&n.currentLevel>=a.levelRequired&&n.totalXP>=a.xpCost;return(0,vF.jsxs)("div",{className:"p-4 bg-slate-800/70 rounded-lg flex flex-col items-center text-center transition-colors ".concat((null===(r=y.currentPet)||void 0===r?void 0:r.id)===e.id?"ring-2 ring-green-500":""),children:[(0,vF.jsx)("span",{className:"text-5xl mb-2 cursor-pointer",onClick:()=>(e=>{v(t=>u(u({},t),{},{currentPet:e}))})(e),children:e.display}),(0,vF.jsx)("p",{className:"text-sm font-medium text-white",children:e.name}),(0,vF.jsx)("p",{className:"text-xs font-bold capitalize ".concat(e.rarity),children:e.rarity}),a&&(0,vF.jsxs)("div",{className:"mt-2 w-full",children:[(0,vF.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},disabled:!s,className:"w-full text-xs px-2 py-1.5 rounded transition-colors ".concat(s?"bg-purple-600 text-white hover:bg-purple-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:" Evolve "}),!s&&(0,vF.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Lvl ",a.levelRequired," & ",a.xpCost," XP"]})]})]},e.id)})})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Tower Defense Skins"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:F.map(e=>{var t;return(0,vF.jsxs)("div",{onClick:()=>O(e),className:"p-4 bg-slate-800/70 rounded-lg flex flex-col items-center justify-center text-center transition-colors cursor-pointer ".concat((null===(t=y.equippedItems.tdSkins)||void 0===t?void 0:t[e.for])===e.id?"ring-2 ring-indigo-500":"hover:bg-slate-700"),children:[(0,vF.jsx)("span",{className:"text-4xl mb-2",children:e.display}),(0,vF.jsx)("p",{className:"text-sm font-medium text-white flex-grow",children:e.name}),(0,vF.jsxs)("p",{className:"text-xs text-slate-400 capitalize",children:["For: ",e.for]})]},e.id)})})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Dungeon Emojis"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:U.map(e=>{var t;return(0,vF.jsxs)("div",{onClick:()=>O(e),className:"p-4 bg-slate-800/70 rounded-lg flex flex-col items-center justify-center text-center transition-colors cursor-pointer ".concat((null===(t=y.equippedItems.dungeonEmojis)||void 0===t?void 0:t[e.for])===e.id?"ring-2 ring-indigo-500":"hover:bg-slate-700"),children:[(0,vF.jsx)("span",{className:"text-4xl mb-2",children:e.display}),(0,vF.jsx)("p",{className:"text-sm font-medium text-white flex-grow",children:e.name}),(0,vF.jsxs)("p",{className:"text-xs text-slate-400 capitalize",children:["For: ",e.for]})]},e.id)})})]})]}),"shop"===b&&(0,vF.jsxs)("div",{className:"space-y-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Wallpaper Shop"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:DF.wallpapers.map(e=>{const t=n.ownedItems.includes(e.id),r=n.totalXP>=e.cost;return(0,vF.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col text-center",children:[(0,vF.jsx)("div",{className:"w-full h-20 mb-3 rounded",style:e.style}),(0,vF.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,vF.jsx)("button",{onClick:()=>P(e),disabled:t||!r,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":r?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.cost," XP")})]},e.id)})})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Furniture Shop"}),Object.entries(LF).map(e=>{let[t,r]=e;return(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 capitalize mb-3",children:t}),(0,vF.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(e=>{const t=n.ownedFurniture.includes(e.id),r=n.totalXP>=e.cost;return(0,vF.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col items-center text-center",children:[(0,vF.jsx)("div",{className:"w-24 h-24 mb-2 flex items-center justify-center text-slate-300",children:(0,vF.jsx)("div",{className:"w-16 h-16",dangerouslySetInnerHTML:{__html:e.display}})}),(0,vF.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,vF.jsx)("button",{onClick:()=>P(e),disabled:t||!r,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":r?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.cost," XP")})]},e.id)})})]},t)})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Tower Defense Skins"}),(0,vF.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:"Unlock skins by reaching higher floors in the Dungeon Crawler."}),(0,vF.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:DF.td_skins.map(e=>{const t=n.ownedItems.includes(e.id),r=n.totalXP>=e.cost,i=!((n.dungeon_floor||0)>=e.floorRequired);return(0,vF.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col items-center text-center",children:[(0,vF.jsx)("div",{className:"w-16 h-16 mb-2 flex items-center justify-center text-4xl bg-slate-700 rounded-lg",children:e.display}),(0,vF.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,vF.jsxs)("p",{className:"text-xs text-slate-400 capitalize mb-1",children:["For: ",e.for]}),(0,vF.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,vF.jsx)("button",{onClick:()=>P(e),disabled:t||!r||i,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":i?"bg-gray-800 text-gray-600 cursor-not-allowed":r?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":i?"Requires Floor ".concat(e.floorRequired):"".concat(e.cost," XP")})]},e.id)})})]}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Dungeon Emoji Shop"}),(0,vF.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:DF.dungeon_emojis.map(e=>{const t=n.ownedItems.includes(e.id),r=n.totalXP>=e.cost;return(0,vF.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col items-center text-center",children:[(0,vF.jsx)("div",{className:"w-16 h-16 mb-2 flex items-center justify-center text-4xl bg-slate-700 rounded-lg",children:e.display}),(0,vF.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,vF.jsxs)("p",{className:"text-xs text-slate-400 capitalize mb-1",children:["For: ",e.for]}),(0,vF.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,vF.jsx)("button",{onClick:()=>P(e),disabled:t||!r,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":r?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.cost," XP")})]},e.id)})})]})]}),"crafting"===b&&(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Item Crafting"}),(0,vF.jsxs)("div",{className:"bg-slate-900/50 px-4 py-2 rounded-lg font-bold text-lg",children:["\ud83d\udc8e ",(0,vF.jsx)("span",{className:"text-cyan-400",children:n.cosmeticShards||0})]})]}),(0,vF.jsx)("p",{className:"text-slate-400 mb-6",children:"Use Cosmetic Shards, earned from duplicate slot machine wins, to craft items you're missing."}),(0,vF.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:zF.filter(e=>!n.ownedItems.includes(e.id)&&j[e.rarity]).map(e=>{const t=j[e.rarity],r=(n.cosmeticShards||0)>=t;return(0,vF.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col text-center",children:[(0,vF.jsx)("div",{className:"w-full h-20 mb-3 rounded flex items-center justify-center text-4xl ".concat(e.style||""),style:c(e),children:e.display&&!e.placeholder?e.display:""}),(0,vF.jsx)("p",{className:"font-semibold text-white flex-grow text-sm",children:e.name}),(0,vF.jsx)("p",{className:"text-xs capitalize mb-3 font-bold ".concat(e.rarity),children:e.rarity}),(0,vF.jsxs)("button",{onClick:()=>I(e),disabled:!r,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(r?"bg-cyan-600 text-white hover:bg-cyan-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:["Craft (\ud83d\udc8e ",t,")"]})]},e.id)})})]}),"friends"===b&&(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Profile & Friends"}),(0,vF.jsxs)("div",{className:"mb-8 p-4 bg-slate-900/50 rounded-lg",children:[(0,vF.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Your Public Username"}),(0,vF.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,vF.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"Enter a username",className:"flex-grow p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"}),(0,vF.jsx)("button",{onClick:()=>{p(async()=>{const e=N.trim();if(e.length<3||e.length>15)return void f("Username must be 3-15 characters.","error");if(/\s/.test(e))return void f("Username cannot contain spaces.","error");if(e===n.username)return void f("This is already your username.","info");const t=e.toLowerCase(),i=Bf(d,"usernames/".concat(t));try{await CF(d,async a=>{var o;const s=await a.get(i);if(s.exists()&&s.data().userId!==r.uid)throw new Error("This username is already taken.");const l=null===(o=n.username)||void 0===o?void 0:o.toLowerCase();if(l&&l!==t){const e=Bf(d,"usernames/".concat(l));a.delete(e)}a.set(i,{userId:r.uid}),v(t=>u(u({},t),{},{username:e}))}),f('Username set to "'.concat(e,'"! Remember to save your profile changes.'),"info")}catch(a){console.error("Username validation failed:",a),f(a.message,"error")}})},className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700",children:"Set Name"})]}),(0,vF.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:'This will appear on leaderboards. Changes are not saved until you hit "Save Changes" at the bottom.'})]}),(0,vF.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Friend Management"}),(0,vF.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,vF.jsxs)("div",{className:"flex-grow",children:[(0,vF.jsx)("label",{className:"text-sm text-slate-400 block mb-1",children:"Your User ID (for sharing)"}),(0,vF.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(i).then(()=>f("User ID copied!","info"),()=>f("Failed to copy.","error"))},className:"p-3 bg-slate-700 border border-slate-600 rounded-md cursor-pointer truncate",children:i})]}),(0,vF.jsxs)("div",{className:"flex-grow",children:[(0,vF.jsx)("label",{htmlFor:"friendUsername",className:"text-sm text-slate-400 block mb-1",children:"Add Friend by Username"}),(0,vF.jsxs)("div",{className:"flex gap-2",children:[(0,vF.jsx)("input",{id:"friendUsername",type:"text",value:x,onChange:e=>k(e.target.value),placeholder:"Enter friend's username",className:"flex-grow p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"}),(0,vF.jsx)("button",{onClick:()=>{p(async()=>{const e=x.trim();if(e)if(e.toLowerCase()!==(n.username||"").toLowerCase())try{const t=e.toLowerCase(),n=Bf(d,"usernames/".concat(t)),r=await xF(n);if(!r.exists())return void f('User "'.concat(e,'" not found. Usernames are case-insensitive.'),"error");const i=r.data().userId;if(y.friends.includes(i))return void f('"'.concat(e,'" is already your friend.'),"error");v(e=>u(u({},e),{},{friends:[...e.friends,i]})),k(""),f("Added ".concat(e," as a friend! Remember to save changes."),"info")}catch(t){console.error("Error adding friend by username:",t),f("An error occurred while trying to add friend.","error")}else f("You can't add yourself.","error");else f("Username cannot be empty.","error")})},className:"bg-indigo-600 text-white px-5 py-2 rounded-md hover:bg-indigo-700",children:"Add"})]})]})]}),(0,vF.jsxs)("div",{className:"mt-6",children:[(0,vF.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Friend List"}),y.friends&&y.friends.length>0?(0,vF.jsx)("ul",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:y.friends.map(e=>{var t;return(0,vF.jsxs)("li",{className:"flex items-center justify-between bg-slate-700/50 p-3 rounded-lg",children:[(0,vF.jsx)("span",{className:"font-semibold text-sm text-slate-300 truncate",children:(null===(t=S[e])||void 0===t?void 0:t.username)||"Loading..."}),(0,vF.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vF.jsx)("button",{onClick:()=>E(S[e]),className:"text-cyan-400 hover:text-cyan-300 text-sm font-semibold",disabled:!S[e],children:"View"}),(0,vF.jsx)("button",{onClick:()=>(e=>{v(t=>u(u({},t),{},{friends:t.friends.filter(t=>t!==e)}))})(e),className:"text-red-400 hover:text-red-600 text-sm font-semibold",children:"Remove"})]})]},e)})}):(0,vF.jsx)("p",{className:"text-slate-500",children:"You haven't added any friends yet."})]})]})]})]}),T&&(0,vF.jsxs)("div",{className:"fixed bottom-10 right-1/2 translate-x-1/2 z-50 bg-slate-800 border-2 border-slate-700 rounded-lg shadow-2xl p-4 flex items-center gap-4 animate-fade-in-up",children:[(0,vF.jsx)("p",{className:"text-white font-semibold",children:"You have unsaved changes."}),(0,vF.jsx)("button",{onClick:()=>{v(u({},n)),f("Changes discarded.","info")},className:"px-5 py-2 bg-slate-600 hover:bg-slate-500 rounded-md transition-colors",children:"Discard"}),(0,vF.jsx)("button",{onClick:()=>p(async()=>{if(!d||!r)return;const{username:e,friends:t,equippedItems:n,currentPet:i}=y;await a({username:e,friends:t,equippedItems:n,currentPet:i}),f("Profile changes saved!","info")}),className:"px-5 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-colors",children:"Save Changes"})]}),A&&(0,vF.jsx)(CU,{profile:A,onClose:()=>E(null),getFullCosmeticDetails:l,getItemStyle:c,calculateLevelInfo:g})]})},OU=e=>{var t,n,r,i;let{quests:a}=e;if(!a||(null===(t=a.daily)||void 0===t||!t.length)&&(null===(n=a.weekly)||void 0===n||!n.length))return(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Quests"}),(0,vF.jsx)("p",{className:"text-slate-500",children:"New quests will appear tomorrow!"})]});const o=e=>{let{quest:t}=e;const n=Math.min(100,(t.progress||0)/t.goal*100);return(0,vF.jsxs)("div",{className:"p-3 rounded-lg ".concat(t.completed?"bg-slate-700/50 opacity-60":"bg-slate-700"),children:[(0,vF.jsxs)("div",{className:"flex justify-between items-start",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("p",{className:"font-semibold text-white",children:t.name}),(0,vF.jsx)("p",{className:"text-xs text-slate-400",children:t.description})]}),t.completed&&(0,vF.jsx)("span",{className:"text-green-400 text-2xl",children:"\u2713"})]}),(0,vF.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs",children:[(0,vF.jsxs)("p",{className:"text-slate-300",children:["Reward: ",t.reward.xp," XP ",t.reward.shards?"& ".concat(t.reward.shards,"\ud83d\udc8e"):""]}),(0,vF.jsxs)("p",{className:"font-mono text-slate-400",children:[t.progress||0,"/",t.goal]})]}),(0,vF.jsx)("div",{className:"w-full bg-slate-800 rounded-full h-2 mt-1",children:(0,vF.jsx)("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:"".concat(n,"%")}})})]})};return(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quests"}),(0,vF.jsxs)("div",{className:"space-y-4",children:[(null===(r=a.daily)||void 0===r?void 0:r.length)>0&&(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-sm font-bold text-slate-400 uppercase mb-2",children:"Daily"}),(0,vF.jsx)("div",{className:"space-y-2",children:a.daily.map(e=>(0,vF.jsx)(o,{quest:e},e.id))})]}),(null===(i=a.weekly)||void 0===i?void 0:i.length)>0&&(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h4",{className:"text-sm font-bold text-slate-400 uppercase mb-2",children:"Weekly"}),(0,vF.jsx)("div",{className:"space-y-2",children:a.weekly.map(e=>(0,vF.jsx)(o,{quest:e},e.id))})]})]})]})},MU=e=>{var n,r,i,a,o,s,l,c;let{stats:u,assignments:d,completedAssignments:h,handleRefresh:f,isRefreshing:p,getProductivityPersona:m,calculateLevelInfo:g,getStartOfWeek:y,collectFirstEgg:v,hatchEgg:b,collectNewEgg:w,spinProductivitySlotMachine:x,shouldPromptForTriage:k,onStartTriage:S}=e;const _=m(),A=qF.slice().reverse().find(e=>u.currentLevel>=e.level)||{title:"Novice Learner"},E=null!==u&&void 0!==u&&null!==(n=u.equippedItems)&&void 0!==n&&n.title?null===(r=DF.titles.find(e=>e.id===u.equippedItems.title))||void 0===r?void 0:r.name:A.title,N=(0,t.useCallback)(()=>{let e=0;const t=new Date,n=d.filter(e=>"Completed"!==e.status&&e.dueDate&&e.dueDate>t&&(e.dueDate.getTime()-t.getTime())/864e5<=14).sort((e,t)=>e.dueDate.getTime()-t.dueDate.getTime()),r={Easy:1,Medium:2,Hard:3};n.forEach(n=>{const i=r[n.difficulty]||1,a=n.timeEstimate||1,o=Math.ceil((n.dueDate.getTime()-t.getTime())/864e5);let s=5*i+.5*a;o<=3?s+=10*(3-o+1):o<=7&&(s+=5*(7-o+1)),e+=s});for(let i=0;i<n.length;i++)for(let t=i+1;t<n.length;t++){Math.abs(n[i].dueDate.getTime()-n[t].dueDate.getTime())/864e5<=2&&(e+=10)}return Math.max(0,Math.min(100,e/500*100))},[d]),C=N(),j=C<=20?YF[0]:C<=40?YF[1]:C<=60?YF[2]:C<=80?YF[3]:YF[4],T=d.filter(e=>"Completed"===e.status&&e.dateCompleted).sort((e,t)=>e.dateCompleted.getTime()-t.dateCompleted.getTime()).reduce((e,t)=>{const n=t.dateCompleted.toLocaleDateString(),r=e.find(e=>e.date===n),i=t.pointsEarned||0;return r?r.xp+=i:e.push({date:n,xp:i}),e},[]);let I=0;const P=T.map(e=>(I+=e.xp,{date:e.date,cumulativeXP:I})),O=d.filter(e=>"Completed"!==e.status).reduce((e,t)=>{const n=t.class||"Uncategorized";return e[n]=(e[n]||0)+(t.timeEstimate||0),e},{}),M=Object.keys(O).map(e=>({class:e,hours:O[e]})),D={},R=new Date;R.setDate(R.getDate()-30),d.filter(e=>"Completed"===e.status&&e.dateCompleted&&e.dateCompleted>=R).forEach(e=>{const t=y(e.dateCompleted).toLocaleDateString("en-US",{month:"short",day:"numeric"});D[t]=(D[t]||0)+(e.timeEstimate||0)});const L=Object.keys(D).map(e=>({week:e,hours:D[e],sortDate:new Date(e)})).sort((e,t)=>e.sortDate.getTime()-t.sortDate.getTime());return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Dashboard"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Your productivity at a glance."})]}),(0,vF.jsxs)("button",{onClick:f,disabled:p,className:"bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-600 disabled:bg-slate-800 disabled:cursor-not-allowed disabled:text-slate-500 transition-colors flex items-center space-x-2",children:[(0,vF.jsx)("svg",{className:"h-5 w-5 ".concat(p?"animate-spin":""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,vF.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h5M20 20v-5h-5M4 4l1.5 1.5A9 9 0 0120.5 10.5M20 20l-1.5-1.5A9 9 0 013.5 13.5"})}),(0,vF.jsx)("span",{children:p?"Refreshing...":"Refresh"})]})]}),k&&(0,vF.jsxs)("div",{className:"mb-8 p-6 bg-indigo-900/50 border-2 border-indigo-700 rounded-2xl flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-2xl font-bold text-white",children:"\u2728 It's Time for Your Weekly Triage!"}),(0,vF.jsx)("p",{className:"text-indigo-300",children:"Plan your week in 5 minutes to earn the powerful 'Clarity' buff."})]}),(0,vF.jsx)("button",{onClick:S,className:"px-6 py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-500 transition-colors shadow-lg flex-shrink-0",children:"Start Planning"})]}),(0,vF.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl transition-transform duration-200 hover:-translate-y-1",children:[(0,vF.jsx)("p",{className:"text-slate-400",children:"Total XP"}),(0,vF.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:u.totalXP})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl transition-transform duration-200 hover:-translate-y-1",children:[(0,vF.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,vF.jsx)("p",{className:"text-slate-400",children:"Current Level"}),(0,vF.jsxs)("p",{className:"text-sm text-slate-400",children:[g(u.totalXP).xpProgressInLevel.toLocaleString()," / ",g(u.totalXP).xpNeededForLevelUp.toLocaleString()," XP"]})]}),(0,vF.jsx)("p",{className:"text-4xl font-bold text-white mt-1",children:u.currentLevel}),(0,vF.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mt-4",children:(0,vF.jsx)("div",{className:"bg-primary h-2.5 rounded-full",style:{width:"".concat(g(u.totalXP).xpProgressInLevel/g(u.totalXP).xpNeededForLevelUp*100,"%")}})})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl transition-transform duration-200 hover:-translate-y-1",children:[(0,vF.jsx)("p",{className:"text-slate-400",children:"Title"}),(0,vF.jsx)("p",{className:"text-2xl font-bold text-accent mt-2",children:E})]})]}),(0,vF.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,vF.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"XP Gain Over Time"}),(0,vF.jsx)(Am,{width:"100%",height:250,children:(0,vF.jsxs)(xP,{data:P,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,vF.jsx)(ZO,{strokeDasharray:"3 3",stroke:"#475569"}),(0,vF.jsx)(oM,{dataKey:"date",tick:{fill:"#94a3b8"}}),(0,vF.jsx)(pM,{tick:{fill:"#94a3b8"}}),(0,vF.jsx)(WR,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),(0,vF.jsx)(LL,{wrapperStyle:{color:"#94a3b8"}}),(0,vF.jsx)(Xz,{type:"monotone",dataKey:"cumulativeXP",stroke:"#818cf8",strokeWidth:2,activeDot:{r:8},name:"Cumulative XP"})]})})]}),(0,vF.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Predicted Workload"}),(0,vF.jsx)(Am,{width:"100%",height:250,children:(0,vF.jsxs)(xP,{data:M,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,vF.jsx)(ZO,{strokeDasharray:"3 3",stroke:"#475569"}),(0,vF.jsx)(oM,{dataKey:"class",tick:{fill:"#94a3b8"}}),(0,vF.jsx)(pM,{tick:{fill:"#94a3b8"}}),(0,vF.jsx)(WR,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),(0,vF.jsx)(LL,{wrapperStyle:{color:"#94a3b8"}}),(0,vF.jsx)(Xz,{type:"monotone",dataKey:"hours",stroke:"#34d399",activeDot:{r:8},name:"Predicted Hours"})]})})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Hours Worked (Weekly)"}),(0,vF.jsx)(Am,{width:"100%",height:250,children:(0,vF.jsxs)(xP,{data:L,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,vF.jsx)(ZO,{strokeDasharray:"3 3",stroke:"#475569"}),(0,vF.jsx)(oM,{dataKey:"week",tick:{fill:"#94a3b8"}}),(0,vF.jsx)(pM,{tick:{fill:"#94a3b8"}}),(0,vF.jsx)(WR,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),(0,vF.jsx)(LL,{wrapperStyle:{color:"#94a3b8"}}),(0,vF.jsx)(Xz,{type:"monotone",dataKey:"hours",stroke:"#facc15",activeDot:{r:8},name:"Hours Worked"})]})})]})]})]}),(0,vF.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,vF.jsx)(OU,{quests:u.quests}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsxs)("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center space-x-2",children:[(0,vF.jsx)("span",{children:"\ud83d\udd25"}),(0,vF.jsx)("span",{children:"Explorer's Streak"})]}),(0,vF.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vF.jsxs)("p",{className:"text-4xl font-bold text-orange-400",children:[(null===(i=u.focusNavigator)||void 0===i?void 0:i.explorerStreak)||0," Days"]}),(0,vF.jsxs)("p",{className:"text-slate-400 text-sm font-semibold",children:["Today: ",(null===(a=u.focusNavigator)||void 0===a?void 0:a.dailyFocusMinutes)||0," / 45 min"]})]}),(0,vF.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mt-3",children:(0,vF.jsx)("div",{className:"bg-orange-500 h-2.5 rounded-full",style:{width:"".concat(Math.min(100,((null===(o=u.focusNavigator)||void 0===o?void 0:o.dailyFocusMinutes)||0)/45*100),"%")}})})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Your Work Style"}),(0,vF.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,vF.jsx)("span",{className:"text-5xl",children:_.icon}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("p",{className:"text-lg font-bold text-white",children:_.name}),(0,vF.jsx)("p",{className:"text-sm text-slate-400",children:_.description})]})]})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Productivity Pet"}),"none"===u.petStatus?(0,vF.jsx)("button",{onClick:v,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 w-full",children:"Get First Egg"}):"egg"===u.petStatus?(0,vF.jsxs)(vF.Fragment,{children:[(0,vF.jsx)("div",{className:"text-center text-5xl mb-2",children:"\ud83e\udd5a"}),(0,vF.jsx)("p",{className:"text-slate-400 mb-2 text-center",children:u.assignmentsToHatch>0?"".concat(u.assignmentsToHatch," more to hatch!"):"Ready to hatch!"}),(0,vF.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-4 mb-2",children:(0,vF.jsx)("div",{className:"bg-purple-500 h-4 rounded-full",style:{width:"".concat((UF-u.assignmentsToHatch)/UF*100,"%")}})}),u.assignmentsToHatch<=0&&(0,vF.jsx)("button",{onClick:b,className:"mt-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 w-full",children:"Hatch Now!"})]}):(0,vF.jsxs)(vF.Fragment,{children:[(0,vF.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,vF.jsx)("span",{className:"text-6xl",children:null===(s=u.currentPet)||void 0===s?void 0:s.display}),(0,vF.jsxs)("div",{children:[(0,vF.jsx)("p",{className:"text-lg font-semibold text-white",children:null===(l=u.currentPet)||void 0===l?void 0:l.name}),(0,vF.jsxs)("p",{className:"text-sm text-green-400",children:["+",(100*(null===(c=u.currentPet)||void 0===c?void 0:c.xpBuff)).toFixed(0),"% XP"]})]})]}),(0,vF.jsx)("button",{onClick:w,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 w-full",children:"Find New Egg"})]})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsxs)("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center space-x-2",children:[(0,vF.jsx)("span",{children:"Stress Risk"}),(0,vF.jsx)("span",{className:"text-2xl",children:j})]}),(0,vF.jsxs)("p",{className:"text-3xl font-bold text-red-400",children:[C.toFixed(0),"%"]}),(0,vF.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mt-2",children:(0,vF.jsx)("div",{className:"h-2.5 rounded-full ".concat(C<=33?"bg-green-500":C<=66?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(C,"%")}})})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Slot Machine"}),(0,vF.jsx)("p",{className:"text-slate-400 mb-4 text-sm",children:"Spin for 50 XP for a chance to win cosmetics or more XP!"}),(0,vF.jsx)("button",{onClick:x,className:"bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg w-full transition-colors hover:bg-indigo-700",children:"Spin Now"})]})]})]})]})},DU=e=>{let{assignments:n}=e;const[r,i]=(0,t.useState)(new Date);return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Calendar View"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"View your assignment deadlines on a monthly calendar."})]}),(0,vF.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,vF.jsx)("h3",{className:"text-xl font-semibold text-white",children:r.toLocaleString("default",{month:"long",year:"numeric"})}),(0,vF.jsx)("button",{onClick:()=>{i(e=>new Date(e.getFullYear(),e.getMonth()-1,1))},className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 transition-colors",children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,vF.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,vF.jsx)("button",{onClick:()=>{i(e=>new Date(e.getFullYear(),e.getMonth()+1,1))},className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 transition-colors",children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,vF.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl overflow-hidden",children:[(0,vF.jsx)("div",{className:"grid grid-cols-7 text-center font-semibold text-slate-400",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,vF.jsx)("div",{className:"py-3 border-b border-l border-slate-700",children:e},e))}),(0,vF.jsx)("div",{className:"grid grid-cols-7 grid-rows-5",children:(()=>{const e=r.getFullYear(),t=r.getMonth(),i=((e,t)=>new Date(e,t+1,0).getDate())(e,t),a=((e,t)=>new Date(e,t,1).getDay())(e,t),o=0===a?6:a-1,s=[];for(let n=0;n<o;n++)s.push((0,vF.jsx)("div",{className:"border-t border-l border-slate-700 bg-slate-800/50"},"empty-prev-".concat(n)));for(let r=1;r<=i;r++){new Date(e,t,r);const i=n.filter(n=>"Completed"!==n.status&&n.dueDate&&n.dueDate.getFullYear()===e&&n.dueDate.getMonth()===t&&n.dueDate.getDate()===r);s.push((0,vF.jsxs)("div",{className:"p-2 border-t border-l border-slate-700 h-32 flex flex-col overflow-hidden bg-slate-800/30 hover:bg-slate-800/60 transition-colors",children:[(0,vF.jsx)("span",{className:"font-bold text-slate-300",children:r}),(0,vF.jsx)("div",{className:"flex-grow overflow-y-auto mt-1 space-y-1 pr-1",children:i.map(e=>(0,vF.jsx)("div",{className:"text-xs p-1.5 rounded-md truncate\n                  ".concat("Completed"===e.status?"bg-green-500/30 text-green-300":e.dueDate&&new Date>e.dueDate&&"Completed"!==e.status?"bg-red-500/30 text-red-300":"bg-indigo-500/30 text-indigo-300"),children:e.assignment},e.id))})]},"day-".concat(r)))}return s})()})]})]})},RU=e=>{let{completedAssignments:t}=e;const n=t.filter(e=>void 0!==e.pointsEarned&&null!==e.pointsEarned&&void 0!==e.pointsMax&&null!==e.pointsMax&&e.pointsMax>0),r={};XF.forEach(e=>{r[e]={totalPointsEarned:0,totalPointsMax:0,totalTimeSpent:0,assignmentCount:0}}),n.forEach(e=>{const t=new Date(e.dateCompleted),n=new Date;n.setFullYear(n.getFullYear()-1),t>=n&&e.tags&&e.tags.length>0&&e.tags.forEach(t=>{r[t]&&(r[t].totalPointsEarned+=e.pointsEarned,r[t].totalPointsMax+=e.pointsMax,r[t].totalTimeSpent+=e.timeEstimate||0,r[t].assignmentCount++)})});return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"mb-6",children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Tags Analytics"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Analyze your academic performance by subject over the last year."})]}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl overflow-hidden",children:[(0,vF.jsx)("h3",{className:"text-xl font-bold text-white p-6",children:"Analytics by Tag (Last Year)"}),(0,vF.jsx)("div",{className:"overflow-x-auto",children:(0,vF.jsxs)("table",{className:"min-w-full text-white",children:[(0,vF.jsx)("thead",{children:(0,vF.jsxs)("tr",{className:"text-slate-400 uppercase text-sm leading-normal border-b-2 border-slate-700",children:[(0,vF.jsx)("th",{className:"py-3 px-6 text-left",children:"Tag"}),(0,vF.jsx)("th",{className:"py-3 px-6 text-center",children:"Assignments"}),(0,vF.jsx)("th",{className:"py-3 px-6 text-center",children:"Avg Score (%)"}),(0,vF.jsx)("th",{className:"py-3 px-6 text-center",children:"Avg Time (hrs)"})]})}),(0,vF.jsx)("tbody",{className:"text-slate-300 text-sm font-light",children:XF.map(e=>{const t=(e=>{const t=r[e];return{avgScore:t.assignmentCount>0&&t.totalPointsMax>0?(t.totalPointsEarned/t.totalPointsMax*100).toFixed(1):"N/A",avgTime:t.assignmentCount>0?(t.totalTimeSpent/t.assignmentCount).toFixed(1):"N/A"}})(e),n=r[e];return(0,vF.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-800/70",children:[(0,vF.jsx)("td",{className:"py-4 px-6 text-left font-medium",children:e}),(0,vF.jsx)("td",{className:"py-4 px-6 text-center",children:n.assignmentCount}),(0,vF.jsx)("td",{className:"py-4 px-6 text-center",children:t.avgScore}),(0,vF.jsx)("td",{className:"py-4 px-6 text-center",children:t.avgTime})]},e)})})]})})]})]})},LU=e=>{let{stats:n,updateStatsInFirestore:r,showMessageBox:i,processAchievement:a,isMobile:o}=e;const[s,l]=(0,t.useState)("game"),[c,d]=(0,t.useState)(!1),h=(null===n||void 0===n?void 0:n.studyZone)||{flashcardsText:"",platformerHighScore:0,flashcardData:{}},f=(0,t.useCallback)(e=>{r({studyZone:u(u({},h),e)})},[h,r]),p=e=>{let{tabName:t,children:n}=e;return(0,vF.jsx)("button",{onClick:()=>l(t),className:"px-4 py-2 text-lg font-semibold transition-colors ".concat(s===t?"text-indigo-400 border-b-2 border-indigo-400":"text-slate-400 hover:text-white"),children:n})};return(0,vF.jsxs)("div",{children:[(0,vF.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Study Zone"}),(0,vF.jsx)("p",{className:"text-slate-400",children:"Play a game and review your flashcards to boost your learning."})]})}),(0,vF.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl",children:[(0,vF.jsxs)("div",{className:"relative z-10 flex border-b border-slate-700",children:[(0,vF.jsx)(p,{tabName:"game",children:"Platformer Game"}),(0,vF.jsx)(p,{tabName:"flashcards",children:"Flashcard Deck"})]}),(0,vF.jsxs)("div",{className:"p-6",children:["game"===s&&(0,vF.jsx)(UU,{stats:n,updateStatsInFirestore:r,studyZoneState:h,updateStudyZoneState:f,showMessageBox:i,processAchievement:a,isMobile:o}),"flashcards"===s&&(c?(0,vF.jsx)(FU,{studyZoneState:h,updateStudyZoneState:f,onSessionEnd:()=>d(!1)}):(0,vF.jsx)(zU,{studyZoneState:h,updateStudyZoneState:f,onStartStudy:()=>d(!0)}))]})]})]})},zU=e=>{let{studyZoneState:n,updateStudyZoneState:r,onStartStudy:i}=e;const[a,o]=(0,t.useState)(n.flashcardsText||""),[s,l]=(0,t.useState)(0),[c,d]=(0,t.useState)(!1),h=(0,t.useCallback)(e=>{const t=(e||"").split("\n").filter(e=>""!==e.trim()),n=["\u2192",">>","-"];return t.map(e=>{for(const t of n)if(e.includes(t)){const n=e.split(t),r=n[0].trim(),i=n.slice(1).join(t).trim();if(r&&i)return{front:r,back:i}}return null}).filter(Boolean)},[]),f=(0,t.useCallback)(()=>{const e=(new Date).setHours(0,0,0,0),t=Object.values(n.flashcardData||{}).filter(t=>new Date(t.nextReviewDate).getTime()<=e).length;l(t)},[n.flashcardData]);(0,t.useEffect)(()=>{f()},[f]),(0,t.useEffect)(()=>{d(a!==n.flashcardsText)},[a,n.flashcardsText]),(0,t.useEffect)(()=>{o(n.flashcardsText||"")},[n.flashcardsText]);return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[(0,vF.jsxs)("div",{children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Manage Your Flashcards"}),(0,vF.jsx)("p",{className:"text-slate-400",children:'Enter cards as "Front \u2192 Back". Click Save to sync.'})]}),(0,vF.jsxs)("div",{className:"flex items-center gap-2",children:[(0,vF.jsx)("button",{onClick:async()=>{const e=h(a),t=n.flashcardData||{},i={},o=(new Date).setHours(0,0,0,0),s=new Set(e.map(e=>e.front));e.forEach(e=>{const n=t[e.front];i[e.front]=n?u(u({},n),{},{back:e.back}):{back:e.back,repetition:0,easinessFactor:2.5,interval:0,nextReviewDate:o}}),Object.keys(t).forEach(e=>{s.has(e)||(i[e]=t[e])}),await r({flashcardData:i,flashcardsText:a}),MF("Flashcards saved!","info")},disabled:!c,className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-slate-600 disabled:cursor-not-allowed transition-colors",children:c?"Save Changes":"Saved"}),(0,vF.jsxs)("button",{onClick:i,disabled:0===s||c,className:"bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 disabled:bg-slate-600 disabled:cursor-not-allowed transition-colors",title:c?"Save changes before studying":"",children:["Study (",s," Due)"]})]})]}),(0,vF.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),className:"w-full h-96 p-4 bg-slate-900 border border-slate-600 rounded-lg text-slate-300 font-mono focus:ring-2 focus:ring-indigo-500",placeholder:"Example:\nCapital of France \u2192 Paris\n2 + 2 - 4"})]})},FU=e=>{let{studyZoneState:n,updateStudyZoneState:r,onSessionEnd:i}=e;const[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(0),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=(new Date).setHours(0,0,0,0),t=Object.entries(n.flashcardData||{}).filter(t=>{let[n,r]=t;return new Date(r.nextReviewDate).getTime()<=e}).map(e=>{let[t,n]=e;return u({front:t},n)});for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}s(t)},[n.flashcardData]);const f=e=>{const t=o[l],s=((e,t)=>{let{repetition:n,easinessFactor:r,interval:i}=e;t<3?(n=0,i=1):(n+=1,r=Math.max(1.3,r+(.1-(5-t)*(.08+.02*(5-t)))),i=1===n?1:2===n?6:Math.ceil(i*r));const a=new Date;return a.setDate(a.getDate()+i),u(u({},e),{},{repetition:n,easinessFactor:r,interval:i,nextReviewDate:a.setHours(0,0,0,0)})})(t,e),{front:d,back:f}=s,p=a(s,wF),m=u(u({},n.flashcardData),{},{[t.front]:p});r({flashcardData:m}),l+1>=o.length?i():(c(e=>e+1),h(!1))};if(0===o.length)return(0,vF.jsxs)("div",{className:"text-center",children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white mb-2",children:"All Done!"}),(0,vF.jsx)("p",{className:"text-slate-400 mb-4",children:"You've reviewed all your due cards for today. Great work!"}),(0,vF.jsx)("button",{onClick:i,className:"bg-indigo-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-indigo-700",children:"Back to Manager"})]});const p=o[l],m=(l+1)/o.length*100;return(0,vF.jsxs)("div",{children:[(0,vF.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,vF.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Study Session"}),(0,vF.jsx)("button",{onClick:i,className:"text-sm text-slate-400 hover:text-white",children:"End Session"})]}),(0,vF.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mb-6",children:(0,vF.jsx)("div",{className:"bg-indigo-500 h-2.5 rounded-full",style:{width:"".concat(m,"%")}})}),(0,vF.jsx)("div",{className:"relative w-full h-64 perspective-1000",children:(0,vF.jsxs)("div",{className:"absolute w-full h-full transition-transform duration-500 transform-style-preserve-3d ".concat(d?"rotate-y-180":""),children:[(0,vF.jsxs)("div",{className:"absolute w-full h-full backface-hidden bg-slate-700 rounded-lg flex flex-col items-center justify-center p-4",children:[(0,vF.jsx)("p",{className:"text-slate-400 mb-2",children:"FRONT"}),(0,vF.jsx)("p",{className:"text-3xl text-center font-bold text-white",children:p.front})]}),(0,vF.jsxs)("div",{className:"absolute w-full h-full backface-hidden bg-slate-700 rounded-lg flex flex-col items-center justify-center p-4 rotate-y-180",children:[(0,vF.jsx)("p",{className:"text-slate-400 mb-2",children:"BACK"}),(0,vF.jsx)("p",{className:"text-3xl text-center font-bold text-white",children:p.back})]})]})}),(0,vF.jsx)("div",{className:"mt-6",children:d?(0,vF.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,vF.jsx)("button",{onClick:()=>f(0),className:"py-3 bg-red-800 hover:bg-red-700 rounded-lg",children:"Forgot"}),(0,vF.jsx)("button",{onClick:()=>f(3),className:"py-3 bg-orange-700 hover:bg-orange-600 rounded-lg",children:"Hard"}),(0,vF.jsx)("button",{onClick:()=>f(4),className:"py-3 bg-green-700 hover:bg-green-600 rounded-lg",children:"Good"}),(0,vF.jsx)("button",{onClick:()=>f(5),className:"py-3 bg-sky-600 hover:bg-sky-500 rounded-lg",children:"Easy"})]}):(0,vF.jsx)("button",{onClick:()=>h(!0),className:"w-full bg-blue-600 text-white font-bold py-4 rounded-lg text-xl hover:bg-blue-700",children:"Show Answer"})})]})},UU=e=>{let{stats:n,studyZoneState:r,updateStudyZoneState:i,updateStatsInFirestore:a,showMessageBox:o,processAchievement:s,isMobile:l}=e;const c=38,u=40,[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)("menu"),[b,w]=(0,t.useState)(0),x=(0,t.useRef)("menu"),k=(0,t.useRef)(0),S=(0,t.useRef)({platforms:[],enemies:[],coins:[],flagpole:null,projectiles:[]}),_=(0,t.useRef)({}),A=(0,t.useRef)(0),E=(0,t.useRef)({x:100,y:322,vx:0,vy:0,onGround:!1,canDoubleJump:!0,coyoteTime:0,jumpBuffer:0,scaleY:1,invincible:0}),N=e=>{x.current=e,v(e)},C=(0,t.useMemo)(()=>{const e=(r.flashcardsText||"").split("\n").filter(e=>""!==e.trim()),t=["\u2192",">>","-"];return e.map(e=>{for(const n of t)if(e.includes(n)){const t=e.split(n);return{front:t[0].trim(),back:t.slice(1).join(n).trim()}}return null}).filter(Boolean)},[r.flashcardsText]),j=t.memo(e=>{let{playerState:t,levelRef:n,cameraXRef:r,TILE_SIZE:i,PLAYER_WIDTH:a,PLAYER_HEIGHT:o}=e;return r.current=Math.max(0,t.current.x-800/3),(0,vF.jsxs)(vF.Fragment,{children:[n.current.platforms.map((e,t)=>{let n;switch(e.type){case"crumble":n=(0,vF.jsx)("div",{className:"w-full h-full bg-yellow-800 border-t-4 border-yellow-600 opacity-80"});break;case"jumpPad":n=(0,vF.jsx)("div",{className:"w-full h-full bg-emerald-500 border-t-4 border-emerald-300"});break;case"spike":n=(0,vF.jsx)("div",{className:"w-full h-full text-slate-500",children:(0,vF.jsx)("svg",{viewBox:"0 0 40 40",children:(0,vF.jsx)("path",{d:"M0 40 L20 0 L40 40 Z",fill:"currentColor"})})});break;default:n=(0,vF.jsx)("div",{className:"w-full h-full bg-green-800 border-t-4 border-green-500"})}return(0,vF.jsx)("div",{className:"absolute",style:{width:e.width,height:e.height,transform:"translate(".concat(e.x-r.current,"px, ").concat(e.y,"px)")},children:n},"p_".concat(t))}),n.current.enemies.map(e=>{let t;switch(e.type){case"spiky":t=(0,vF.jsxs)("svg",{viewBox:"0 0 40 40",children:[(0,vF.jsx)("circle",{cx:"20",cy:"25",r:"15",fill:"#f97316"}),(0,vF.jsx)("path",{d:"M5 25 L20 10 L35 25 Z",fill:"#fdba74"})]});break;case"turret":t=(0,vF.jsxs)("svg",{viewBox:"0 0 40 40",children:[(0,vF.jsx)("rect",{x:"5",y:"15",width:"30",height:"20",rx:"5",fill:"#475569"}),(0,vF.jsx)("circle",{cx:"20",cy:"15",r:"10",fill:"#ef4444"})]});break;default:t=(0,vF.jsxs)("svg",{viewBox:"0 0 40 40",children:[(0,vF.jsx)("rect",{x:"5",y:"5",width:"30",height:"30",rx:"5",fill:"#7e22ce"}),(0,vF.jsx)("rect",{x:"12",y:"15",width:"5",height:"10",fill:"white"}),(0,vF.jsx)("rect",{x:"23",y:"15",width:"5",height:"10",fill:"white"})]})}return(0,vF.jsx)("div",{className:"absolute",style:{width:i,height:i,transform:"translate(".concat(e.x-r.current,"px, ").concat(e.y,"px)")},children:t},e.id)}),n.current.projectiles.map(e=>(0,vF.jsx)("div",{className:"absolute bg-red-500 rounded-full",style:{width:10,height:10,transform:"translate(".concat(e.x-r.current,"px, ").concat(e.y,"px)")}},e.id)),n.current.coins.map(e=>(0,vF.jsx)("div",{className:"absolute animate-pulse",style:{width:i/2,height:i/2,transform:"translate(".concat(e.x-r.current,"px, ").concat(e.y,"px)")},children:(0,vF.jsxs)("svg",{viewBox:"0 0 20 20",children:[(0,vF.jsx)("circle",{cx:"10",cy:"10",r:"10",fill:"#facc15"}),(0,vF.jsx)("circle",{cx:"10",cy:"10",r:"7",fill:"#fde047"}),(0,vF.jsx)("text",{x:"50%",y:"50%",dy:".3em",textAnchor:"middle",fill:"#ca8a04",fontSize:"12",fontWeight:"bold",children:"$"})]})},e.id)),n.current.flagpole&&(0,vF.jsx)("div",{className:"absolute bg-gray-500",style:{width:n.current.flagpole.width,height:n.current.flagpole.height,transform:"translate(".concat(n.current.flagpole.x-r.current,"px, ").concat(n.current.flagpole.y,"px)")}}),(0,vF.jsx)("div",{className:"absolute transition-opacity duration-200 ".concat(t.current.invincible>0&&Math.floor(t.current.invincible/5)%2===0?"opacity-50":"opacity-100"),style:{width:a,height:o,transform:"translate(".concat(t.current.x-r.current,"px, ").concat(t.current.y,"px) scaleY(").concat(t.current.scaleY,")"),transition:"transform 0.1s"},children:(0,vF.jsxs)("svg",{viewBox:"0 0 28 38",className:"w-full h-full",children:[(0,vF.jsx)("rect",{x:"4",y:"0",width:"20",height:"20",rx:"10",fill:"#fde047"}),(0,vF.jsx)("rect",{x:"0",y:"18",width:"28",height:"20",rx:"5",fill:"#be123c"}),(0,vF.jsx)("circle",{cx:"10",cy:"10",r:"3",fill:"white"}),(0,vF.jsx)("circle",{cx:"19",cy:"10",r:"3",fill:"white"}),(0,vF.jsx)("circle",{cx:"10",cy:"10",r:"1",fill:"black"}),(0,vF.jsx)("circle",{cx:"19",cy:"10",r:"1",fill:"black"})]})})]})}),T=(e,t)=>{_.current[e]=t},I=(0,t.useCallback)(e=>{const t={platforms:[],enemies:[],coins:[],flagpole:null,projectiles:[]},n=150+10*e;let r=0,i=360;for(let a=0;a<10;a++)t.platforms.push({x:a*u,y:360,width:u,height:u,type:"normal"});for(r=10;r<n-15;){if(Math.random()<.7){const e=Math.floor(3*Math.random())+1;r+=e,e>1&&t.platforms.push({x:(r-1)*u,y:360,width:u,height:u,type:"spike"});const n=Math.floor(5*Math.random())+3,a=(Math.floor(5*Math.random())-2)*u;i=Math.max(200,Math.min(360,i+a));for(let o=0;o<n;o++){const e=(r+o)*u,a=Math.random()<.15?"crumble":"normal";t.platforms.push({x:e,y:i,width:u,height:u,type:a}),o>0&&o<n-1&&Math.random()<.5&&t.coins.push({id:"c_".concat(r+o),x:e+10,y:i-80})}if(n>3){const e=Math.random();e<.3?t.enemies.push({id:"e_".concat(r),x:(r+1)*u,y:i-u,dir:-1,type:"patrol",startX:(r+1)*u,patrol:(n-2)*u}):e<.5?t.enemies.push({id:"e_".concat(r),x:(r+1)*u,y:i-u,dir:-1,type:"spiky",startX:(r+1)*u,patrol:(n-2)*u}):e<.6&&t.enemies.push({id:"e_".concat(r),x:(r+1)*u,y:i-u,type:"turret",fireCooldown:180})}r+=n}else{const e=5;r+=e,t.platforms.push({x:(r-e)*u,y:360,width:u,height:u,type:"jumpPad"});const n=3;i=Math.max(160,i-120);for(let a=0;a<n;a++)t.platforms.push({x:(r+a)*u,y:i,width:u,height:u,type:"normal"}),t.coins.push({id:"c_".concat(r+a),x:(r+a)*u+10,y:i-u});r+=n}}for(let a=0;a<15;a++)t.platforms.push({x:(r+a)*u,y:360,width:u,height:u,type:"normal"});t.flagpole={x:(r+5)*u,y:200,width:20,height:160},S.current=t},[]),P=(0,t.useCallback)(e=>{E.current={x:100,y:322,vx:0,vy:0,onGround:!1,canDoubleJump:!0,coyoteTime:0,jumpBuffer:0,scaleY:1,invincible:0},A.current=0,h(e)},[]),O=(0,t.useCallback)(function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?d:0;p(1),P(e),I(1),N("playing")},[d,P,I]),M=(0,t.useCallback)(()=>{p(e=>e+1),P(d),I(f+1),N("playing")},[f,d,I,P]),D=(0,t.useCallback)(()=>{g(!1),O()},[O]),R=(0,t.useCallback)(()=>{(null===n||void 0===n?void 0:n.totalXP)<100?o("You need 100 XP to play a single level.","error"):(a({totalXP:n.totalXP-100}),g(!0),O())},[null===n||void 0===n?void 0:n.totalXP,O,a]);(0,t.useEffect)(()=>{if("playing"!==y)return void(k.current=0);let e;const t=n=>{0===k.current&&(k.current=n);let r=(n-k.current)/(1e3/60);k.current=n;const i=Math.min(r,3);if("playing"===x.current){const e=E.current;e.onGround=!1,e.invincible>0&&(e.invincible-=i);let t=0;(_.current.ArrowLeft||_.current.a)&&(t=-5),(_.current.ArrowRight||_.current.d)&&(t=5),e.x+=t*i,e.jumpBuffer=_.current.ArrowUp||_.current.w||_.current[" "]?10:e.jumpBuffer-1,e.coyoteTime=e.coyoteTime-1,e.jumpBuffer>0&&(e.coyoteTime>0?(e.vy=-12,e.jumpBuffer=0,e.coyoteTime=0,e.scaleY=1.3):e.canDoubleJump&&(e.vy=-10,e.canDoubleJump=!1,e.jumpBuffer=0,e.scaleY=1.3)),e.vy+=.6*i,e.y+=e.vy*i,e.scaleY+=.1*(1-e.scaleY);const n={x:e.x,y:e.y,width:28,height:c};S.current.platforms.forEach(t=>{if(n.x<t.x+t.width&&n.x+n.width>t.x&&n.y<t.y+t.height&&n.y+n.height>t.y){if("spike"===t.type&&e.invincible<=0)return void N("gameover");if("jumpPad"===t.type)return e.vy=-20,void(e.canDoubleJump=!0);e.vy>=0&&n.y+n.height-t.y<e.vy*i+5&&(e.y=t.y-n.height,e.vy=0,e.onGround=!0,e.coyoteTime=8,e.canDoubleJump=!0,e.scaleY=.8,"crumble"!==t.type||t.crumbling||(t.crumbling=30))}}),S.current.platforms=S.current.platforms.filter(e=>(e.crumbling>0&&(e.crumbling-=i),void 0===e.crumbling||e.crumbling>0)),S.current.enemies.forEach(t=>{"patrol"!==t.type&&"spiky"!==t.type||(t.x+=1*t.dir*i,(t.x<t.startX||t.x>t.startX+t.patrol)&&(t.dir*=-1)),"turret"===t.type&&(t.fireCooldown-=i,t.fireCooldown<=0&&(S.current.projectiles.push({id:"proj_".concat(Date.now()),x:t.x,y:t.y,vx:-3}),t.fireCooldown=180));const n=t.x,r=t.y,a=u,o=u;e.x<n+a&&e.x+28>n&&e.y<r+o&&e.y+c>r&&("spiky"!==t.type&&e.vy>0&&e.y+c-r<20?(e.vy=-8,h(e=>e+50),S.current.enemies=S.current.enemies.filter(e=>e.id!==t.id)):e.invincible<=0&&(e.invincible=120,N("gameover")))}),S.current.projectiles=S.current.projectiles.filter(t=>{t.x+=t.vx*i;const n=t.x,r=t.y,a=10,o=10;return e.x<n+a&&e.x+28>n&&e.y<r+o&&e.y+c>r?(e.invincible<=0&&N("gameover"),!1):t.x>A.current-20}),S.current.coins=S.current.coins.filter(t=>!(e.x<t.x+20&&e.x+28>t.x&&e.y<t.y+20&&e.y+c>t.y)||(h(e=>e+10),!1)),e.y>500&&N("gameover");const r=S.current.flagpole;r&&n.x<r.x+r.width&&n.x+n.width>r.x&&(m?N("levelwon"):M()),w(e=>e+1)}e=requestAnimationFrame(t)};e=requestAnimationFrame(t);const n=e=>{_.current[e.key]="keydown"===e.type};return window.addEventListener("keydown",n),window.addEventListener("keyup",n),()=>{cancelAnimationFrame(e),window.removeEventListener("keydown",n),window.removeEventListener("keyup",n)}},[y,m,M]),(0,t.useEffect)(()=>{if("playing"===y&&C.length>=5&&!m){const e=setTimeout(()=>{const e=()=>{"playing"===x.current&&E.current.onGround?N("quiz"):"playing"===x.current&&setTimeout(e,100)};e()},5e3+5e3*Math.random());return()=>clearTimeout(e)}},[y,C.length,m]);const L=(0,t.useCallback)(()=>{N("playing")},[]);return(0,t.useEffect)(()=>{if("gameover"===y){if(!m)if(d>r.platformerHighScore){if(i({platformerHighScore:d}),o("Game Over! New high score: ".concat(d),"info"),s("highScore",d),d>1e3){const e="alchemy_state.inventory.stardust_phial";a({[e]:tm(1)}),o("Your skill has attracted a Stardust Phial!","info")}}else o("Game Over! Your score: ".concat(d),"error")}else"levelwon"===y&&m&&(a({totalXP:((null===n||void 0===n?void 0:n.totalXP)||0)+250}),o("Level Complete! You earned 250 XP!","info"))},[y,d,m,o,null===n||void 0===n?void 0:n.totalXP,r.platformerHighScore,a,i,s]),(0,vF.jsxs)("div",{className:"flex flex-col items-center",children:[(0,vF.jsxs)("div",{className:"flex gap-8 mb-4 text-white text-xl font-bold",children:[(0,vF.jsxs)("span",{children:["Score: ",d]}),(0,vF.jsxs)("span",{children:["High Score: ",r.platformerHighScore]}),(0,vF.jsxs)("span",{children:["Level: ",f]})]}),(0,vF.jsxs)("div",{className:"relative w-[800px] h-[400px] bg-blue-300 overflow-hidden border-4 border-slate-900 rounded-lg",children:[(0,vF.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-sky-400 to-sky-600"}),(0,vF.jsx)("div",{className:"absolute bottom-0 left-0 w-[2400px] h-64 bg-no-repeat bg-bottom",style:{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 180"><path d="M0 180 L0 120 C 120 150, 250 100, 400 110 C 550 120, 680 90, 800 100 L800 180 Z" fill="%2314532d" opacity="0.6"/></svg>\')',transform:"translateX(".concat(.2*-A.current,"px)")}}),(0,vF.jsx)("div",{className:"absolute bottom-0 left-0 w-[2400px] h-48 bg-no-repeat bg-bottom",style:{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 150"><path d="M0 150 L0 100 C 100 50, 200 120, 300 100 C 400 80, 500 140, 600 120 C 700 100, 800 130, 800 130 L800 150 Z" fill="%23166534"/></svg>\')',transform:"translateX(".concat(.5*-A.current,"px)")}}),(0,vF.jsx)("div",{className:"absolute bottom-0 left-0 w-[2400px] h-32 bg-no-repeat bg-bottom",style:{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 120"><path d="M0 120 L0 90 C 150 110, 250 60, 400 80 C 550 100, 650 70, 800 90 L800 120 Z" fill="%2315803d"/></svg>\')',transform:"translateX(".concat(.8*-A.current,"px)")}}),"menu"===y&&(0,vF.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center z-10 space-y-4 text-center p-4",children:[(0,vF.jsx)("h3",{className:"text-4xl text-white font-bold mb-2 drop-shadow-lg",children:"Platformer Challenge"}),C.length>=5?(0,vF.jsx)("button",{onClick:D,className:"px-8 py-4 bg-green-500 text-white font-bold rounded-lg text-2xl hover:bg-green-600 shadow-xl",children:"Start Full Game"}):(0,vF.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[(0,vF.jsx)("p",{className:"text-slate-300",children:"Add at least 5 flashcards in the other tab to play the full game."}),(0,vF.jsx)("button",{onClick:R,className:"mt-2 px-6 py-3 bg-indigo-600 text-white font-bold rounded-lg text-xl hover:bg-indigo-700 disabled:bg-slate-600 disabled:cursor-not-allowed",disabled:((null===n||void 0===n?void 0:n.totalXP)||0)<100,children:"Play for XP (Costs 100)"})]})]}),("gameover"===y||"levelwon"===y)&&(0,vF.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center z-10",children:[(0,vF.jsx)("h3",{className:"text-4xl font-bold mb-4 drop-shadow-lg ".concat("levelwon"===y?"text-green-400":"text-red-500"),children:"levelwon"===y?"Level Complete!":"Game Over!"}),(0,vF.jsx)("button",{onClick:()=>N("menu"),className:"px-8 py-4 bg-blue-500 text-white font-bold rounded-lg text-2xl hover:bg-blue-600 shadow-xl",children:"Main Menu"})]}),"quiz"===y&&(0,vF.jsx)(BU,{cards:C,onComplete:L}),"playing"===y&&(0,vF.jsx)(j,{playerState:E,levelRef:S,cameraXRef:A,TILE_SIZE:u,PLAYER_WIDTH:28,PLAYER_HEIGHT:c})]}),(0,vF.jsx)("p",{className:"text-slate-500 mt-2 text-sm hidden md:block",children:"Controls: Arrow keys or A/D to move, Arrow Up, W, or Space to jump/double-jump."}),l&&(0,vF.jsxs)("div",{className:"fixed bottom-4 left-4 right-4 flex justify-between items-center z-20",children:[(0,vF.jsxs)("div",{className:"flex gap-3",children:[(0,vF.jsx)("button",{onTouchStart:()=>T("ArrowLeft",!0),onTouchEnd:()=>T("ArrowLeft",!1),onMouseDown:()=>T("ArrowLeft",!0),onMouseUp:()=>T("ArrowLeft",!1),className:"w-16 h-16 bg-slate-800/50 text-white text-3xl rounded-full active:bg-indigo-600",children:"\u2190"}),(0,vF.jsx)("button",{onTouchStart:()=>T("ArrowRight",!0),onTouchEnd:()=>T("ArrowRight",!1),onMouseDown:()=>T("ArrowRight",!0),onMouseUp:()=>T("ArrowRight",!1),className:"w-16 h-16 bg-slate-800/50 text-white text-3xl rounded-full active:bg-indigo-600",children:"\u2192"})]}),(0,vF.jsx)("button",{onTouchStart:()=>T(" ",!0),onTouchEnd:()=>T(" ",!1),onMouseDown:()=>T(" ",!0),onMouseUp:()=>T(" ",!1),className:"w-20 h-20 bg-slate-800/50 text-white text-4xl rounded-full active:bg-indigo-600",children:"\u2191"})]})]})},BU=e=>{let{cards:n,onComplete:r}=e;const[i,a]=(0,t.useState)(0),[o,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),h=(0,t.useCallback)(()=>{n&&n.length>0&&s(n[Math.floor(Math.random()*n.length)])},[n]);(0,t.useEffect)(()=>{h()},[h]),(0,t.useEffect)(()=>{i>=3&&r()},[i,r]);return(0,vF.jsxs)("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-20 text-white p-8",children:[(0,vF.jsx)("h3",{className:"text-3xl font-bold mb-4",children:"Flashcard Quiz!"}),(0,vF.jsx)("p",{className:"mb-4",children:"Get 3 correct in a row to continue."}),(0,vF.jsxs)("p",{className:"text-2xl font-bold text-green-400 mb-6",children:["Streak: ",i," / 3"]}),(0,vF.jsxs)("div",{className:"p-8 rounded-lg w-full max-w-lg text-center transition-colors ".concat("correct"===u?"bg-green-800":"incorrect"===u?"bg-red-800":"bg-slate-700"),children:[(0,vF.jsx)("p",{className:"text-slate-400 mb-2",children:"FRONT"}),(0,vF.jsx)("p",{className:"text-3xl font-bold mb-6 h-10",children:o?o.front:"..."}),(0,vF.jsx)("form",{onSubmit:e=>{e.preventDefault(),o&&!u&&(l.toLowerCase().trim()===o.back.toLowerCase().trim()?(d("correct"),a(e=>e+1)):(d("incorrect"),a(0)),setTimeout(()=>{d(""),c(""),h()},1500))},children:(0,vF.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-md text-center text-xl",placeholder:"Type the back of the card...",disabled:""!==u||!o})}),"incorrect"===u&&(0,vF.jsxs)("p",{className:"mt-4 text-lg",children:["Correct answer: ",(0,vF.jsx)("span",{className:"font-bold",children:null===o||void 0===o?void 0:o.back})]})]})]})},VU=e=>{if(!e)return e;if(Array.isArray(e))return e.map(VU);if("object"===typeof e&&null!==e){if("function"===typeof e.toDate)return e.toDate().toISOString();const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=VU(e[n]));return t}return e},HU=()=>{var e,n,r,i,a;const[o,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)("Stats + XP Tracker"),f=(0,t.useRef)(null),[p,m]=(0,t.useState)({isOpen:!1,needsSetup:!1}),[g,y]=(0,t.useState)(0),[v,b]=(0,t.useState)({isOpen:!1,assignment:null}),[w,x]=(0,t.useState)({isActive:!1,route:null,assignmentName:null}),{width:k}=(()=>{const[e,n]=(0,t.useState)({width:window.innerWidth,height:window.innerHeight});return(0,t.useEffect)(()=>{const e=()=>n({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e})(),S=k<768,[_,A]=(0,t.useState)(!S);(0,t.useEffect)(()=>{A(!S)},[S]);const[E,N]=(0,t.useState)([]),C=(0,t.useRef)({}),[j,T]=(0,t.useState)(()=>jU("statsCache",60)||{username:"",totalXP:0,currentLevel:1,assignmentsCompleted:0,friends:[],ownedItems:[],equippedItems:{avatar:null,banner:"banner_default",background:null,font:"font_inter",animation:null,title:null,wallpaper:null,dungeonEmojis:{},tdSkins:{}},ownedFurniture:[],ownedPets:[],currentPet:null,petStatus:"none",assignmentsToHatch:0,cosmeticShards:0,focusNavigator:{unlockedLocations:["genesis_prime"],explorerStreak:0,lastStreakDay:null,dailyFocusMinutes:0},dungeon_state:null,dungeon_floor:0,dungeon_gold:0,td_wins:0,td_wave:0,td_castleHealth:5,td_towers:[],td_path:nU(),td_gameOver:!1,td_gameWon:!1,td_unlockedTowers:[],td_towerUpgrades:{},lab_state:null,studyZone:{flashcardsText:"",platformerHighScore:0,flashcardData:{}},achievements:{assignmentsCompleted:{tier:0,progress:0},hardAssignmentsCompleted:{tier:0,progress:0}},quests:{daily:[],weekly:[],lastUpdated:null}}),I=(0,t.useMemo)(()=>E.filter(e=>"Completed"===e.status),[E]);(0,t.useEffect)(()=>{C.current=j},[j]);const P=(0,t.useCallback)(async e=>{if(!PF||!o)return;const t=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid),n=u(u({},e),{},{lastActionTimestamp:em()});try{await _F(t,n)}catch(r){console.error("Firestore Write Error (Stats):",r),MF("Failed to update stats.","error")}},[o,PF,jF]),[O,M]=(0,t.useState)(!1),[D,R]=(0,t.useState)(!1),[L,z]=(0,t.useState)(!1),[F,U]=(0,t.useState)(0),[V,H]=(0,t.useState)(0),[G,W]=(0,t.useState)(null),q=(0,t.useRef)(null),[Y,X]=(0,t.useState)(0),[K,Q]=(0,t.useState)(!1),Z=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!PF||!o)return;const n="alchemy_state.inventory.".concat(e);try{var r;await P({[n]:tm(t)});const i=(null===(r=eU[e])||void 0===r?void 0:r.name)||"an ingredient";MF("You found: ".concat(t,"x ").concat(i,"!"),"info")}catch(i){console.error("Error adding ingredient:",i),MF("Failed to add ingredient to inventory.","error")}},[o,PF,P,MF]),J=(()=>{const e=(0,t.useRef)(!1);return(0,t.useCallback)(async t=>{if(e.current)console.warn("Action prevented due to spam lock.");else try{e.current=!0,await t()}catch(n){console.error("Locked action failed:",n)}finally{setTimeout(()=>{e.current=!1},1e3)}},[])})(),$=(0,t.useCallback)(e=>{if(!e)return null;for(const t of Object.keys(WF))for(const n of WF[t]){if(n.id===e)return n;if(n.evolutions){const t=n.evolutions.find(t=>t.id===e);if(t)return t}}return null},[]),ee=(0,t.useCallback)((e,t)=>e&&t&&DF[t]&&DF[t].find(t=>t.id===e)||null,[]),te=(0,t.useCallback)(e=>e?e.placeholder&&"URL_PLACEHOLDER"!==e.placeholder?{backgroundImage:"url(".concat(e.placeholder,")"),backgroundSize:"cover",backgroundPosition:"center"}:e.style&&"object"===typeof e.style?e.style:{}:{},[]),ne=ee(null===j||void 0===j||null===(e=j.equippedItems)||void 0===e?void 0:e.font,"fonts"),re=ne?ne.style:"font-inter",ie=ee(null===j||void 0===j||null===(n=j.equippedItems)||void 0===n?void 0:n.avatar,"avatars"),ae=ie?ie.display:"\ud83d\udc64",oe=(null===o||void 0===o||o.uid,(0,t.useCallback)(e=>{if(e<=1)return 0;const t=e-1,n=t/2*(200+50*(t-1));return Math.floor(n)},[])),se=(0,t.useCallback)(e=>{let t=1;for(;e>=oe(t+1);)t++;const n=oe(t);return{level:t,xpProgressInLevel:e-n,xpNeededForLevelUp:oe(t+1)-n}},[oe]);(0,t.useEffect)(()=>{if(!OF)return console.error("Firebase not initialized."),void c(!0);const e=function(e,t,n,r){return B(e).onAuthStateChanged(t,n,r)}(OF,e=>{s(e),c(!0)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!l||!o)return;const e=o.uid,t=jU("statsCache",60);t&&T(t);const n=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),e),r=NF(n,e=>{const t=e.exists()?u(u(u({},aU),e.data()),{},{username:e.data().username||o.email.split("@")[0]}):u(u({},aU),{},{username:o.email.split("@")[0]});T(t),((e,t)=>{const n={data:t,timestamp:Date.now()};sessionStorage.setItem(e,JSON.stringify(n))})("statsCache",t)}),i=jp(Uf(PF,"artifacts/".concat(jF,"/public/data/assignmentTracker")),Ip("userId","==",e),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ap("orderBy",e);return Op._create(n,t)}("dueDate","asc"),(Xa("limit",a=50),Mp._create("limit",a,"F")));var a;const s=NF(i,e=>{const t=e.docs.map(e=>{var t,n,r;return u(u({id:e.id},e.data()),{},{dueDate:null===(t=e.data().dueDate)||void 0===t?void 0:t.toDate(),dateCompleted:null===(n=e.data().dateCompleted)||void 0===n?void 0:n.toDate(),subtasks:e.data().subtasks||[],recurrenceType:e.data().recurrenceType||"none",recurrenceEndDate:null===(r=e.data().recurrenceEndDate)||void 0===r?void 0:r.toDate(),tags:e.data().tags||[]})});N(t)});return()=>{r(),s()}},[o,l,Y]),(0,t.useEffect)(()=>{if(o&&j.quests&&j.quests.lastUpdated&&(e=>{if(!e||"function"!==typeof e.toDate)return!1;const t=e.toDate(),n=new Date;return rU(n)>rU(t)})(j.quests.lastUpdated)){console.log("Generating new daily/weekly quests...");const e=iU();P({quests:e}),MF("Your daily and weekly quests have been refreshed!","info")}},[o,j.quests,P]);const le=(0,t.useMemo)(()=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date;return t.setDate(t.getDate()+10),t.setHours(23,59,59,999),E.filter(n=>!("Completed"===n.status||!n.dueDate)&&(n.dueDate>=e&&n.dueDate<=t))},[E]);(0,t.useEffect)(()=>{if(o&&!p.isOpen&&!j.triageSettings&&!j.lastTriageCompleted){const e=setTimeout(()=>{m({isOpen:!0,needsSetup:!0})},1500);return()=>clearTimeout(e)}},[o,j.triageSettings,j.lastTriageCompleted,p.isOpen]);const ce=(0,t.useMemo)(()=>{if(!j.triageSettings)return!1;const e=new Date,t=j.triageSettings.triageDay,n=new Date;if(n.setDate(e.getDate()-(e.getDay()-t+7)%7),n.setHours(0,0,0,0),e<n)return!1;const r=j.lastTriageCompleted&&"function"===typeof j.lastTriageCompleted.toDate?j.lastTriageCompleted.toDate():null;return!r||r<n},[j.triageSettings,j.lastTriageCompleted]),ue=(0,t.useCallback)(e=>{P({triageSettings:e}),m({isOpen:!0,needsSetup:!1})},[P]),de=(0,t.useCallback)(async e=>{if(!PF||!o)return;const t=[];e.forEach(e=>{const n=Bf(PF,"artifacts/".concat(jF,"/public/data/assignmentTracker"),e.id);t.push(_F(n,{priorityQuadrant:e.priorityQuadrant}))}),await Promise.all(t);const n=new Date;n.setDate(n.getDate()+7);const r={id:"clarity",name:"Clarity",expiresAt:n},i=[...(j.activeBoosts||[]).filter(e=>"clarity"!==e.id),r];await P({lastTriageCompleted:em(),activeBoosts:i}),MF("Weekly Triage Complete! 'Clarity' buff is active.","info")},[PF,o,jF,j.activeBoosts,P]),he=async(e,t)=>{if(PF)try{const n=Bf(PF,"artifacts/".concat(jF,"/public/data/assignmentTracker"),e);await _F(n,t)}catch(n){console.error("Error updating assignment:",n),MF("Failed to update assignment.","error")}},fe=async e=>{if(PF&&null!==o&&void 0!==o&&o.uid)try{await kF(Uf(PF,"artifacts/".concat(jF,"/public/data/assignmentTracker")),u(u({},e),{},{userId:o.uid}))}catch(t){console.error("Error adding assignment:",t),t.message.includes("Unsupported field value: undefined")?MF("Failed to add task. A date field might be missing or invalid.","error"):MF("Failed to add assignment.","error")}},pe=(0,t.useCallback)(()=>{if(0===I.length)return{name:"The Newbie",description:"Start completing assignments to discover your productivity persona!",icon:"\u2728"};let e=0,t=0,n=0,r=0,i=0;const a=I.length;I.forEach(a=>{null!==a.daysEarly&&(e+=a.daysEarly);a.dateCompleted&&a.dueDate&&a.dateCompleted>a.dueDate?t++:0,null!==a.pointsEarned&&null!==a.pointsMax&&a.pointsMax>0&&(n+=a.pointsEarned,r+=a.pointsMax),"Hard"===a.difficulty&&i++});const o=a>0?e/a:0,s=r>0?n/r*100:0,l=a>0?i/a*100:0,c=t/a*100;return s>=98&&0===t?{name:"The Perfectionist",description:"You have an impeccable record of submitting flawless work on time.",icon:"\ud83d\udc8e"}:s>=90&&l>=20?{name:"The High-Achieving Conqueror",description:"You consistently aim for excellence and tackle the toughest challenges!",icon:"\ud83d\udc51"}:a>=50&&c<=10?{name:"The Marathoner",description:"You have a long, proven track record of consistency and endurance.",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"}:o>=2&&0===t?{name:"The Early Bird Planner",description:"You love to get things done ahead of time.",icon:"\u23f0"}:l>=30?{name:"The Challenge Seeker",description:"You actively seek out and conquer difficult assignments.",icon:"\ud83c\udfd4\ufe0f"}:c>40&&s>=70?{name:"The Deadline Dynamo",description:"You thrive under pressure, delivering quality work just in time.",icon:"\u26a1"}:o<.5&&0===t?{name:"The Just-in-Time Submitter",description:"You masterfully use every minute, delivering right on schedule.",icon:"\ud83c\udfaf"}:a>=10&&o<1&&c<=20?{name:"The Steady Progressor",description:"You consistently chip away at tasks, making reliable progress.",icon:"\ud83d\udc22"}:a>=15&&s>=80&&c<=15?{name:"The All-Rounder",description:"A well-balanced performer, delivering high-quality work on time.",icon:"\ud83c\udfc5"}:a>0?{name:"The Emerging Star",description:"You're building solid habits! Keep going.",icon:"\ud83c\udf1f"}:{name:"The Newbie",description:"Start completing assignments to discover your persona!",icon:"\u2728"}},[I]),me=(0,t.useCallback)(()=>{let e="";const t=Math.random();e=t<GF?"mythic":t<GF+HF?"legendary":t<GF+HF+VF?"epic":t<GF+HF+VF+BF?"rare":"common";const n=WF[e];return n[Math.floor(Math.random()*n.length)]},[]),ge=(0,t.useCallback)(async()=>J(async()=>{if(!PF||!o)return;const e=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{await _F(e,{petStatus:"egg",assignmentsToHatch:UF,"cooldowns.collectEgg":em()}),MF("You found your first egg! Complete ".concat(UF," assignments to hatch it."),"info",3e3)}catch(t){const e=t.message.includes("permission-denied")?"You're acting too quickly!":"Server error.";MF(e,"error")}}),[PF,o,jF,J,MF]),ye=(0,t.useCallback)(async()=>J(async()=>{if(!PF||!o)return;if("hatched"!==j.petStatus&&"none"!==j.petStatus)return;const e=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{await CF(PF,async t=>{if(!(await t.get(e)).exists())throw new Error("User data missing.");t.update(e,{petStatus:"egg",assignmentsToHatch:UF,"cooldowns.collectEgg":em()})}),MF("You found a new egg! Complete ".concat(UF," assignments to hatch it."),"info",3e3)}catch(t){const e=t.message.includes("permission-denied")?"You're acting too quickly!":"Server error.";MF(e,"error")}}),[PF,o,jF,j.petStatus,J,MF]),ve=(0,t.useCallback)(async e=>{PF&&o&&J(async()=>{var t;let n=null;for(const o of Object.values(WF))if(n=o.find(t=>t.id===e.id||t.evolutions&&t.evolutions.some(t=>t.id===e.id)),n)break;let r=null;if(null!==(t=n)&&void 0!==t&&t.evolutions){const t=e.id===n.id?-1:n.evolutions.findIndex(t=>t.id===e.id);t+1<n.evolutions.length&&(r=n.evolutions[t+1])}if(!r)return void MF("This pet has reached its final evolution!","info");const i=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{await CF(PF,async t=>{var n;const a=await t.get(i);if(!a.exists())throw new Error("User data missing!");const o=a.data();if(o.currentLevel<r.levelRequired)throw new Error("Level ".concat(r.levelRequired," required."));if(o.totalXP<r.xpCost)throw new Error("You need ".concat(r.xpCost," XP to evolve."));const s=o.totalXP-r.xpCost,{level:l}=se(s),c=(o.ownedPets||[]).map(t=>t.id===e.id?r:t),u=(null===(n=o.currentPet)||void 0===n?void 0:n.id)===e.id?r:o.currentPet;t.update(i,{totalXP:s,currentLevel:l,currentPet:u,ownedPets:c,"cooldowns.evolvePet":em()})}),MF("Your ".concat(e.name," evolved into a ").concat(r.name,"!"),"info",5e3),await _e("petsEvolved")}catch(a){console.error("Evolution transaction failed: ",a);const e=a.message.includes("permission-denied")?"You're acting too quickly! Please wait a moment.":a.message;MF(e,"error")}})},[o,PF,jF,se,J,MF]),be=(0,t.useCallback)(()=>J(async()=>{if(!PF||!o)return;const e=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{var t;const n={dragon:{castleHealth:1}}[null===(t=j.currentPet)||void 0===t?void 0:t.id.split("_")[0]]||{};await CF(PF,async t=>{if(!(await t.get(e)).exists())throw new Error("Game state not found.");t.update(e,{td_wave:0,td_castleHealth:5+(n.castleHealth||0),td_towers:[],td_path:nU(),td_gameOver:!1,td_gameWon:!1,td_towerUpgrades:{},"cooldowns.resetTowerDefense":em(),lastActionTimestamp:em()})}),MF("New game started!","info")}catch(n){const e=n.message.includes("permission-denied")?"You're resetting too quickly!":"Game reset failed.";MF(e,"error")}}),[PF,o,jF,j.currentPet,J,MF]),we=(0,t.useCallback)(()=>{C.current.totalXP<50?MF("You need 50 XP to spin.","error"):R(!0)},[]),xe=(0,t.useCallback)(async e=>{if(R(!1),!PF||!o)return;const t=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{const n=await CF(PF,async n=>{const r=await n.get(t);if(!r.exists())throw new Error("User data is missing.");const i=r.data();if(i.totalXP<50)throw new Error("INSUFFICIENT_XP");let a=0,o=0,s="",l=[...i.ownedItems||[]],c=!1;if("xp_gain"===e.type)a=e.amount;else if("xp_loss"===e.type)a=e.amount;else if(e.id)if(l.includes(e.id)){o={common:2,rare:5,epic:15,legendary:30,mythic:75}[e.rarity]||2}else l.push(e.id),c=!0;const u=i.totalXP-50+a,d=(i.cosmeticShards||0)+o,{level:h}=se(u);return s=c?"You won: ".concat(e.name,"!"):a>0?"You won ".concat(a," XP!"):o>0?"Duplicate ".concat(e.name,"! You get ").concat(o," shards."):a<0?"You lost ".concat(Math.abs(a)," XP."):"Spin resulted in no change.",n.update(t,{totalXP:u,currentLevel:h,ownedItems:l,cosmeticShards:d,"cooldowns.spinSlotMachine":em()}),s});n&&MF(n,"info")}catch(n){"INSUFFICIENT_XP"===n.message?MF("Not enough XP.","error"):MF(n.message.includes("permission-denied")?"You're spinning too fast! Please wait a moment.":"Server error. XP not spent.","error")}},[o,PF,jF,se]),ke=(0,t.useCallback)(async()=>J(async()=>{if(!PF||!o)return;if("egg"!==j.petStatus||j.assignmentsToHatch>0)return;const e=me(),t=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{await CF(PF,async n=>{const r=await n.get(t);if(!r.exists())throw new Error("User data missing.");const i=[...r.data().ownedPets||[],e];n.update(t,{petStatus:"hatched",currentPet:e,ownedPets:i,assignmentsToHatch:UF,"cooldowns.hatchPet":em()})}),MF("Your egg hatched! You got a ".concat(e.rarity.toUpperCase()," ").concat(e.name,"!"),"info",5e3)}catch(n){const e=n.message.includes("permission-denied")?"You're acting too quickly!":"Server error.";MF(e,"error")}}),[PF,o,jF,j,me,J,MF]),Se=(0,t.useCallback)(async e=>{if(!PF||!o)return;const t=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{const{xpBonus:n,newAchievements:r,completedQuests:i,assignmentsToHatch:a}=await CF(PF,async n=>{var r;const i=await n.get(t);if(!i.exists())throw new Error("User document is missing!");const a=i.data(),o=null!==f.current?f.current:a.totalXP;f.current=null;let s=0,l=0,c=[],u=[],d=a.activeBoosts||[];const h=d.findIndex(e=>"xp"===e.type);if(h>-1){const e=d[h];s*=e.multiplier,MF("XP Boost applied! (+".concat((100*(e.multiplier-1)).toFixed(0),"%)"),"info"),e.remaining-=1,e.remaining<=0&&d.splice(h,1)}e.focusXpReward&&(s+=e.focusXpReward);const p={Easy:10,Medium:15,Hard:20}[e.difficulty]||10;s+=p;const m=(null===(r=a.currentPet)||void 0===r?void 0:r.xpBuff)||0,g="egg"===a.petStatus?Math.max(0,(a.assignmentsToHatch||0)-1):a.assignmentsToHatch||0;let y=JSON.parse(JSON.stringify(a.quests||{daily:[],weekly:[]}));const v=t=>{t.forEach(t=>{var n;if(t.completed)return;let r=!1;"completion"===t.type||"difficulty"===t.type&&"Hard"===e.difficulty||"tag"===t.type&&null!==(n=e.tags)&&void 0!==n&&n.includes(t.tag)?r=!0:"xp"===t.type&&(t.progress=(t.progress||0)+p,r=!0),r&&"xp"!==t.type&&(t.progress=(t.progress||0)+1),t.progress>=t.goal&&(t.completed=!0,s+=t.reward.xp,l+=t.reward.shards||0,u.push(t))})};v(y.daily),v(y.weekly);let b=a.achievements||{};const w=e=>{const t=QF[e];let n=b[e]||{tier:0,progress:0};n.progress+=1;const r=t.tiers[n.tier];r&&n.progress>=r.goal&&(n.tier+=1,s+=r.reward.xp,l+=r.reward.shards||0,c.push(r)),b[e]=n};w("assignmentsCompleted"),"Hard"===e.difficulty&&w("hardAssignmentsCompleted");const x=Math.round(s*(1+m)),k=o+x,S=(a.cosmeticShards||0)+l,{level:_}=se(k),A={totalXP:k,currentLevel:_,assignmentsCompleted:(a.assignmentsCompleted||0)+1,assignmentsToHatch:g,cosmeticShards:S,quests:y,achievements:b,activeBoosts:d,"cooldowns.completeAssignment":em()};return n.update(t,A),{xpBonus:x,newAchievements:c,completedQuests:u,assignmentsToHatch:g}});MF("Task complete! +".concat(n," XP."),"info"),U(n),H(e=>e+1),r.forEach(e=>MF("Achievement Unlocked: ".concat(e.name,"!"),"info",4e3)),i.forEach(e=>MF("Quest Complete: ".concat(e.name,"!"),"info",4e3)),"egg"===j.petStatus&&a<=0&&await ke()}catch(n){console.error("Reward processing transaction failed: ",n),MF("Failed to award XP due to a server error.","error")}},[o,PF,jF,se,ke,j.petStatus]),_e=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!PF||!o)return;const n=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{await CF(PF,async r=>{const i=await r.get(n);if(!i.exists())throw new Error("User data missing for achievement.");const a=i.data(),o=a.achievements||{},s=o[e]||{tier:0,progress:0},l=QF[e].tiers[s.tier];if(!l)return;const c=t?Math.max(s.progress,t):s.progress+1;if(s.progress=c,c>=l.goal){var u;s.tier+=1;const{xp:e,shards:t}=l.reward,i=(null===(u=a.currentPet)||void 0===u?void 0:u.xpBuff)||0,c=Math.round(e*(1+i)),d=a.totalXP+c,{level:h}=se(d),f={totalXP:d,currentLevel:h,achievements:o};t&&(f.cosmeticShards=(a.cosmeticShards||0)+t),r.update(n,f),setTimeout(()=>{MF("Achievement Unlocked: ".concat(l.name,"!"),"info",4e3)},500)}else r.update(n,{achievements:o})})}catch(r){console.error("Achievement processing failed for ".concat(e,":"),r)}},[o,PF,jF,se]),Ae=(0,t.useCallback)(e=>{j.totalXP<5?MF("You need 5 XP to start a mission.","error"):b({isOpen:!0,assignment:e})},[j.totalXP]),Ee=(0,t.useCallback)(async e=>{e&&(b({isOpen:!1,assignment:null}),await P({totalXP:j.totalXP-5}),x({isActive:!0,route:e,assignmentId:v.assignment.id,assignmentName:v.assignment.assignment}))},[v.assignment,j.totalXP,P]),Ne=(0,t.useCallback)(async e=>{const t=w;if(x({isActive:!1,route:null,assignmentName:null}),e){MF("Mission Success! Arrived at ".concat(bU.locations.find(e=>e.id===t.route.to).name,"."),"info"),await he(t.assignmentId,{focusXpReward:t.route.xpReward});const e=t.route.duration,n=j.focusNavigator||{unlockedLocations:["genesis_prime"],explorerStreak:0,lastStreakDay:null,dailyFocusMinutes:0},r=[...new Set([...n.unlockedLocations,t.route.to,t.route.from])],i=new Date,a=n.lastStreakDay?n.lastStreakDay.toDate():null,o=!!a&&rU(i).getTime()===rU(a).getTime();let s=n.explorerStreak||0,l=n.dailyFocusMinutes||0;if(o)l+=e;else{const t=new Date;t.setDate(i.getDate()-1);!!a&&rU(a).getTime()===rU(t).getTime()&&l>=45?(s+=1,MF("Explorer's Streak extended to ".concat(s," days!"),"info",4e3)):a&&(s>0&&MF("Daily focus goal missed. Streak reset.","error",4e3),s=0),l=e}l>=45&&(!n.dailyFocusMinutes||n.dailyFocusMinutes<45||!o)&&(MF("Daily focus goal of 45 minutes reached!","info",4e3),0===s&&(s=1));const c=j.quests||{daily:[],weekly:[]};let d=!1;const h=t=>{t.forEach(t=>{if(!t.completed&&"focusTime"===t.type&&(t.progress=(t.progress||0)+e,d=!0,t.progress>=t.goal)){t.completed=!0;const e=t.reward.xp||0,n=t.reward.shards||0;P({totalXP:j.totalXP+e,cosmeticShards:(j.cosmeticShards||0)+n}),MF("Quest Complete: ".concat(t.name,"!"),"info",4e3)}})};h(c.daily),h(c.weekly);const f=u(u({},n),{},{unlockedLocations:r,explorerStreak:s,dailyFocusMinutes:l,lastStreakDay:em()});if(s>(n.explorerStreak||0)&&Math.random()<.33){const e=JF.reduce((e,t)=>e+t.weight,0);let t=Math.random()*e;const n=JF.find(e=>(t-=e.weight,t<=0));n&&setTimeout(()=>{MF("\u2728 Cosmic Event: ".concat(n.description),"info",6e3);const e={};switch(n.reward.type){case"shards":e.cosmeticShards=(j.cosmeticShards||0)+n.reward.amount;break;case"xp":e.totalXP=(j.totalXP||0)+n.reward.amount;break;case"xp_boost":e.activeBoosts=[...j.activeBoosts||[],{type:"xp",multiplier:n.reward.multiplier,remaining:n.reward.duration}];break;case"cosmetic":j.ownedItems.includes(n.reward.cosmeticId)||(e.ownedItems=[...j.ownedItems||[],n.reward.cosmeticId])}Object.keys(e).length>0&&P(e)},1500)}await P({focusNavigator:f})}else MF("Mission Failed. No reward gained.","error")},[w,j.focusNavigator,P]);return l?o?(0,vF.jsxs)(vF.Fragment,{children:[w.isActive&&(0,vF.jsx)(kU,{mission:w,onMissionComplete:Ne,isMobile:S}),(0,vF.jsx)(yU,{isOpen:p.isOpen,onClose:()=>m({isOpen:!1,needsSetup:!1}),assignments:le,triageSettings:j.triageSettings,onSaveSettings:ue,onCompleteTriage:de}),(0,vF.jsx)(xU,{isOpen:v.isOpen,onClose:()=>b({isOpen:!1,assignment:null}),assignment:v.assignment,unlockedLocations:(null===(r=j.focusNavigator)||void 0===r?void 0:r.unlockedLocations)||["genesis_prime"],onLaunchMission:Ee}),(0,vF.jsxs)("div",{className:"min-h-screen font-inter text-slate-300 flex bg-slate-900 relative ".concat(re||"font-inter"," ").concat(w.isActive?"pointer-events-none":""),children:[(0,vF.jsx)("style",{children:"\n          /* All your @import and CSS variables... */\n          @import url('https://fonts.googleapis.com/css2?family=Dancing+Script&family=Inter:wght@400;700&family=Oswald&family=Permanent+Marker&family=Playfair+Display&family=Press+Start+2P&family=Roboto+Slab&family=Space+Mono&family=Cinzel+Decorative&family=Comic+Neue&family=Libre+Baskerville&family=Lato&family=Merriweather&family=Raleway&family=Ubuntu&display=swap');\n          :root { --primary-color: #4f46e5; --accent-color: #818cf8; --text-color: #ffffff; transition: --primary-color 0.3s, --accent-color 0.3s; }\n          @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }\n          .animate-fade-in { animation: fade-in 0.3s ease-in-out; }\n          body { background-color: #0f172a; }\n          .bg-primary { background-color: var(--primary-color); }\n          .text-accent { color: var(--accent-color); }\n          .border-accent { border-color: var(--accent-color); }\n          .font-inter { font-family: 'Inter', sans-serif; }\n          .font-mono { font-family: 'Space Mono', monospace; }\n          .font-serif { font-family: 'Playfair Display', serif; }\n          .font-cursive { font-family: 'Dancing Script', cursive; }\n          .font-handwritten { font-family: 'Permanent Marker', cursive; }\n          .font-pixel { font-family: 'Press Start 2P', cursive; }\n          .font-comic { font-family: 'Comic Neue', cursive; }\n          .font-fantasy { font-family: 'Cinzel Decorative', cursive; }\n          .font-slab { font-family: 'Roboto Slab', serif; }\n          .font-sans-condensed { font-family: 'Oswald', sans-serif; }\n          .font-baskerville { font-family: 'Libre Baskerville', serif; }\n          .font-lato { font-family: 'Lato', sans-serif; }\n          .font-merriweather { font-family: 'Merriweather', serif; }\n          .font-raleway { font-family: 'Raleway', sans-serif; }\n          .font-ubuntu { font-family: 'Ubuntu', sans-serif; }\n          ::-webkit-scrollbar { width: 8px; }\n          ::-webkit-scrollbar-track { background: #1e293b; }\n          ::-webkit-scrollbar-thumb { background: var(--primary-color); border-radius: 4px; }\n          .projectile { position: absolute; transform: translate(-50%, -50%); transition: top 0.3s linear, left 0.3s linear; z-index: 20; pointer-events: none; display: flex; align-items: center; justify-content: center; }          @keyframes enemy-hit { 0% { filter: brightness(1); } 50% { filter: brightness(3); } 100% { filter: brightness(1); } }\n          .enemy-hit-animation { animation: enemy-hit 0.2s ease-in-out; }\n          .xp-bar-container { position: fixed; bottom: 2%; left: 0; width: 100%; display: flex; justify-content: center; pointer-events: none; z-index: 9999; opacity: 0; animation: fade-in-bar 0.5s ease-out forwards; }\n          @keyframes fade-in-bar { to { opacity: 1; } }\n          .xp-bar-wrapper { position: relative; width: 50%; max-width: 600px; height: 20px; }\n          .xp-bar-background { width: 100%; height: 16px; background-color: #1e293b; border: 2px solid #0f172a; border-radius: 2px; overflow: hidden; }\n          .xp-bar-fill { height: 100%; background-color: #6366f1; transition: width 0.1s linear; }\n          .xp-level-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-weight: bold; font-size: 12px; text-shadow: 1px 1px 2px #000; }\n          .xp-orb { position: fixed; border-radius: 50%; background-color: #a7f3d0; box-shadow: 0 0 10px #34d399, 0 0 4px white; opacity: 0; will-change: transform, opacity; transform: translate(-50%, -50%); }\n          .xp-orb.satis-low { width: 8px; height: 8px; }\n          .xp-orb.satis-medium { width: 12px; height: 12px; }\n          .xp-orb.satis-high { width: 16px; height: 16px; }\n          @keyframes fly-to-bar-minecraft { 0% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; } 100% { top: 98vh; left: 50vw; transform: translate(-50%, -50%) scale(0); opacity: 0; } }\n          \n          /* Tower Defense Tower Animation */\n          @keyframes tower-attack-pulse { 0% { transform: scale(1); } 50% { transform: scale(1.15); } 100% { transform: scale(1); } }\n          .tower-attack { animation: tower-attack-pulse 0.3s ease-out; }\n\n          /* Dungeon Crawler Animations */\n          @keyframes entity-hit-flash { 0% { filter: brightness(1); } 50% { filter: brightness(3) drop-shadow(0 0 5px #fff); } 100% { filter: brightness(1); } }\n          .entity-hit { animation: entity-hit-flash 0.2s ease-in-out; }\n          \n          @keyframes particle-burst {\n            0% { transform: scale(0); opacity: 1; }\n            100% { transform: scale(1.5); opacity: 0; }\n          }\n          .particle {\n            position: absolute;\n            background-color: #f59e0b; /* Orange-yellow for impact */\n            border-radius: 50%;\n            animation-name: particle-burst;\n            animation-duration: 0.5s;\n            animation-timing-function: ease-out;\n            animation-fill-mode: forwards;\n          }\n      "}),S&&_&&(0,vF.jsx)("div",{onClick:()=>A(!1),className:"fixed inset-0 bg-black/60 z-30 md:hidden"}),(0,vF.jsx)("div",{id:"messageBox",className:"fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-y-full opacity-0",children:(0,vF.jsx)("p",{id:"messageText",className:"text-white"})}),(0,vF.jsx)(lU,{show:L,onAnimationEnd:()=>z(!1),equippedAnimationEffect:null!==j&&void 0!==j&&null!==(i=j.equippedItems)&&void 0!==i&&i.animation?null===(a=DF.animations.find(e=>e.id===j.equippedItems.animation))||void 0===a?void 0:a.effect:null}),"      ",(0,vF.jsx)(sU,{isOpen:D,onClose:()=>R(!1),onAnimationComplete:xe}),(0,vF.jsx)(NU,{xpGained:F,stats:j,calculateLevelInfo:se,onAnimationComplete:()=>{U(0),W(null)},onAudioReady:e=>{q.current=e},originEvent:G},V),(0,vF.jsxs)("nav",{className:"fixed top-0 left-0 h-full w-64 bg-slate-900 p-6 flex-shrink-0 flex flex-col shadow-2xl z-40 transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ".concat(_?"translate-x-0":"-translate-x-full"),children:[(0,vF.jsx)("ul",{className:"space-y-2 flex-grow",children:[{name:"Dashboard",sheet:"Stats + XP Tracker",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})},{name:"Assignments",sheet:"Assignment Tracker",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})},{name:"Achievements",sheet:"Achievements",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01-.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})},{name:"Sanctum",sheet:"Sanctum",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{d:"M10 20a10 10 0 110-20 10 10 0 010 20zM9 4a1 1 0 112 0v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V7H8a1 1 0 010-2h1V4z"})})},{name:"Alchemist's Workshop",sheet:"Alchemist's Workshop",icon:(0,vF.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,vF.jsx)("path",{d:"M5 3a1 1 0 000 2c5.523 0 10 4.477 10 10a1 1 0 102 0C17 8.373 11.627 3 5 3z"}),(0,vF.jsx)("path",{d:"M4 9a1 1 0 011-1 7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5 1 1 0 01-1-1z"})]})},{name:"Calendar",sheet:"Calendar View",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})},{name:"Analytics",sheet:"GPA & Tags Analytics",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})},{name:"Dungeon Crawler",sheet:"Dungeon Crawler",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M1.5 6.5a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-2zM6 11a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 4a1 1 0 100 2h4a1 1 0 100-2H7zM2 2.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5h2a.5.5 0 00.5-.5v-2a.5.5 0 00-.5-.5h-2zM2.5 14a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-2zM14 2.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5h2a.5.5 0 00.5-.5v-2a.5.5 0 00-.5-.5h-2zM13.5 14a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-2z",clipRule:"evenodd"})})},{name:"Tower Defense",sheet:"Tower Defense",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M4 3a1 1 0 011-1h8a1 1 0 011 1v2h1a1 1 0 011 1v10a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1h1V3zm3 4a1 1 0 011-1h2a1 1 0 110 2H8a1 1 0 01-1-1z",clipRule:"evenodd"})})},{name:"Science Lab",sheet:"Science Lab",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M7 2a.5.5 0 01.5.5V3h5V2.5a.5.5 0 011 0V3h1a2 2 0 012 2v1.5a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5V5a1 1 0 00-1-1H7a1 1 0 00-1 1v.5a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5V5a2 2 0 012-2h1V2.5A.5.5 0 017 2zM4.002 8.5a.5.5 0 01.498.5v7a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-7a.5.5 0 01.5-.5h1zM16 8.5a.5.5 0 01.5.5v7a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-7a.5.5 0 01.5-.5h1zM7 9a1 1 0 00-1 1v5a1 1 0 102 0v-5a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v5a1 1 0 102 0v-5a1 1 0 00-1-1z",clipRule:"evenodd"})})},{name:"Study Zone",sheet:"Study Zone",icon:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L9 9.58v5.528l-3-1.286a1 1 0 00-1.212.86l-.5 2.5a1 1 0 00.97 1.245l5-1a1 1 0 00.484 0l5 1a1 1 0 00.97-1.245l-.5-2.5a1 1 0 00-1.212-.86l-3 1.286V9.58l6.406-2.658a1 1 0 000-1.84l-7-3zM9 4.399l5.223 2.155L10 8.517 4.777 6.554 9 4.399z"})})}].map(e=>(0,vF.jsx)("li",{children:(0,vF.jsxs)("button",{onClick:()=>{h(e.sheet),S&&A(!1)},className:"w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-3 ".concat(d===e.sheet?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white hover:translate-x-1"),children:[e.icon,(0,vF.jsx)("span",{children:e.name})]})},e.name))}),(0,vF.jsx)("div",{className:"border-t border-slate-700 mx-[-1.5rem] my-4"}),(0,vF.jsx)("ul",{className:"space-y-2",children:(0,vF.jsx)("li",{children:(0,vF.jsxs)("button",{onClick:()=>{h("Why"),S&&A(!1)},className:"w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-3 ".concat("Why"===d?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white hover:translate-x-1"),children:[(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,vF.jsx)("span",{children:"Why I Built This"})]})})}),(0,vF.jsxs)("div",{className:"pt-4 space-y-2 ".concat(S?"":"mt-auto"),children:[(0,vF.jsxs)("button",{onClick:()=>{h("My Profile"),S&&A(!1)},className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-800 transition-all duration-200 hover:translate-x-1",children:[(0,vF.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-xl border-2 border-slate-600",children:ae}),(0,vF.jsxs)("div",{className:"flex-1 text-left",children:[(0,vF.jsx)("p",{className:"text-sm font-semibold text-white",children:"My Profile"}),(0,vF.jsxs)("p",{className:"text-xs text-slate-400 truncate",children:["ID: ",null===o||void 0===o?void 0:o.uid]})]})]}),(0,vF.jsxs)("button",{onClick:async()=>{try{await function(e){return B(e).signOut()}(OF),sessionStorage.removeItem("statsCache")}catch(e){console.error("Error signing out:",e),MF("Failed to sign out.","error")}},className:"w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:bg-red-900/50 hover:text-white transition-colors",children:[(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,vF.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),(0,vF.jsx)("span",{children:"Sign Out"})]})]})]}),(0,vF.jsxs)("main",{className:"flex-grow p-4 md:p-8 overflow-auto w-full md:w-auto",children:[(0,vF.jsx)("button",{onClick:()=>A(!0),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-slate-800/80 rounded-md",children:(0,vF.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,vF.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),"Assignment Tracker"===d&&(0,vF.jsx)(IU,{assignments:E.filter(e=>"Completed"!==e.status),isAddModalOpen:O,setIsAddModalOpen:M,addAssignmentToFirestore:fe,updateAssignmentInFirestore:he,deleteAssignmentFromFirestore:async e=>{if(!PF)return;const t=Bf(PF,"artifacts/".concat(jF,"/public/data/assignmentTracker"),e);console.log("%c[Firestore DELETE]","color: #ef4444; font-weight: bold;",{path:t.path}),console.trace("Trace for Delete");try{await AF(t)}catch(n){console.error("Error deleting assignment:",n),MF("Failed to delete assignment.","error")}},handleCompletedToggle:(e,t,n)=>J(async()=>{if(!PF||null===o||void 0===o||!o.uid)return;const r="Completed"!==n.status;try{if(r){const r=new Date,i=((e,t)=>{if(!e||!t)return null;const n=e.getTime()-t.getTime();return Math.ceil(n/864e5)})(n.dueDate,r),a=u(u({},n),{},{status:"Completed",dateCompleted:em(),daysEarly:i,dueDate:n.dueDate||null,recurrenceEndDate:n.recurrenceEndDate||null});if(delete a.id,await he(t,a),z(!0),q.current&&(q.current(),W(e.currentTarget)),await Se(u(u({},n),{},{dateCompleted:r,daysEarly:i})),n.recurrenceType&&"none"!==n.recurrenceType&&n.dueDate){let e=new Date(n.dueDate);if("daily"===n.recurrenceType?e.setDate(e.getDate()+1):"weekly"===n.recurrenceType?e.setDate(e.getDate()+7):"monthly"===n.recurrenceType&&e.setMonth(e.getMonth()+1),!n.recurrenceEndDate||e<=n.recurrenceEndDate){const t=u(u({},n),{},{dueDate:e,status:"To Do",dateCompleted:null,daysEarly:null,subtasks:(n.subtasks||[]).map(e=>u(u({},e),{},{completed:!1})),recurrenceEndDate:n.recurrenceEndDate||null});delete t.id,await fe(t),MF('New recurring task "'.concat(t.assignment,'" created.'),"info")}}}else await he(t,{status:"To Do",dateCompleted:null,daysEarly:null}),MF("Assignment marked as to-do.","info")}catch(i){console.error("Error toggling completion:",i),MF("Operation failed: ".concat(i.message),"error")}}),promptMissionStart:Ae,isMobile:S}),"Achievements"===d&&(0,vF.jsx)(gU,{gameProgress:j}),"Stats + XP Tracker"===d&&(0,vF.jsx)(MU,{stats:j,assignments:E,completedAssignments:I,handleRefresh:()=>{K||(Q(!0),sessionStorage.removeItem("statsCache"),X(e=>e+1),MF("Force refreshing all data...","info"),setTimeout(()=>Q(!1),2e3))},isRefreshing:K,getProductivityPersona:pe,calculateLevelInfo:se,getStartOfWeek:e=>{const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(0===n?-6:1);return new Date(t.setDate(r))},collectFirstEgg:ge,hatchEgg:ke,collectNewEgg:ye,spinProductivitySlotMachine:we,shouldPromptForTriage:ce,onStartTriage:()=>m({isOpen:!0,needsSetup:!j.triageSettings})}),"My Profile"===d&&(0,vF.jsx)(PU,{stats:j,user:o,userId:null===o||void 0===o?void 0:o.uid,updateStatsInFirestore:P,handleEvolvePet:ve,getFullPetDetails:$,getFullCosmeticDetails:ee,getItemStyle:te,db:PF,appId:jF,showMessageBox:MF,actionLock:J,processAchievement:_e,calculateLevelInfo:se}),"Sanctum"===d&&(0,vF.jsx)(wU,{stats:j,completedAssignments:I,updateStatsInFirestore:P,showMessageBox:MF,getFullCosmeticDetails:ee,getItemStyle:te,processAchievement:_e}),"Why"===d&&(0,vF.jsx)(vU,{}),"Calendar View"===d&&(0,vF.jsx)(DU,{assignments:E}),"GPA & Tags Analytics"===d&&(0,vF.jsx)(RU,{completedAssignments:I}),"Dungeon Crawler"===d&&(0,vF.jsx)(fU,{stats:j,updateStatsInFirestore:P,showMessageBox:MF,getFullPetDetails:$,onResetDungeon:()=>J(async()=>{if(!PF||!o)return;const e={phase:"class_selection",playerClass:null,floor:1,board:{},player:{id:"player",entityType:"player",x:1,y:1,hp:100,maxHp:100,attack:10,hasKey:!1,activeEffects:[]},enemies:[],enemyMovePaths:{},lastMoveTrails:[],turnCount:1,log:["Choose your class to begin your adventure."],gameOver:!1,shopOpen:!1,ownedWeapons:[],ownedArmor:[],potions:0,boughtStats:{hp:0,attack:0}};T(t=>u(u({},t),{},{dungeon_state:e,dungeon_floor:0,dungeon_gold:0}));const t=Bf(PF,"artifacts/".concat(jF,"/public/data/stats"),o.uid);try{await _F(t,{dungeon_state:e,dungeon_floor:0,dungeon_gold:0,"cooldowns.resetDungeon":em(),lastActionTimestamp:em()}),y(e=>e+1),MF("Dungeon has been reset! Choose your class.","info")}catch(n){const e=n.message.includes("permission-denied")?"You're resetting too quickly!":"Dungeon reset failed.";MF(e,"error")}}),getFullCosmeticDetails:ee,processAchievement:_e,syncDungeonXp:e=>{f.current=e},isMobile:S,addIngredientToInventory:Z},g),"Tower Defense"===d&&(0,vF.jsx)(mU,{stats:j,updateStatsInFirestore:P,showMessageBox:MF,onResetGame:be,getFullCosmeticDetails:ee,generatePath:nU,processAchievement:_e,addIngredientToInventory:Z}),"Science Lab"===d&&(0,vF.jsx)(pU,{stats:j,userId:null===o||void 0===o?void 0:o.uid,updateStatsInFirestore:P,showMessageBox:MF,actionLock:J,processAchievement:_e}),"Study Zone"===d&&(0,vF.jsx)(LU,{stats:j,updateStatsInFirestore:P,showMessageBox:MF,processAchievement:_e,isMobile:S}),"Alchemist's Workshop"===d&&(0,vF.jsx)(SU,{stats:j,updateStatsInFirestore:P})]},Y)]})]}):(0,vF.jsx)(TU,{}):(0,vF.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:"Loading..."})},GU=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,vF.jsx)(t.StrictMode,{children:(0,vF.jsx)(HU,{})})),GU()})()})();
//# sourceMappingURL=main.d9b1df8d.js.map