/*! For license information please see main.d5fb0f78.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.zv=function(e){return g(e)===i}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];a?"\\"===s&&r+1<n?(r++,i+=e[r]):s===a?a="":i+=s:o?'"'===s||"'"===s?a=s:"]"===s?(o=!1,t.push(i),i=""):i+=s:"["===s?(o=!0,i&&(t.push(i),i="")):"."===s?i&&(t.push(i),i=""):i+=s,r++}return i&&t.push(i),t}},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(8268),a=n(870),o=n(4803),s=n(9972);function l(e,t,n,i){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let a=0;a<i.length;a++){const s=i[a];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,i);case"function":return Object.keys(t).length>0?l(e,r({},t),n,i):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],o,a,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?i.isMatch(e,t):l(e,t,function e(t,r,i,a,o,s){const c=n(t,r,i,a,o,s);return void 0!==c?Boolean(c):l(t,r,e,s)},new Map)},t.isSetMatch=u},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),a=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),a=n(3808),o=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),a=n(870),o=n(9972);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(){}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+C(e,0):a,x(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(E(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=S(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===a?".":a+":";if(x(e))for(var m=0;m<e.length;m++)u+=P(a=e[m],t,i,s=p+C(a,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=P(a=a.value,t,i,s=p+C(a,m++),o);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function I(){}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return S(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(I,j)}catch(a){j(a)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.1"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const o=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),a=n(2104),o=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),a=n(6321),o=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),a=n(1444);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,o,s)=>{const l=null===t||void 0===t?void 0:t(n,a,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,S||(S=!0,k());else{var t=r(u);null!==t&&j(_,t.startTime-e)}}var k,S=!1,E=-1,T=5,C=-1;function N(){return!!y||!(t.unstable_now()-C<T)}function P(){if(y=!1,S){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var a=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&j(_,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof w)k=function(){w(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=P,k=function(){A.postMessage(null)}}else k=function(){v(P,0)};function j(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,j(_,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,S||(S=!0,k()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),a=n(7599),o=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),a=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}var I=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=L[F],L[F]=null,F--)}function V(e,t){F++,L[F]=e.current,e.current=t}var B=z(null),H=z(null),q=z(null),W=z(null);function K(e,t){switch(V(q,t),V(H,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function G(){U(B),U(H),U(q)}function X(e){null!==e.memoizedState&&V(W,e);var t=B.current,n=ad(t,e.type);t!==n&&(V(H,e),V(B,n))}function Y(e){H.current===e&&(U(B),U(H)),W.current===e&&(U(W),Xd._currentValue=R)}var Q=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=ve(r):0!==(o&=s)?i=ve(o):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~a)?i=ve(s):0!==o?i=ve(o):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),je="__reactFiber$"+Ae,Ie="__reactProps$"+Ae,De="__reactContainer$"+Ae,Me="__reactEvents$"+Ae,Re="__reactListeners$"+Ae,Le="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,ze="__reactMarker$"+Ae;function Ue(e){delete e[je],delete e[Ie],delete e[Me],delete e[Re],delete e[Le]}function Ve(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[je])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[je]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ze]=!0}var Ke=new Set,Ge={};function Xe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Qe,Je,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(i=t,Q.call(et,i)||!Q.call($e,i)&&(Ze.test(i)?et[i]=!0:($e[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Je}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(I(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&St(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,It=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ie]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Rt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==jt||null!==It)&&(Vc(),jt&&(t=jt,e=It,It=jt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ie]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ih){zt=!1}var Vt=null,Bt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Xt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Qt,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Xt(Zt),en=h({},Zt,{view:0,detail:0}),tn=Xt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Qt=e.screenY-Jt.screenY):Qt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Xt(nn),an=Xt(h({},nn,{dataTransfer:0})),on=Xt(h({},en,{relatedTarget:0})),sn=Xt(h({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xt(h({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Xt(h({},Zt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Xt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Xt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Xt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Xt(h({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Xt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Xt(h({},Zt,{newState:0,oldState:0})),xn=[9,13,27,32],_n=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var Sn=Ft&&"TextEvent"in window&&!kn,En=Ft&&(!_n||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),Cn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function In(e,t,n,r){jt?It?It.push(r):It=[r]:jt=r,0<(t=qu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function Rn(e){Ru(e,0)}function Ln(e){if(ht(He(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Un;if(Ft){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;zn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){Dn&&(Dn.detachEvent("onpropertychange",qn),Mn=Dn=null)}function qn(e){if("value"===e.propertyName&&Ln(Mn)){var t=[];In(t,Mn,e,At(e)),Rt(Rn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),Mn=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Mn)}function Gn(e,t){if("click"===e)return Ln(t)}function Xn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Qn(ar,r)||(ar=r,0<(r=qu(ir,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){wr.set(e,t),Xe(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],Tr=0,Cr=0;function Nr(){for(var e=Tr,t=Cr=Tr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var a=Er[t];if(Er[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&jr(n,i,a)}}function Pr(e,t,n,r){Er[Tr++]=e,Er[Tr++]=t,Er[Tr++]=n,Er[Tr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Pr(e,t,n,r),Ir(e)}function Ar(e,t){return Pr(e,null,null,t),Ir(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Ir(e){if(50<jc)throw jc=0,Ic=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Mr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Lr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Rr(31,n,t,i)).elementType=C,e.lanes=a,e;case g:return Vr(n.children,i,a,t);case y:s=8,i|=24;break;case v:return(e=Rr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case k:return(e=Rr(13,n,t,i)).elementType=k,e.lanes=a,e;case S:return(e=Rr(19,n,t,i)).elementType=S,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:s=10;break e;case w:s=9;break e;case _:s=11;break e;case E:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vr(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Wr=0,Kr=null,Gr=0,Xr=[],Yr=0,Qr=null,Jr=1,Zr="";function $r(e,t){qr[Wr++]=Gr,qr[Wr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){Xr[Yr++]=Jr,Xr[Yr++]=Zr,Xr[Yr++]=Qr,Qr=e;var r=Jr;e=Zr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-fe(t)+i|n<<i|r,Zr=a+e}else Jr=1<<a|n<<i|r,Zr=e}function ti(e){null!==e.return&&($r(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=qr[--Wr],qr[Wr]=null,Gr=qr[--Wr],qr[Wr]=null;for(;e===Qr;)Qr=Xr[--Yr],Xr[Yr]=null,Zr=Xr[--Yr],Xr[Yr]=null,Jr=Xr[--Yr],Xr[Yr]=null}var ri=null,ii=null,ai=!1,oi=null,si=!1,li=Error(o(519));function ci(e){throw mi(Sr(Error(o(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[Ie]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Lu(Du[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,ai=!1}function pi(){var e=oi;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),oi=null),e}function mi(e){null===oi?oi=[e]:oi.push(e)}var gi=z(null),yi=null,vi=null;function bi(e,t,n){V(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,U(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xi(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),xi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function ki(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}i=i.return}null!==e&&_i(t,e,n,r),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ei(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ni(yi,e)}function Ci(e,t){return null===yi&&Ei(e),Ni(e,t)}function Ni(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(o(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Pi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Oi=r.unstable_scheduleCallback,Ai=r.unstable_NormalPriority,ji={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ii(){return{controller:new Pi,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Oi(Ai,function(){e.controller.abort()})}var Mi=null,Ri=0,Li=0,Fi=null;function zi(){if(0===--Ri&&null!==Mi){null!==Fi&&(Fi.status="fulfilled");var e=Mi;Mi=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Ri=0,Li=Pu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ri++,t.then(zi,zi)}(0,t),null!==Ui&&Ui(e,t)};var Vi=z(null);function Bi(){var e=Vi.current;return null!==e?e:rc.pooledCache}function Hi(e,t){V(Vi,null===t?Vi.current:t.pool)}function qi(){var e=Bi();return null===e?null:{parent:ji._currentValue,pool:e}}var Wi=Error(o(460)),Ki=Error(o(474)),Gi=Error(o(542)),Xi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qi,Qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qi,Qi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Zi=t,Wi}}var Zi=null;function $i(){if(null===Zi)throw Error(o(459));var e=Zi;return Zi=null,e}function ea(e){if(e===Wi||e===Gi)throw Error(o(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ir(e),jr(e,null,n),t}return Pr(e,r,t,n),Ir(e)}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Fi)throw Fi}}function ua(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Li&&(la=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ta=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var fa=z(null),pa=z(0);function ma(e,t){V(pa,e=dc),V(fa,t),dc=e|t.baseLanes}function ga(){V(pa,dc),V(fa,fa.current)}function ya(){dc=pa.current,U(fa),U(pa)}var va=0,ba=null,wa=null,xa=null,_a=!1,ka=!1,Sa=!1,Ea=0,Ta=0,Ca=null,Na=0;function Pa(){throw Error(o(321))}function Oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Aa(e,t,n,r,i,a){return va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ko:Go,Sa=!1,a=n(r,i),Sa=!1,ka&&(a=Ia(t,n,r,i)),ja(e),a}function ja(e){D.H=Wo;var t=null!==wa&&null!==wa.next;if(va=0,xa=wa=ba=null,_a=!1,Ta=0,Ca=null,t)throw Error(o(300));null===e||Cs||null!==(e=e.dependencies)&&Si(e)&&(Cs=!0)}function Ia(e,t,n,r){ba=e;var i=0;do{if(ka&&(Ca=null),Ta=0,ka=!1,25<=i)throw Error(o(301));if(i+=1,xa=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=Xo,a=t(n,r)}while(ka);return a}function Da(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Ua(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(ba.flags|=1024),t}function Ma(){var e=0!==Ea;return Ea=0,e}function Ra(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(_a){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_a=!1}va=0,xa=wa=ba=null,ka=!1,Ta=Ea=0,Ca=null}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?ba.memoizedState=xa=e:xa=xa.next=e,xa}function za(){if(null===wa){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===xa?ba.memoizedState:xa.next;if(null!==t)xa=t,wa=e;else{if(null===e){if(null===ba.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===xa?ba.memoizedState=xa=e:xa=xa.next=e}return xa}function Ua(e){var t=Ta;return Ta+=1,null===Ca&&(Ca=[]),e=Ji(Ca,e,t),t=ba,null===(null===xa?t.memoizedState:xa.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ko:Go),e}function Va(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ua(e);if(e.$$typeof===x)return Ti(e)}throw Error(o(438,String(e)))}function Ba(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function Ha(e,t){return"function"===typeof t?t(e):t}function qa(e){return Wa(za(),wa,e)}function Wa(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(va&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((va&f)===f){u=u.next,f===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,ba.lanes|=f,fc|=f}h=u.action,Sa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,ba.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Yn(a,e.memoizedState)&&(Cs=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ka(e){var t=za(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Yn(a,t.memoizedState)||(Cs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ga(e,t,n){var r=ba,i=za(),a=ai;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Yn((wa||i).memoizedState,n);if(s&&(i.memoizedState=n,Cs=!0),i=i.queue,yo(2048,8,Qa.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==xa&&1&xa.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,i,n,t),null),null===rc)throw Error(o(349));a||0!==(124&va)||Xa(r,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&Za(e)}function Qa(e,t,n){return n(function(){Ja(t)&&Za(e)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Za(e){var t=Ar(e,2);null!==t&&Rc(t,e,2)}function $a(e){var t=Fa();if("function"===typeof e){var n=e;if(e=n(),Sa){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Wa(e,wa,"function"===typeof r?r:Ha)}function to(e,t,n,r,i){if(Bo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,no(t,a)):(a.next=n.next,t.pending=n.next=a)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,o={};D.T=o;try{var s=n(i,r),l=D.S;null!==l&&l(o,s),ro(e,t,s)}catch(c){ao(e,t,c)}finally{D.T=a}}else try{ro(e,t,a=n(i,r))}catch(u){ao(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){io(e,t,n)},function(n){return ao(e,t,n)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ai){var n=rc.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=si;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=r,n=zo.bind(null,ba,r),r.dispatch=n,r=$a(!1),a=Vo.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fa()).queue=i,n=to.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(za(),wa,e)}function uo(e,t,n){if(t=Wa(e,t,so)[0],e=qa(Ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ua(t)}catch(o){if(o===Wi)throw Gi;throw o}else r=t;var i=(t=za()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,i,n),null)),[r,a,e]}function ho(e,t){e.action=t}function fo(e){var t=za(),n=wa;if(null!==n)return uo(t,n,e);za(),t=t.memoizedState;var r=(n=za()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return za().memoizedState}function go(e,t,n,r){var i=Fa();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var i=za();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&Oa(r,wa.memoizedState.deps)?i.memoizedState=po(t,a,n,r):(ba.flags|=e,i.memoizedState=po(1|t,a,n,r))}function vo(e,t){go(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function wo(e,t){return yo(4,2,e,t)}function xo(e,t){return yo(4,4,e,t)}function _o(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,_o.bind(null,t,e),n)}function So(){}function Eo(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Oa(t,r[1]))return r[0];if(r=e(),Sa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Co(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),ba.lanes|=e,fc|=e,n)}function No(e,t,n,r){return Yn(n,t)?n:null!==fa.current?(e=Co(e,n,r),Yn(e,t)||(Cs=!0),e):0===(42&va)?(Cs=!0,e.memoizedState=n):(e=Mc(),ba.lanes|=e,fc|=e,t)}function Po(e,t,n,r,i){var a=M.p;M.p=0!==a&&8>a?a:8;var o=D.T,s={};D.T=s,Vo(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Uo(e,t,r,Dc())}catch(u){Uo(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{M.p=a,D.T=o}}function Oo(){}function Ao(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=jo(e).queue;Po(e,i,t,R,null===n?Oo:function(){return Io(e),n(r)})}function jo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Io(e){Uo(e,jo(e).next.queue,{},Dc())}function Do(){return Ti(Xd)}function Mo(){return za().memoizedState}function Ro(){return za().memoizedState}function Lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=aa(t,e=ia(n),n);return null!==r&&(Rc(r,t,n),oa(r,t,n)),t={cache:Ii()},void(e.payload=t)}t=t.return}}function Fo(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)?Ho(t,n):null!==(n=Or(e,t,n,r))&&(Rc(n,e,r),qo(n,t,r))}function zo(e,t,n){Uo(e,t,n,Dc())}function Uo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))Ho(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Yn(s,o))return Pr(e,t,i,0),null===rc&&Nr(),!1}catch(l){}if(null!==(n=Or(e,t,i,r)))return Rc(n,e,r),qo(n,t,r),!0}return!1}function Vo(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&Rc(t,e,2)}function Bo(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Ho(e,t){ka=_a=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Wo={readContext:Ti,use:Va,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useLayoutEffect:Pa,useInsertionEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useSyncExternalStore:Pa,useId:Pa,useHostTransitionStatus:Pa,useFormState:Pa,useActionState:Pa,useOptimistic:Pa,useMemoCache:Pa,useCacheRefresh:Pa},Ko={readContext:Ti,use:Va,useCallback:function(e,t){return Fa().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=Fa();t=void 0===t?null:t;var r=e();if(Sa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fa();if(void 0!==n){var i=n(t);if(Sa){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fo.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fa().memoizedState=e},useState:function(e){var t=(e=$a(e)).queue,n=zo.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:So,useDeferredValue:function(e,t){return Co(Fa(),e,t)},useTransition:function(){var e=$a(!1);return e=Po.bind(null,ba,e.queue,!0,!1),Fa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=Fa();if(ai){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&ac)||Xa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,vo(Qa.bind(null,r,a,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,a,n,t),null),n},useId:function(){var e=Fa(),t=rc.identifierPrefix;if(ai){var n=Zr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Ea++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Na++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Fa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vo.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ba,useCacheRefresh:function(){return Fa().memoizedState=Lo.bind(null,ba)}},Go={readContext:Ti,use:Va,useCallback:Eo,useContext:Ti,useEffect:bo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:To,useReducer:qa,useRef:mo,useState:function(){return qa(Ha)},useDebugValue:So,useDeferredValue:function(e,t){return No(za(),wa.memoizedState,e,t)},useTransition:function(){var e=qa(Ha)[0],t=za().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ga,useId:Mo,useHostTransitionStatus:Do,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(za(),0,e,t)},useMemoCache:Ba,useCacheRefresh:Ro},Xo={readContext:Ti,use:Va,useCallback:Eo,useContext:Ti,useEffect:bo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:To,useReducer:Ka,useRef:mo,useState:function(){return Ka(Ha)},useDebugValue:So,useDeferredValue:function(e,t){var n=za();return null===wa?Co(n,e,t):No(n,wa.memoizedState,e,t)},useTransition:function(){var e=Ka(Ha)[0],t=za().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ga,useId:Mo,useHostTransitionStatus:Do,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=za();return null!==wa?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ba,useCacheRefresh:Ro},Yo=null,Qo=0;function Jo(e){var t=Qo;return Qo+=1,null===Yo&&(Yo=[]),Ji(Yo,e,t)}function Zo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $o(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&es(a)===t.type)?(Zo(t=i(t,n.props),n),t.return=e,t):(Zo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Zo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case T:return h(e,t=(0,t._init)(t._payload),n)}if(I(t)||O(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Jo(t),n);if(t.$$typeof===x)return h(e,Ci(e,t),n);$o(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(I(n)||O(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Jo(n),r);if(n.$$typeof===x)return f(e,t,Ci(e,n),r);$o(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(I(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Jo(r),i);if(r.$$typeof===x)return y(e,t,n,Ci(t,r),i);$o(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&es(b)===c.type){n(l,c.sibling),Zo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Zo(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Hr(u,l.mode,d)).return=l,l=d}return s(l);case T:return v(l,c,u=(b=u._init)(u._payload),d)}if(I(u))return function(i,o,s,l){for(var c=null,u=null,d=o,p=o=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,s[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===s.length)return n(i,d),ai&&$r(i,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(i,s[p],l))&&(o=a(d,o,p),null===u?c=d:u.sibling=d,u=d);return ai&&$r(i,p),c}for(d=r(d);p<s.length;p++)null!==(m=y(d,i,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=a(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),ai&&$r(i,p),c}(l,c,u,d);if(O(u)){if("function"!==typeof(b=O(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,p=s,m=s=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),ai&&$r(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return ai&&$r(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),ai&&$r(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Jo(u),d);if(u.$$typeof===x)return v(l,c,Ci(l,u),d);$o(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{Qo=0;var i=v(e,t,n,r);return Yo=null,i}catch(o){if(o===Wi||o===Gi)throw o;var a=Rr(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var ns=ts(!0),rs=ts(!1),is=z(null),as=null;function os(e){var t=e.alternate;V(us,1&us.current),V(is,e),null===as&&(null===t||null!==fa.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(V(us,us.current),V(is,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){V(us,us.current),V(is,is.current)}function cs(e){U(is),as===e&&(as=null),U(us)}var us=z(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),oa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),oa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Rc(t,e,n),oa(t,e,n))}};function ps(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,a))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function ws(e){ys(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _s(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ks(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function Ss(e){return(e=ia(e)).tag=3,e}function Es(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){_s(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){_s(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ts=Error(o(461)),Cs=!1;function Ns(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ps(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ei(t),r=Aa(e,t,n,o,a,i),s=Ma(),null===e||Cs?(ai&&s&&ti(t),t.flags|=1,Ns(e,t,r,i),t.child):(Ra(e,t,i),Ys(e,t,i))}function Os(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,As(e,t,a,r,i))}if(a=e.child,!Qs(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function As(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Qn(a,r)&&e.ref===t.ref){if(Cs=!1,t.pendingProps=r=a,!Qs(e,i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(Cs=!0)}}return Ms(e,t,n,r,i)}function js(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Is(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Is(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),ss(t)}else null!==a?(Hi(0,a.cachePool),ma(t,a),ls(),t.memoizedState=null):(null!==e&&Hi(0,null),ga(),ls());return Ns(e,t,i,n),t.child}function Is(e,t,n,r){var i=Bi();return i=null===i?null:{parent:ji._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),ga(),ss(t),null!==e&&ki(e,t,r,!0),null}function Ds(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ms(e,t,n,r,i){return Ei(t),n=Aa(e,t,n,r,void 0,i),r=Ma(),null===e||Cs?(ai&&r&&ti(t),t.flags|=1,Ns(e,t,n,i),t.child):(Ra(e,t,i),Ys(e,t,i))}function Rs(e,t,n,r,i,a){return Ei(t),t.updateQueue=null,n=Ia(t,r,n,i),ja(e),r=Ma(),null===e||Cs?(ai&&r&&ti(t),t.flags|=1,Ns(e,t,n,a),t.child):(Ra(e,t,a),Ys(e,t,a))}function Ls(e,t,n,r,i){if(Ei(t),null===t.stateNode){var a=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ti(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ti(o):Dr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(hs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&fs.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=gs(n,s);a.props=l;var c=a.context,u=n.contextType;o=Dr,"object"===typeof u&&null!==u&&(o=Ti(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&ms(t,a,r,o),ta=!1;var h=t.memoizedState;a.state=h,ua(t,r,a,i),ca(),c=t.memoizedState,s||h!==c||ta?("function"===typeof d&&(hs(t,n,d,r),c=t.memoizedState),(l=ta||ps(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=gs(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ms(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,r,a,i),ca();var f=t.memoizedState;o!==d||h!==f||ta||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"===typeof s&&(hs(t,n,s,r),f=t.memoizedState),(u=ta||ps(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ds(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):Ns(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Ys(e,t,i),e}function Fs(e,t,n,r){return fi(),t.flags|=256,Ns(e,t,n,r),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:qi()}}function Vs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?os(t):ls(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=i.children,i=i.fallback,a?(ls(),c=qs({mode:"hidden",children:c},a=t.mode),i=Vr(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Us(n),a.childLanes=Vs(e,r,n),t.memoizedState=zs,i):(os(t),Hs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Ws(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=i.fallback,c=t.mode,i=qs({mode:"visible",children:i.children},c),(a=Vr(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=Us(n),i.childLanes=Vs(e,r,n),t.memoizedState=zs,t=a);else if(os(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ws(e,t,n)}else if(Cs||ki(e,t,n,!1),r=0!==(n&e.childLanes),Cs||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ne(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ar(e,i),Rc(r,e,i),Ts;"$?"===c.data||Gc(),t=Ws(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,ai=!0,oi=null,si=!1,null!==e&&(Xr[Yr++]=Jr,Xr[Yr++]=Zr,Xr[Yr++]=Qr,Jr=e.id,Zr=e.overflow,Qr=t),(t=Hs(t,i.children)).flags|=4096);return t}return a?(ls(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Fr(u,a):(a=Vr(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Us(n):(null!==(l=c.cachePool)?(u=ji._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Vs(e,r,n),t.memoizedState=zs,i):(os(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hs(e,t){return(t=qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qs(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ws(e,t,n){return ns(t,e.child,null,n),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Gs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Xs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ns(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(us,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,a);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Cs=!0;else{if(!Qs(e,n)&&0===(128&t.flags))return Cs=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,ji,e.memoizedState.cache),fi();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(os(t),null!==(e=Ys(e,t,n))?e.sibling:null);os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Xs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,js(e,t,n);case 24:bi(0,ji,e.memoizedState.cache)}return Ys(e,t,n)}(e,t,n);Cs=0!==(131072&e.flags)}else Cs=!1,ai&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===_){t.tag=11,t=Ps(null,t,r,e,n);break e}if(i===E){t.tag=14,t=Os(null,t,r,e,n);break e}}throw t=j(r)||r,Error(o(306,t,""))}Lr(r)?(e=gs(r,e),t.tag=1,t=Ls(null,t,r,e,n)):(t.tag=0,t=Ms(null,t,r,e,n))}return t;case 0:return Ms(e,t,t.type,t.pendingProps,n);case 1:return Ls(e,t,r=t.type,i=gs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,ji,r),r!==a.cache&&_i(t,[ji],n,!0),ca(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==i){mi(i=Sr(Error(o(424)),t)),t=Fs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,ai=!0,oi=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Ys(e,t,n);break e}Ns(e,t,r,n)}t=t.child}return t;case 26:return Ds(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[je]=t,r[Ie]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&ai&&(r=t.stateNode=wd(t.type,t.pendingProps,q.current),ri=t,si=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),Ns(e,t,t.pendingProps.children,n),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),X(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,od(i,a)?r=null:null!==s&&od(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Aa(e,t,Da,null,null,n),Xd._currentValue=i),Ds(e,t),Ns(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Bs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return Ps(e,t,t.type,t.pendingProps,n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Ns(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ei(t),r=r(i=Ti(i)),t.flags|=1,Ns(e,t,r,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return As(e,t,t.type,t.pendingProps,n);case 19:return Xs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return js(e,t,n);case 24:return Ei(t),r=Ti(ji),null===e?(null===(i=Bi())&&(i=rc,a=Ii(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,ji,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,ji,r)):(r=a.cache,bi(0,ji,r),r!==i.cache&&_i(t,[ji],n,!0))),Ns(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Zs(e){e.flags|=4}function $s(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=is.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Zi=Xi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(ji),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(nl(t),$s(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),nl(t),$s(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zs(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=B.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Zs(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=B.current,hi(t))ui(t);else{switch(i=rd(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[je]=t,e[Ie]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[je]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[je]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(U(us),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return V(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>_c&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,V(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(ji),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(ji),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return cs(t),ya(),null!==e&&U(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(ji),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:wi(ji),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:cs(t);break;case 19:U(us);break;case 10:wi(t.type);break;case 22:case 23:cs(t),ya(),null!==e&&U(Vi);break;case 24:wi(ji)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void gt(e,s,l,c,u,d,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Zu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Zu(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Zu(e,t,s,i,r,a)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&$u(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||$u(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[Ie]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[je]=e,t[Ie]=n}catch(a){uu(e,e.return,a)}}var bl=!1,wl=!1,xl=!1,_l="function"===typeof WeakSet?WeakSet:Set,kl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&ol(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var i=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Ol(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var a=wl;bl=r,(wl=t)&&!a?zl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,wl=a}break;case 30:break;default:Ll(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Cl=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:wl||dl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Tl,i=Cl;fd(n.type)&&(Tl=n.stateNode,Cl=!1),Nl(e,t,n),xd(n.stateNode),Tl=r,Cl=i;break;case 5:wl||dl(n,t);case 6:if(r=Tl,i=Cl,Tl=null,Nl(e,t,n),Cl=i,null!==(Tl=r))if(Cl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{Tl.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==Tl&&(Cl?(pd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(Tl,n.stateNode));break;case 4:r=Tl,i=Cl,Tl=n.stateNode.containerInfo,Cl=!0,Nl(e,t,n),Tl=r,Cl=i;break;case 0:case 11:case 14:case 15:wl||sl(2,n,t),wl||sl(4,n,t),Nl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Nl(e,t,n),wl=r;break;default:Nl(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function jl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Tl=l.stateNode,Cl=!1;break e}break;case 5:Tl=l.stateNode,Cl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Tl)throw Error(o(160));Pl(a,s,i),Tl=null,Cl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Il=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jl(t,e),Ml(e),4&r&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:jl(t,e),Ml(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Il;if(jl(t,e),Ml(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[ze]||a[je]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[je]=e,We(a),r=a;break e;case"link":var s=zd("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=zd("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[je]=e,We(a),r=a}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Ud(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:jl(t,e),Ml(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jl(t,e),Ml(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(jl(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,i=Il,Il=Sd(t.containerInfo),jl(t,e),Il=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){uu(e,e.return,p)}xl&&(xl=!1,Rl(e));break;case 4:r=Il,Il=Sd(e.stateNode.containerInfo),jl(t,e),Ml(e),Il=r;break;case 12:default:jl(t,e),Ml(e);break;case 13:jl(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,jl(t,e),wl=d,bl=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:jl(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(_t(a,""),n.flags&=-33),yl(e,ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:zl(i,a,n),ol(4,a);break;case 1:if(zl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],s)}catch(c){uu(r,r.return,c)}}n&&64&o&&ll(a),ul(a,a.return);break;case 27:vl(a);case 26:case 5:zl(i,a,n),n&&null===r&&4&o&&hl(a),ul(a,a.return);break;case 12:zl(i,a,n);break;case 13:zl(i,a,n),n&&4&o&&Ol(i,a);break;case 22:null===a.memoizedState&&zl(i,a,n),ul(a,a.return);break;case 30:break;default:zl(i,a,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Bl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Bl(e,t,n,r):Wl(e,t):2&a._visibility?Bl(e,t,n,r):(a._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(o,t);break;case 24:Bl(e,t,n,r),2048&i&&Vl(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:ql(a,o,s,l,i),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?ql(a,o,s,l,i):Wl(a,o):(u._visibility|=2,ql(a,o,s,l,i)),i&&2048&c&&Ul(o.alternate,o);break;case 24:ql(a,o,s,l,i),i&&2048&c&&Vl(o.alternate,o);break;default:ql(a,o,s,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Vl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(o(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Pd(n.href),a=e.querySelector(Od(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Ad(n),(i=_d.get(i))&&Rd(n,i),We(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Il,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Il;Il=Sd(e.stateNode.containerInfo),Gl(e),Il=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,$l(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Ql(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,$l(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function $l(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,a=r.return;if(El(r),r===n){kl=null;break e}if(null!==i){i.return=a,kl=i;break e}kl=a}}}var ec={getCacheForType:function(e){var t=Ti(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,ac=0,oc=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,xc=0,_c=1/0,kc=null,Sc=null,Ec=0,Tc=null,Cc=null,Nc=0,Pc=0,Oc=null,Ac=null,jc=0,Ic=null;function Dc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==D.T){return 0!==Li?Li:Pu()}return Oe()}function Mc(){0===gc&&(gc=0===(536870912&ac)||ai?_e():536870912);var e=is.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),Uc(e,ac,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,ac,gc,!1)),_u(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=Kc();rc!==e||ac!==t?(kc=null,_c=te()+500,Hc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var a=sc;t:switch(oc){case 1:oc=0,sc=null,$c(e,t,a,1);break;case 2:case 9:if(Yi(a)){oc=0,sc=null,Zc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),_u(e)},a.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Yi(a)?(oc=0,sc=null,Zc(t)):(oc=0,sc=null,$c(e,t,a,7));break;case 5:var s=null;switch(ic.tag){case 26:s=ic.memoizedState;case 5:case 27:var l=ic;if(!s||Vd(s)){oc=0,sc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}oc=0,sc=null,$c(e,t,a,5);break;case 6:oc=0,sc=null,$c(e,t,a,6);break;case 8:Bc(),hc=6;break e;default:throw Error(o(462))}}Qc();break}catch(d){qc(e,d)}return vi=yi=null,D.H=r,D.A=i,nc=n,null!==ic?0:(rc=null,ac=0,Nr(),hc)}(e,t):Xc(e,t,!0),a=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!a||zc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,s).flags|=256),2!==(s=Xc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,i=4;break e}a=bc,bc=i,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){Hc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,kc,wc,t,gc,pc,yc,lc,a,2,-0,0),i)}else Fc(r,n,bc,kc,wc,t,gc,pc,yc,lc,a,0,-0,0)}break}i=Xc(e,t,!1),a=!1}_u(e)}function Fc(e,t,n,r,i,a,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:Hd},Xl(t),null!==(h=function(){if(null===Bd)throw Error(o(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,a,n,r,i,s,l,c,d,1,f,p)),void Uc(e,a,s,!u);nu(e,t,a,n,r,i,s,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Yn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Te(e,n,t)}function Vc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Bc(){if(null!==ic){if(0===oc)var e=ic.return;else vi=yi=null,La(e=ic),Yo=null,Qo=0,e=ic;for(;null!==e;)al(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ic=n=Fr(e.current,null),ac=t,oc=0,sc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Nr(),n}function qc(e,t){ba=null,D.H=Wo,t===Wi||t===Gi?(t=$i(),oc=3):t===Ki?(t=$i(),oc=4):oc=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ic&&(hc=1,xs(e,Sr(t,e.current)))}function Wc(){var e=D.H;return D.H=Wo,null===e?Wo:e}function Kc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&ac)!==ac&&null!==is.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,ac,gc,!1)}function Xc(e,t,n){var r=nc;nc|=2;var i=Wc(),a=Kc();rc===e&&ac===t||(kc=null,Hc(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==oc&&null!==ic){var s=ic,l=sc;switch(oc){case 8:Bc(),o=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var c=oc;if(oc=0,sc=null,$c(e,s,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,$c(e,s,l,c)}}Yc(),o=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,D.H=i,D.A=a,null===ic&&(rc=null,ac=0,Nr()),o}function Yc(){for(;null!==ic;)Jc(ic)}function Qc(){for(;null!==ic&&!$();)Jc(ic)}function Jc(e){var t=Js(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rs(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Rs(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:La(t);default:al(n,t),t=Js(n,t=ic=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function $c(e,t,n,r){vi=yi=null,La(t),Yo=null,Qo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===as?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(o(435,n.tag))}return du(e,r,i),Gc(),!1}if(ai)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Sr(e=Error(o(422),{cause:r}),n))):(r!==li&&mi(Sr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Sr(r,n),sa(e,i=ks(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var a=Error(o(520),{cause:r});if(a=Sr(a,n),null===vc?vc=[a]:vc.push(a),4!==hc&&(hc=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,sa(n,e=ks(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Sc||!Sc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Es(i=Ss(i),e,n,r),sa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return hc=1,xs(e,Sr(n,e.current)),void(ic=null)}catch(a){if(null!==i)throw ic=i,a;return hc=1,xs(e,Sr(n,e.current)),void(ic=null)}32768&t.flags?(ai||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Ec);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Cr,s,l,c),e===rc&&(ic=rc=null,ac=0),Cc=t,Tc=e,Nc=n,Pc=a,Oc=i,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ae,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=M.p,M.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(a=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=gs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=s,M.p=i,D.T=r}}Ec=1,ru(),iu(),au()}}function ru(){if(1===Ec){Ec=0;var e=Tc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Dl(t,e);var a=nd,o=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&$n(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=Zn(s,m),v=Zn(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,M.p=r,D.T=n}}e.current=t,Ec=2}}function iu(){if(2===Ec){Ec=0;var e=Tc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=i,M.p=r,D.T=n}}Ec=3}}function au(){if(4===Ec||3===Ec){Ec=0,ee();var e=Tc,t=Cc,n=Nc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Cc=Tc=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=M.p,M.p=2,D.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{D.T=t,M.p=i}}0!==(3&Nc)&&su(),_u(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Ic?jc++:(jc=0,Ic=e):jc=0,ku(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function su(e){return ru(),iu(),au(),lu()}function lu(){if(5!==Ec)return!1;var e=Tc,t=Pc;Pc=0;var n=Pe(Nc),r=D.T,i=M.p;try{M.p=32>n?32:n,D.T=null,n=Oc,Oc=null;var a=Tc,s=Nc;if(Ec=0,Cc=Tc=null,Nc=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,Jl(a.current),Hl(a,a.current,s,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{M.p=i,D.T=r,ou(e,t)}}function cu(e,t,n){t=Sr(n,t),null!==(e=aa(e,t=ks(e.stateNode,t,2),2))&&(Ee(e,2),_u(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=aa(t,n=Ss(2),2))&&(Es(n,r,t,e),Ee(r,2),_u(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-xc?0===(2&nc)&&Hc(e,0):mc|=n,yc===ac&&(yc=0)),_u(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Ar(e,t))&&(Ee(e,t),_u(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,xu=0;function _u(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?J(re,Su):Eu()}))}function ku(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Nu(r,a))}else a=ac,0===(3&(a=be(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Nu(r,a));r=r.next}}while(n);wu=!1}}function Su(){Eu()}function Eu(){bu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,a=Tu(r,t);0===a?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&a))&&(bu=!0)),r=i}ku(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-fe(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=xe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ac,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Pe(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=se}return r=Cu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Nu(e,t){if(su())return null;Lc(e,t,!0)}function Pu(){return 0===xu&&(xu=_e()),xu}function Ou(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ju=0;ju<xr.length;ju++){var Iu=xr[ju];_r(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(vr,"onTransitionCancel"),_r(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){ys(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){ys(u)}i.currentTarget=null,a=l}}}}function Lu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(Vu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Vu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[zu]){e[zu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function Vu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Ve(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Rt(function(){var r=a,i=At(n),o=[];e:{var s=wr.get(e);if(void 0!==s){var c=$t,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(Hu(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[De])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:He(c),p=null==u?s:He(u),(s=new d(g,m+"leave",c,n,i)).target=h,s.relatedTarget=p,g=null,Ve(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(o,s,c,d,!1),null!==u&&null!==h&&Ku(o,h,u,d,!0)}if("select"===(c=(s=r?He(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Fn;else if(jn(s))if(zn)y=Xn;else{y=Kn;var v=Wn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(y=Fn):y=Gn;switch(y&&(y=y(e,r))?In(o,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?He(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,i)}var b;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else On?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(On||"onCompositionStart"!==w?"onCompositionEnd"===w&&On&&(b=qt()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,On=!0)),0<(v=qu(r,w)).length&&(w=new cn(w,e,null,n,i),o.push({event:w,listeners:v}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!_n&&Nn(e,t)?(e=qt(),Ht=Bt=Vt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Ou((i[Ie]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ie]||null)?Ou(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new $t("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=o?Au(i,o):new FormData(i);Ao(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Au(i,o):new FormData(i),Ao(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ru(o,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Lt(e,n))&&r.unshift(Hu(e,i,a)),null!=(i=Lt(e,t))&&r.push(Hu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Lt(n,a))&&o.unshift(Hu(n,c,l)):i||null!=(c=Lt(n,a))&&o.push(Hu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Xu,"")}function Qu(e,t){return t=Yu(t),Yu(e)===t}function Ju(){}function Zu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function $u(e,t,n,r,i,a){switch(n){case"style":Et(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ie]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,r,s,n,null)}}return a&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Zu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,s,a,!1),void dt(e);case"select":for(a in Lu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Zu(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Lu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Zu(e,t,s,l,n,null)}return xt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Lu(Du[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&$u(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&xd(o.documentElement),2&n&&xd(o.body),4&n)for(xd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Ch(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var _d=new Map,kd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=M.d;M.d={f:function(){var e=Ed.f(),t=Vc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Io(t):Ed.r(e)},D:function(e){Ed.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Pd(e);break;case"script":a=jd(e)}_d.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Od(a))||"script"===t&&r.querySelector(Id(a))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=jd(e)}if(!_d.has(a)&&(e=h({rel:"modulepreload",href:e},t),_d.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Id(a)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=jd(e),a=r.get(i);a||((a=n.querySelector(Id(i)))||(e=h({src:e,async:!0},t),(t=_d.get(i))&&Ld(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Ed.S(e,t,n);var r=Td;if(r&&e){var i=qe(r).hoistableStyles,a=Pd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Od(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(a))&&Rd(e,n);var l=o=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Md(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Ed.M(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=jd(e),a=r.get(i);a||((a=n.querySelector(Id(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(i))&&Ld(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Td="undefined"===typeof document?null:document;function Cd(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var i,a,s,l,c=(c=q.current)?Sd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Od(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),u||(i=c,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",s),We(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=jd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Pd(e){return'href="'+mt(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function jd(e){return'[src="'+mt(e)+'"]'}function Id(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Pd(n.href);var a=e.querySelector(Od(i));if(a)return t.state.loading|=4,t.instance=a,We(a),a;r=Ad(n),(i=_d.get(i))&&Rd(r,i),We(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",r),t.state.loading|=4,Md(a,n.precedence,e),t.instance=a;case"script":return a=jd(n.src),(i=e.querySelector(Id(a)))?(t.instance=i,We(i),i):(r=n,(i=_d.get(a))&&Ld(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ze]||a[je]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function Hd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:x,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qd(e,t,n,r,i,a,o,s,l,c,u,d){return e=new Yd(e,t,n,o,s,l,c,d),t=1,!0===a&&(t|=24),a=Rr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ii()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Jd(e){return e?e=Dr:Dr}function Zd(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Rc(n,0,t),oa(n,e,t))}function $d(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=2,ah(e,t,n,r)}finally{M.p=a,D.T=i}}function ih(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=8,ah(e,t,n,r)}finally{M.p=a,D.T=i}}function ah(e,t,n,r){if(nh){var i=oh(r);if(null===i)Bu(e,t,r,sh,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ph.set(a,bh(ph.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mh.set(a,bh(mh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var a=Be(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ve(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}_u(a),0===(6&nc)&&(_c=te()+500,ku(0,!1))}}break;case 13:null!==(s=Ar(a,2))&&Rc(s,0,2),Vc(),eh(a,2)}if(null===(a=oh(r))&&Bu(e,t,r,sh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function oh(e){return lh(e=At(e))}var sh=null;function lh(e){if(sh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ne(e);var t=Ar(n,e);null!==t&&Rc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function _h(e,t,n){xh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==fh&&xh(fh)&&(fh=null),ph.forEach(_h),mh.forEach(_h)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Eh=null;function Th(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var a=Be(n);null!==a&&(e.splice(t,3),t-=3,Ao(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ch(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ie]||null;if("function"===typeof a)o||Th(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Ie]||null)s=o.formAction;else if(null!==lh(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Th(n)}}}function Nh(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Nh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zd(t.current,Dc(),e,t,null,null)},Ph.prototype.unmount=Nh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Vc(),t[De]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Oh=i.version;if("19.1.1"!==Oh)throw Error(o(527,Oh,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ue=jh.inject(Ah),de=jh}catch(Dh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=vs,a=bs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,n,r,i,a,l,0,null),e[De]=t.current,Uu(e),new Nh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=vs,l=bs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qd(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Jd(null),n=t.current,(i=ia(r=Ne(r=Dc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,Ee(t,n),_u(t),e[De]=t.current,Uu(e),new Ph(t)},t.version="19.1.1"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(a);for(let r=0;r<a;r++)o[r]=e,e+=n;return o}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),i=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,i.noop)}},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?N(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?N(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=E(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=E(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return N(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return k(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(T(n,o),T(e,o),o),s=!0,N(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):N(new r(n),i)},y.naturalExponential=y.exp=function(){return _(this)},y.naturalLogarithm=y.ln=function(){return T(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):P(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(x(c,a,o+2)).times(.5),w(a.d).slice(0,o)===(t=w(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(N(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,N(r,n)},y.times=y.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?N(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),N(n,e+k(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=O(r=N(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?O(i):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),n=O((r=N(new o(i),e+k(i)+1,t)).abs(),!1,e+k(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return N(new t(e),k(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return N(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&A((a=a.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):N(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(T(u,r+12)),s=!0,(a=_(a)).s=o,a},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=O(i,(n=k(i))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,a),void 0===t?t=o.rounding:b(t,0,8),r=O(i=N(new o(i),e,t),e<=(n=k(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),N(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=k(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,d,h,f,m,g,y,v,b,w,x,_,S,E,T,C,P=r.constructor,O=r.s==i.s?1:-1,A=r.d,j=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,T=j.length,S=A.length,g=(m=new P(O)).d=[],u=0;j[u]==(A[u]||0);)++u;if(j[u]>(A[u]||0)&&--c,(w=null==a?a=P.precision:o?a+(k(r)-k(i))+1:a)<0)return new P(0);if(w=w/7+2|0,u=0,1==T)for(d=0,j=j[0],w++;(u<S||d)&&w--;u++)x=d*p+(A[u]||0),g[u]=x/j|0,d=x%j|0;else{for((d=p/(j[0]+1)|0)>1&&(j=e(j,d),A=e(A,d),T=j.length,S=A.length),_=T,v=(y=A.slice(0,T)).length;v<T;)y[v++]=0;(C=j.slice()).unshift(0),E=j[0],j[1]>=p/2&&++E;do{d=0,(s=t(j,y,T,v))<0?(b=y[0],T!=v&&(b=b*p+(y[1]||0)),(d=b/E|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(j,d),y,f=h.length,v=y.length))&&(d--,n(h,T<f?C:j,f))):(0==d&&(s=d=1),h=j.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(j,y,T,v=y.length))<1&&(d++,n(y,T<v?C:j,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=A[_]||0:(y=[A[_]],v=1)}while((_++<S||void 0!==y[0])&&w--)}return g[0]||g.shift(),m.e=c,N(m,o?a+k(m)+1:a)}}();function _(e,t){var n,r,a,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=N(r.times(e),l),n=n.times(++c),w((o=a.plus(x(r,n,l))).d).slice(0,l)===w(a.d).slice(0,l)){for(;d--;)a=N(a.times(a),l);return f.precision=p,null==t?(s=!0,N(a,p)):a}a=o}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return N(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,a,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),S(y,h);if(h+=10,y.precision=h,r=(n=w(g)).charAt(0),o=k(m),!(Math.abs(o)<15e14))return d=S(y,h+2,v).times(o+""),m=T(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,N(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),p++;for(o=k(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),h),f=N(m.times(m),h),a=3;;){if(c=N(c.times(f),h),w((d=u.plus(x(c,new y(a),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(S(y,h+2,v).times(o+""))),u=x(u,new y(p),h),y.precision=v,null==t?(s=!0,N(u,v)):u;u=d,a+=2}}function C(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function N(e,t,n){var r,i,a,o,l,c,f,m,y=e.d;for(o=1,a=y[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=y.length))return e;for(f=a=y[m],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=f/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,o-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(a=k(e),y.length=1,t=t-a-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,a=1,m--):(y.length=m+1,a=h(10,7-r),y[m]=i>0?(f/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(y[0]+=a)==p&&(y[0]=1,++e.e);break}if(y[m]+=a,y[m]!=p)break;y[m--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+k(e));return e}function P(e,t){var n,r,i,a,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?N(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(i=Math.max(Math.ceil(m/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?N(t,m):t):new f(0)}function O(e,t,n){var r,i=k(e),a=w(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+E(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+E(-i-1)+a,n&&(r=n-o)>0&&(a+=E(r))):i>=o?(a+=E(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+E(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=E(r))),e.s<0?"-"+a:a}function A(e,t){if(e.length>t)return e.length=t,!0}function j(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);C(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=j,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),a=n(8396),o=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=o.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),a=n(3272),o=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,o.toPath(n),s):s:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),i=n(6443),a=n(5990),o=n(7599),s=n(9972);function l(e,t,n,r,i,a,o){const s=o(e,t,n,r,i,a);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,a,o)}return c(e,t,a,o)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=a.getTag(e),h=a.getTag(t);if(d===o.argumentsTag&&(d=o.objectTag),h===o.argumentsTag&&(h=o.objectTag),d!==h)return!1;switch(d){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const f=(n=null!==n&&void 0!==n?n:new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case o.mapTag:if(e.size!==t.size)return!1;for(const[r,i]of e.entries())if(!t.has(r)||!l(i,t.get(r),r,e,t,n,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),i=Array.from(t.values());for(let a=0;a<r.length;a++){const o=r[a],s=i.findIndex(r=>l(o,r,void 0,e,t,n,u));if(-1===s)return!1;i.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const a=[...Object.keys(e),...i.getSymbols(e)],o=[...Object.keys(t),...i.getSymbols(t)];if(a.length!==o.length)return!1;for(let r=0;r<a.length;r++){const i=a[r],o=e[i];if(!Object.hasOwn(t,i))return!1;if(!l(o,t[i],i,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),a=n(1203);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".d8e2a990.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-react-app:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/bad-todo/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>zw,scaleDiverging:()=>IE,scaleDivergingLog:()=>DE,scaleDivergingPow:()=>RE,scaleDivergingSqrt:()=>LE,scaleDivergingSymlog:()=>ME,scaleIdentity:()=>C_,scaleImplicit:()=>Lw,scaleLinear:()=>T_,scaleLog:()=>R_,scaleOrdinal:()=>Fw,scalePoint:()=>Vw,scalePow:()=>W_,scaleQuantile:()=>rk,scaleQuantize:()=>ik,scaleRadial:()=>X_,scaleSequential:()=>TE,scaleSequentialLog:()=>CE,scaleSequentialPow:()=>PE,scaleSequentialQuantile:()=>AE,scaleSequentialSqrt:()=>OE,scaleSequentialSymlog:()=>NE,scaleSqrt:()=>K_,scaleSymlog:()=>U_,scaleThreshold:()=>ak,scaleTime:()=>_E,scaleUtc:()=>kE,tickFormat:()=>S_});var t=n(5043),r=n.t(t,2),i=n(4391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new h;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){return function(e){const t=u(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const g=()=>{try{return m().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/bad-todo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCsx6RHun1exNzs-ihuwXGpsnJGR4jQMW8",REACT_APP_APP_ID:"1:382969075357:web:ee7194ec6c12a8faece674",REACT_APP_AUTH_DOMAIN:"assignment-tracker-d2dc2.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-47D2YMVQN3",REACT_APP_MESSAGING_SENDER_ID:"382969075357",REACT_APP_PROJECT_ID:"assignment-tracker-d2dc2",REACT_APP_STORAGE_BUCKET:"assignment-tracker-d2dc2.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},y=e=>{var t;return null===(t=g())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},v=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function _(e){return(await fetch(e,{credentials:"include"})).ok}const k={};let S=!1;function E(e,t){if("undefined"===typeof window||"undefined"===typeof document||!x(window.location.host)||k[e]===t||k[e]||S)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{S=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function N(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){try{return"object"===typeof indexedDB}catch(e){return!1}}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(j,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new O(n,a,t)}}const j=/\{\$([^}]+)}/g;function I(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(D(n)&&D(a)){if(!I(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function M(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function L(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z(){}function U(e){return e&&e._delegate?e._delegate:e}class V{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const B="[DEFAULT]";class H{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:B})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===B?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.component?this.component.multipleInstances?e:B:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const W=[];var K;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(K||(K={}));const G={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},X=K.INFO,Y={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},Q=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Y[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class J{constructor(e){this.name=e,this._logLevel=X,this._logHandler=Q,this._userLogHandler=null,W.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?G[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...t),this._logHandler(this,K.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...t),this._logHandler(this,K.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,K.INFO,...t),this._logHandler(this,K.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,K.WARN,...t),this._logHandler(this,K.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,K.ERROR,...t),this._logHandler(this,K.ERROR,...t)}}let Z,$;const ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap;let ae={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return te.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ne.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return le(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function oe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ce(this),n),le(ee.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return le(e.apply(ce(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(ce(this),t,...r);return ne.set(a,t.sort?t.sort():[t]),le(a)}}function se(e){return"function"===typeof e?oe(e):(e instanceof IDBTransaction&&function(e){if(te.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});te.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ae):e)}function le(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(le(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&ee.set(t,e)}).catch(()=>{}),ie.set(t,e),t}(e);if(re.has(e))return re.get(e);const t=se(e);return t!==e&&(re.set(e,t),ie.set(t,e)),t}const ce=e=>ie.get(e);const ue=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],he=new Map;function fe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(he.get(t))return he.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=de.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ue.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return he.set(t,a),a}ae=(e=>c(c({},e),{},{get:(t,n,r)=>fe(t,n)||e.get(t,n,r),has:(t,n)=>!!fe(t,n)||e.has(t,n)}))(ae);class pe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const me="@firebase/app",ge="0.14.2",ye=new J("@firebase/app"),ve="@firebase/app-compat",be="@firebase/analytics-compat",we="@firebase/analytics",xe="@firebase/app-check-compat",_e="@firebase/app-check",ke="@firebase/auth",Se="@firebase/auth-compat",Ee="@firebase/database",Te="@firebase/data-connect",Ce="@firebase/database-compat",Ne="@firebase/functions",Pe="@firebase/functions-compat",Oe="@firebase/installations",Ae="@firebase/installations-compat",je="@firebase/messaging",Ie="@firebase/messaging-compat",De="@firebase/performance",Me="@firebase/performance-compat",Re="@firebase/remote-config",Le="@firebase/remote-config-compat",Fe="@firebase/storage",ze="@firebase/storage-compat",Ue="@firebase/firestore",Ve="@firebase/ai",Be="@firebase/firestore-compat",He="firebase",qe="[DEFAULT]",We={[me]:"fire-core",[ve]:"fire-core-compat",[we]:"fire-analytics",[be]:"fire-analytics-compat",[_e]:"fire-app-check",[xe]:"fire-app-check-compat",[ke]:"fire-auth",[Se]:"fire-auth-compat",[Ee]:"fire-rtdb",[Te]:"fire-data-connect",[Ce]:"fire-rtdb-compat",[Ne]:"fire-fn",[Pe]:"fire-fn-compat",[Oe]:"fire-iid",[Ae]:"fire-iid-compat",[je]:"fire-fcm",[Ie]:"fire-fcm-compat",[De]:"fire-perf",[Me]:"fire-perf-compat",[Re]:"fire-rc",[Le]:"fire-rc-compat",[Fe]:"fire-gcs",[ze]:"fire-gcs-compat",[Ue]:"fire-fst",[Be]:"fire-fst-compat",[Ve]:"fire-vertex","fire-js":"fire-js",[He]:"fire-js-all"},Ke=new Map,Ge=new Map,Xe=new Map;function Ye(e,t){try{e.container.addComponent(t)}catch(n){ye.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Qe(e){const t=e.name;if(Xe.has(t))return ye.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xe.set(t,e);for(const n of Ke.values())Ye(n,e);for(const n of Ge.values())Ye(n,e);return!0}function Je(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ze(e){return null!==e&&void 0!==e&&void 0!==e.settings}const $e=new A("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class et{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new V("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $e.create("app-deleted",{appName:this._name})}}const tt="12.2.0";function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:qe,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw $e.create("bad-app-name",{appName:String(i)});if(n||(n=v()),!n)throw $e.create("no-options");const a=Ke.get(i);if(a){if(I(n,a.options)&&I(r,a.config))return a;throw $e.create("duplicate-app",{appName:i})}const o=new q(i);for(const l of Xe.values())o.addComponent(l);const s=new et(n,r,o);return Ke.set(i,s),s}function rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;const t=Ke.get(e);if(!t&&e===qe&&v())return nt();if(!t)throw $e.create("no-app",{appName:e});return t}function it(e,t,n){var r;let i=null!==(r=We[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ye.warn(e.join(" "))}Qe(new V("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const at="firebase-heartbeat-store";let ot=null;function st(){return ot||(ot=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=le(o);return r&&o.addEventListener("upgradeneeded",e=>{r(le(o.result),e.oldVersion,e.newVersion,le(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(at)}catch(n){console.warn(n)}}}).catch(e=>{throw $e.create("idb-open",{originalErrorMessage:e.message})})),ot}async function lt(e,t){try{const n=(await st()).transaction(at,"readwrite"),r=n.objectStore(at);await r.put(t,ct(e)),await n.done}catch(n){if(n instanceof O)ye.warn(n.message);else{const e=$e.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ye.warn(e.message)}}}function ct(e){return"".concat(e.name,"!").concat(e.options.appId)}class ut{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ht(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ye.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=dt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ft(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ft(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ye.warn(t),""}}}function dt(){return(new Date).toISOString().substring(0,10)}class ht{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!P()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await st()).transaction(at),n=await t.objectStore(at).get(ct(e));return await t.done,n}catch(t){if(t instanceof O)ye.warn(t.message);else{const e=$e.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ye.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ft(e){return f(JSON.stringify({version:2,heartbeats:e})).length}var pt;pt="",Qe(new V("platform-logger",e=>new pe(e),"PRIVATE")),Qe(new V("heartbeat",e=>new ut(e),"PRIVATE")),it(me,ge,pt),it(me,ge,"esm2020"),it("fire-js","");function mt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}it("firebase","12.2.1","app");const gt=["providerId"],yt=["uid","auth","stsTokenManager"],vt=["providerId","signInMethod"];function bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wt=bt,xt=new A("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new J("@firebase/auth");function kt(e){if(_t.logLevel<=K.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_t.error("Auth (".concat(tt,"): ").concat(e),...n)}}function St(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Nt(e,...n)}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Nt(e,...n)}function Tt(e,t,n){const r=c(c({},wt()),{},{[t]:n});return new A("auth","Firebase",r).create(t,{appName:e.name})}function Ct(e){return Tt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xt.create(e,...n)}function Pt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Nt(t,...r)}}function Ot(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kt(t),new Error(t)}function At(e,t){e||Ot(t)}function jt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function It(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Mt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(It()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,At(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Mt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lt(e,t){At(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ft{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ut=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vt=new Rt(3e4,6e4);function Bt(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Ht(e,t,n,r){return qt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=M(c({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&x(e.emulatorConfig.host)&&(l.credentials="include"),Ft.fetch()(await Kt(e,e.config.apiHost,n,o),l)})}async function qt(e,t,n){e._canInitEmulator=!1;const r=c(c({},zt),t);try{const t=new Xt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Yt(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Yt(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Yt(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Yt(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Tt(e,s,o);St(e,s)}}catch(i){if(i instanceof O)throw i;St(e,"network-request-failed",{message:String(i)})}}async function Wt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Ht(e,t,n,r,i);return"mfaPendingCredential"in a&&St(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Kt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?Lt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Ut.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function Gt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Et(this.auth,"network-request-failed")),Vt.get())})}}function Yt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Et(e,t,r);return i.customData._tokenResponse=n,i}function Qt(e){return void 0!==e&&void 0!==e.enterprise}class Jt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Gt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zt(e,t){return Ht(e,"GET","/v2/recaptchaConfig",Bt(e,t))}async function $t(e,t){return Ht(e,"POST","/v1/accounts:lookup",t)}function en(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function tn(e){return 1e3*Number(e)}function nn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const e=p(n);return e?JSON.parse(e):(kt("Failed to decode base64 JWT payload"),null)}catch(i){return kt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function rn(e){const t=nn(e);return Pt(t,"internal-error"),Pt("undefined"!==typeof t.exp,"internal-error"),Pt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function an(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof O&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class on{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class sn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ln(e){var t;const n=e.auth,r=await e.getIdToken(),i=await an(e,$t(n,{idToken:r}));Pt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?cn(a.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null!==s&&void 0!==s&&s.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new sn(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function cn(e){return e.map(e=>{let{providerId:t}=e,n=mt(e,gt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pt(e.idToken,"internal-error"),Pt("undefined"!==typeof e.idToken,"internal-error"),Pt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):rn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pt(0!==e.length,"internal-error");const t=rn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qt(e,{},async()=>{const n=M({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Kt(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&x(e.emulatorConfig.host)&&(s.credentials="include"),Ft.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new un;return n&&(Pt("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Pt("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Pt("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new un,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function dn(e,t){Pt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class hn{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=mt(e,yt);this.providerId="firebase",this.proactiveRefresh=new on(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await an(this,this.stsTokenManager.getToken(this.auth,e));return Pt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U(e),r=await n.getIdToken(t),i=nn(r);Pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:en(tn(i.auth_time)),issuedAtTime:en(tn(i.iat)),expirationTime:en(tn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=U(e);await ln(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hn(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ln(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(Ct(this.auth));const e=await this.getIdToken();return await an(this,async function(e,t){return Ht(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:_,stsTokenManager:k}=t;Pt(b&&k,e,"internal-error");const S=un.fromJSON(this.name,k);Pt("string"===typeof b,e,"internal-error"),dn(d,e.name),dn(h,e.name),Pt("boolean"===typeof w,e,"internal-error"),Pt("boolean"===typeof x,e,"internal-error"),dn(f,e.name),dn(p,e.name),dn(m,e.name),dn(g,e.name),dn(y,e.name),dn(v,e.name);const E=new hn({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:S,createdAt:y,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map(e=>c({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new un;r.updateFromServerResponse(t);const i=new hn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ln(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Pt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?cn(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new un;o.updateFromIdToken(n);const s=new hn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new sn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const fn=new Map;function pn(e){At(e instanceof Function,"Expected a class definition");let t=fn.get(e);return t?(At(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fn.set(e,t),t)}class mn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mn.type="NONE";const gn=mn;function yn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class vn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yn(this.userKey,r.apiKey,i),this.fullPersistenceKey=yn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await $t(this.auth,{idToken:e}).catch(()=>{});return t?hn._fromGetAccountInfoResponse(this.auth,t,e):null}return hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new vn(pn(gn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||pn(gn);const a=yn(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await $t(e,{idToken:t}).catch(()=>{});if(!r)break;n=await hn._fromGetAccountInfoResponse(e,r,t)}else n=hn._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new vn(i,e,n)):new vn(i,e,n)}}function bn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(En(t))return"Blackberry";if(Tn(t))return"Webos";if(xn(t))return"Safari";if((t.includes("chrome/")||_n(t))&&!t.includes("edge/"))return"Chrome";if(Sn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/firefox\//i.test(e)}function xn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:T()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/crios\//i.test(e)}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/iemobile/i.test(e)}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/android/i.test(e)}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/blackberry/i.test(e)}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/webos/i.test(e)}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nn(){return function(){const e=T();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return Cn(e)||Sn(e)||Tn(e)||En(e)||/windows phone/i.test(e)||kn(e)}function On(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bn(T());break;case"Worker":t="".concat(bn(T()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(tt,"/").concat(r)}class An{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class jn{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class In{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mn(this),this.idTokenSubscription=new Mn(this),this.beforeStateQueue=new An(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await vn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $t(this,{idToken:e}),n=await hn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ze(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(a=n)||void 0===a?void 0:a._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==o||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ln(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ze(this.app))return Promise.reject(Ct(this));const t=e?U(e):null;return t&&Pt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ze(this.app)?Promise.reject(Ct(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ze(this.app)?Promise.reject(Ct(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ht(e,"GET","/v2/passwordPolicy",Bt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new jn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new A("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ht(e,"POST","/v2/accounts:revokeToken",Bt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pn(e)||this._popupRedirectResolver;Pt(t,this,"argument-error"),this.redirectPersistenceManager=await vn.create(this,[pn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pt(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=On(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(_t.logLevel<=K.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_t.warn("Auth (".concat(tt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Dn(e){return U(e)}class Mn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new F(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ln(e){return Rn.loadJS(e)}function Fn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class zn{constructor(){this.enterprise=new Un}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Un{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Vn="NO_RECAPTCHA";class Bn{constructor(e){this.type="recaptcha-enterprise",this.auth=Dn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Qt(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Vn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new zn).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Zt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Jt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Qt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Rn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ln(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Hn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Bn(e);let o;if(i)o=Vn;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function qn(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Hn(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Hn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Hn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Wn(e){const t=Dn(e),n=await Zt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Jt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Bn(t).verify()}}function Kn(e,t,n){const r=Dn(e);Pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=Gn(t),{host:o,port:s}=function(e){const t=Gn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xn(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(a,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Pt(I(c,r.config.emulator)&&I(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,x(o)?(_("".concat(a,"//").concat(o).concat(l)),E("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ot("not implemented")}_getIdTokenResponse(e){return Ot("not implemented")}_linkToIdToken(e,t){return Ot("not implemented")}_getReauthenticationResolver(e){return Ot("not implemented")}}async function Qn(e,t){return Ht(e,"POST","/v1/accounts:signUp",t)}async function Jn(e,t){return Wt(e,"POST","/v1/accounts:signInWithPassword",Bt(e,t))}class Zn extends Yn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zn(e,t,"password")}static _fromEmailAndCode(e,t){return new Zn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithEmailLink",Bt(e,t))}(e,{email:this._email,oobCode:this._password});default:St(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithEmailLink",Bt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:St(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $n(e,t){return Wt(e,"POST","/v1/accounts:signInWithIdp",Bt(e,t))}class er extends Yn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):St("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=mt(t,vt);if(!n||!r)return null;const a=new er(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return $n(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$n(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$n(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=M(t)}return e}}async function tr(e,t){return Ht(e,"POST","/v1/accounts:sendVerificationCode",Bt(e,t))}const nr={USER_NOT_FOUND:"user-not-found"};class rr extends Yn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new rr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new rr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Bt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Bt(e,t));if(n.temporaryProof)throw Yt(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wt(e,"POST","/v1/accounts:signInWithPhoneNumber",Bt(e,c(c({},t),{},{operation:"REAUTH"})),nr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new rr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ir{constructor(e){var t,n,r,i,a,o;const s=R(L(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Pt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=R(L(e)).link,n=t?R(L(t)).deep_link_id:null,r=R(L(e)).deep_link_id;return(r?R(L(r)).link:null)||r||n||t||e}(e);try{return new ir(t)}catch(n){return null}}}class ar{constructor(){this.providerId=ar.PROVIDER_ID}static credential(e,t){return Zn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ir.parseLink(t);return Pt(n,"argument-error"),Zn._fromEmailAndCode(e,n.code,n.tenantId)}}ar.PROVIDER_ID="password",ar.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ar.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class or{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sr extends or{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends sr{constructor(){super("facebook.com")}static credential(e){return er._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch(n){return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com",lr.PROVIDER_ID="facebook.com";class cr extends sr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return er._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cr.credential(n,r)}catch(i){return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com",cr.PROVIDER_ID="google.com";class ur extends sr{constructor(){super("github.com")}static credential(e){return er._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch(n){return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com",ur.PROVIDER_ID="github.com";class dr extends sr{constructor(){super("twitter.com")}static credential(e,t){return er._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return dr.credential(n,r)}catch(i){return null}}}async function hr(e,t){return Wt(e,"POST","/v1/accounts:signUp",Bt(e,t))}dr.TWITTER_SIGN_IN_METHOD="twitter.com",dr.PROVIDER_ID="twitter.com";class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await hn._fromIdTokenResponse(e,n,r),a=pr(n);return new fr({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pr(n);return new fr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mr extends O{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mr(e,t,n,r)}}function gr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw mr._fromErrorAndOperation(e,n,t,r);throw n})}async function yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await an(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fr._forOperation(e,"link",r)}async function vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ze(r.app))return Promise.reject(Ct(r));const i="reauthenticate";try{const a=await an(e,gr(r,i,t,e),n);Pt(a.idToken,r,"internal-error");const o=nn(a.idToken);Pt(o,r,"internal-error");const{sub:s}=o;return Pt(e.uid===s,r,"user-mismatch"),fr._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&St(r,"user-mismatch"),a}}async function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(Ct(e));const r="signIn",i=await gr(e,r,t),a=await fr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function wr(e,t){return br(Dn(e),t)}async function xr(e){const t=Dn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function _r(e,t){return Ht(e,"POST","/v2/accounts/mfaEnrollment:start",Bt(e,t))}new WeakMap;const kr="__sak";class Sr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kr,"1"),this.storage.removeItem(kr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Er extends Sr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Nn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Er.type="LOCAL";const Tr=Er;function Cr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Nr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Pr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Nr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Cr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Nr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Nr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Cr(n);const i=setInterval(()=>{const e=Cr(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Pr.type="COOKIE";class Or extends Sr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Or.type="SESSION";const Ar=Or;class jr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new jr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jr.receivers=[];class Dr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=Ir("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Mr(){return window}function Rr(){return"undefined"!==typeof Mr().WorkerGlobalScope&&"function"===typeof Mr().importScripts}const Lr="firebaseLocalStorageDb",Fr="firebaseLocalStorage",zr="fbase_key";class Ur{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vr(e,t){return e.transaction([Fr],t?"readwrite":"readonly").objectStore(Fr)}function Br(){const e=indexedDB.open(Lr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Fr,{keyPath:zr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Fr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Lr);return new Ur(e).toPromise()}(),t(await Br()))})})}async function Hr(e,t,n){const r=Vr(e,!0).put({[zr]:t,value:n});return new Ur(r).toPromise()}function qr(e,t){const n=Vr(e,!0).delete(t);return new Ur(n).toPromise()}class Wr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Br()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jr._getInstance(Rr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Dr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Br();return await Hr(e,kr,"1"),await qr(e,kr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Vr(e,!1).get(t),r=await new Ur(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Vr(e,!1).getAll();return new Ur(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wr.type="LOCAL";const Kr=Wr;function Gr(e,t){return Ht(e,"POST","/v2/accounts/mfaSignIn:start",Bt(e,t))}Fn("rcb"),new Rt(3e4,6e4);const Xr="recaptcha";async function Yr(e,t,n){if(!e._getRecaptchaConfig())try{await Wn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Pt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=qn(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Vn){Pt((null===n||void 0===n?void 0:n.type)===Xr,e,"argument-error");return _r(e,await Qr(e,t,n))}return _r(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Pt("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Pt(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=qn(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Vn){Pt((null===n||void 0===n?void 0:n.type)===Xr,e,"argument-error");return Gr(e,await Qr(e,t,n))}return Gr(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=qn(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Vn){Pt((null===n||void 0===n?void 0:n.type)===Xr,e,"argument-error");return tr(e,await Qr(e,t,n))}return tr(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Qr(e,t,n){Pt(n.type===Xr,e,"argument-error");const r=await n.verify();Pt("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Jr{constructor(e){this.providerId=Jr.PROVIDER_ID,this.auth=Dn(e)}verifyPhoneNumber(e,t){return Yr(this.auth,e,U(t))}static credential(e,t){return rr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Jr.credentialFromTaggedObject(t)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?rr._fromTokenResponse(n,r):null}}function Zr(e,t){return t?pn(t):(Pt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jr.PROVIDER_ID="phone",Jr.PHONE_SIGN_IN_METHOD="phone";class $r extends Yn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $n(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $n(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $n(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ei(e){return br(e.auth,new $r(e),e.bypassAuthState)}function ti(e){const{auth:t,user:n}=e;return Pt(n,t,"internal-error"),vr(n,new $r(e),e.bypassAuthState)}async function ni(e){const{auth:t,user:n}=e;return Pt(n,t,"internal-error"),yr(n,new $r(e),e.bypassAuthState)}class ri{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ei;case"linkViaPopup":case"linkViaRedirect":return ni;case"reauthViaPopup":case"reauthViaRedirect":return ti;default:St(this.auth,"internal-error")}}resolve(e){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ii=new Rt(2e3,1e4);class ai extends ri{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ai.currentPopupAction&&ai.currentPopupAction.cancel(),ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pt(e,this.auth,"internal-error"),e}async onExecution(){At(1===this.filter.length,"Popup operations only handle one event");const e=Ir();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Et(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Et(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ii.get())};e()}}ai.currentPopupAction=null;const oi=new Map;class si extends ri{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=oi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ui(t),r=ci(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}oi.set(this.auth._key(),e)}return this.bypassAuthState||oi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function li(e,t){oi.set(e._key(),t)}function ci(e){return pn(e._redirectPersistence)}function ui(e){return yn("pendingRedirect",e.config.apiKey,e.name)}async function di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(Ct(e));const r=Dn(e),i=Zr(r,t),a=new si(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class hi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pi(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Et(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fi(e))}saveEventToCache(e){this.cachedEventUids.add(fi(e)),this.lastProcessedEventTime=Date.now()}}function fi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function pi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gi=/^https?/;async function yi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ht(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(vi(r))return}catch(n){}St(e,"unauthorized-domain")}function vi(e){const t=jt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!gi.test(n))return!1;if(mi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bi=new Rt(3e4,6e4);function wi(){const e=Mr().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function xi(e){return new Promise((t,n)=>{var r,i;function a(){wi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wi(),n(Et(e,"network-request-failed"))},timeout:bi.get()})}if(null!==(r=Mr().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Mr().gapi)||void 0===i||!i.load){const t=Fn("iframefcb");return Mr()[t]=()=>{gapi.load?a():n(Et(e,"network-request-failed"))},Ln("".concat(Rn.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw _i=null,e})}let _i=null;const ki=new Rt(5e3,15e3),Si={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ei=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ti(e){const t=e.config;Pt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Lt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:tt},i=Ei.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(M(r).slice(1))}async function Ci(e){const t=await function(e){return _i=_i||xi(e),_i}(e),n=Mr().gapi;return Pt(n,e,"internal-error"),t.open({where:document.body,url:Ti(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Si,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Et(e,"network-request-failed"),a=Mr().setTimeout(()=>{r(i)},ki.get());function o(){Mr().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const Ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Oi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=c(c({},Ni),{},{width:r.toString(),height:i.toString(),top:a,left:o}),u=T().toLowerCase();n&&(s=_n(u)?"_blank":n),wn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Cn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:T())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Pi(null);const h=window.open(t||"",s,d);Pt(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Pi(h)}const Ai="__/auth/handler",ji="emulator/auth/handler",Ii=encodeURIComponent("fac");async function Di(e,t,n,r,i,a){Pt(e.config.authDomain,e,"auth-domain-config-required"),Pt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tt,eventId:i};if(t instanceof or){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof sr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ii,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ai);return Lt(t,ji)}(e),"?").concat(M(s).slice(1)).concat(c)}const Mi="webStorageSupport";const Ri=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ar,this._completeRedirectFn=di,this._overrideRedirectResult=li}async _openPopup(e,t,n,r){var i;At(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Oi(e,await Di(e,t,n,jt(),r),Ir())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mr().location.href=e}(await Di(e,t,n,jt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(At(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ci(e),n=new hi(e);return t.register("authEvent",t=>{Pt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mi,{type:Mi},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Mi];void 0!==i&&t(!!i),St(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pn()||xn()||Cn()}};var Li="@firebase/auth",Fi="1.11.0";class zi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ui=b("authIdTokenMaxAge")||300;let Vi=null;var Bi;Rn={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Et("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Bi="Browser",Qe(new V("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Pt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Bi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:On(Bi)},c=new In(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Qe(new V("auth-internal",e=>(e=>new zi(e))(Dn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),it(Li,Fi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bi)),it(Li,Fi,"esm2020");var Hi,qi,Wi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ki={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,qi=Ki.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Hi=Ki.Integer=r}).apply("undefined"!==typeof Wi?Wi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Gi,Xi,Yi,Qi,Ji,Zi,$i,ea,ta="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},na={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ta&&ta];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function S(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(pL){k(pL)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function j(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(pL){}return e}();function M(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,I);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return X(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=$(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function X(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)X(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Y(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(a=e.g[t],n,r,i))&&(U(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function $(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;x(t=new I(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,j),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}d(le,j);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){I.call(this,"d")}function be(){I.call(this,"c")}d(ve,I),d(be,I);var we={},xe=null;function _e(){return xe=xe||new ne}function ke(e){I.call(this,we.La,e)}function Se(e){const t=_e();re(t,new ke(t))}function Ee(e,t){I.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=_e();re(t,new Ee(t,e))}function Ce(e,t){I.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Pe(){this.g=!0}function Oe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(ke,I),we.STAT_EVENT="statevent",d(Ee,I),we.Ma="timingevent",d(Ce,I),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var Ae,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Le={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||sn(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Xe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||$e(n.h,e)))if(!e.K&&$e(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}nn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(We(s),He(s)),r.g=o}else tn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Xt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var a=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Oe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Te(15),Oe(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Oe(this.i,this.l,e,null),Xe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,Te(11))}}else Oe(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Oe(this.i,this.l,s,null),Xe(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Te(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function $e(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),St(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function _t(e,t){xt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return xt(e),t=Et(e,t),e.g.has(t)}function St(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Ct(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,kt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Pt,pe),Pt.prototype.g=function(){return new Ot(this.l,this.j)},Pt.prototype.i=function(e){return function(){return e}}({}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):It(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Bt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!Lt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Ht(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if(Qt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),$t(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||O(),N||(C(),N=!0),P.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),$t(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function $t(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||O(),N||(C(),N=!0),P.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),$t(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!$e(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Ce(r,n)),Jt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Pe;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Tt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Tt(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),un(e),Qt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),$t(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Pt({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(yL){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(yL){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),x(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),$t(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Dt(a)))+"&"+t:this.m&&Mt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Xt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,ea=na.createWebChannelTransport=function(){return new pn},$i=na.getStatEventTarget=function(){return _e()},Zi=na.Event=we,Ji=na.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,Qi=na.ErrorCode=je,Ie.COMPLETE="complete",Yi=na.EventType=Ie,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Xi=na.WebChannel=ge,na.FetchXmlHttpFactory=Pt,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Gi=na.XhrIo=Rt}).apply("undefined"!==typeof ta?ta:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ra="@firebase/firestore",ia="4.9.1";class aa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");let oa="12.2.0";const sa=new J("@firebase/firestore");function la(){return sa.logLevel}function ca(e){if(sa.logLevel<=K.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);sa.debug("Firestore (".concat(oa,"): ").concat(e),...i)}}function ua(e){if(sa.logLevel<=K.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);sa.error("Firestore (".concat(oa,"): ").concat(e),...i)}}function da(e){if(sa.logLevel<=K.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);sa.warn("Firestore (".concat(oa,"): ").concat(e),...i)}}function ha(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fa(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,pa(e,r,n)}function pa(e,t,n){let r="FIRESTORE (".concat(oa,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ua(r),new Error(r)}function ma(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||pa(t,i,r)}function ga(e,t){return e}const ya={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class va extends O{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ba{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class xa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(aa.UNAUTHENTICATED))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ka{constructor(e){this.t=e,this.currentUser=aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ma(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ba,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ca("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ca("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ba)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ca("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ma("string"==typeof t.accessToken,31837,{l:t}),new wa(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ma(null===e||"string"==typeof e,2055,{h:e}),new aa(e)}}class Sa{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=aa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ea{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Sa(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(aa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ta{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ca{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ze(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ma(void 0===this.o,3512);const n=e=>{null!=e.error&&ca("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,ca("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ca("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ca("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ta(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ma("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ta(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Na(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Pa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Na(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Oa(e,t){return e<t?-1:e>t?1:0}function Aa(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Da(n)===Da(i)?Oa(n,i):Da(n)?1:-1}return Oa(e.length,t.length)}const ja=55296,Ia=57343;function Da(e){const t=e.charCodeAt(0);return t>=ja&&t<=Ia}function Ma(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ra="__name__";class La{constructor(e,t,n){void 0===t?t=0:t>e.length&&fa(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&fa(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===La.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=La.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Oa(e.length,t.length)}static compareSegments(e,t){const n=La.isNumericId(e),r=La.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?La.extractNumericId(e).compare(La.extractNumericId(t)):Aa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class Fa extends La{construct(e,t,n){return new Fa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new va(ya.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Fa(e)}static emptyPath(){return new Fa([])}}const za=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ua extends La{construct(e,t,n){return new Ua(e,t,n)}static isValidIdentifier(e){return za.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ua.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ra}static keyField(){return new Ua([Ra])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new va(ya.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new va(ya.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new va(ya.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new va(ya.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ua(t)}static emptyPath(){return new Ua([])}}class Va{constructor(e){this.path=e}static fromPath(e){return new Va(Fa.fromString(e))}static fromName(e){return new Va(Fa.fromString(e).popFirst(5))}static empty(){return new Va(Fa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Va(new Fa(e.slice()))}}function Ba(e,t,n){if(!n)throw new va(ya.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ha(e){if(!Va.isDocumentKey(e))throw new va(ya.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function qa(e){if(Va.isDocumentKey(e))throw new va(ya.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wa(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Ka(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fa(12329,{type:typeof e})}function Ga(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new va(ya.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ka(e);throw new va(ya.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Xa(e,t){if(t<=0)throw new va(ya.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Ya(e,t){const n={typeString:e};return t&&(n.value=t),n}function Qa(e,t){if(!Wa(e))throw new va(ya.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&o!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new va(ya.INVALID_ARGUMENT,n);return!0}const Ja=-62135596800,Za=1e6;class $a{static now(){return $a.fromMillis(Date.now())}static fromDate(e){return $a.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Za);return new $a(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new va(ya.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new va(ya.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ja)throw new va(ya.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new va(ya.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Za}_compareTo(e){return this.seconds===e.seconds?Oa(this.nanoseconds,e.nanoseconds):Oa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$a._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qa(e,$a._jsonSchema))return new $a(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ja;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$a._jsonSchemaVersion="firestore/timestamp/1.0",$a._jsonSchema={type:Ya("string",$a._jsonSchemaVersion),seconds:Ya("number"),nanoseconds:Ya("number")};class eo{static fromTimestamp(e){return new eo(e)}static min(){return new eo(new $a(0,0))}static max(){return new eo(new $a(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const to=-1;class no{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}no.UNKNOWN_ID=-1;function ro(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eo.fromTimestamp(1e9===r?new $a(n+1,0):new $a(n,r));return new ao(i,Va.empty(),t)}function io(e){return new ao(e.readTime,e.key,to)}class ao{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ao(eo.min(),Va.empty(),to)}static max(){return new ao(eo.max(),Va.empty(),to)}}function oo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Va.comparator(e.documentKey,t.documentKey),0!==n?n:Oa(e.largestBatchId,t.largestBatchId))}const so="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function co(e){if(e.code!==ya.FAILED_PRECONDITION||e.message!==so)throw e;ca("LocalStore","Unexpectedly lost primary lease")}class uo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fa(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof uo?t:uo.resolve(t)}catch(e){return uo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):uo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):uo.reject(t)}static resolve(e){return new uo((t,n)=>{t(e)})}static reject(e){return new uo((t,n)=>{n(e)})}static waitFor(e){return new uo((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=uo.resolve(!1);for(const n of e)t=t.next(e=>e?uo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new uo((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new uo((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ho(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(e){return"IndexedDbTransactionError"===e.name}class po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}po.ce=-1;const mo=-1;function go(e){return null==e}function yo(e){return 0===e&&1/e==-1/0}function vo(e){return"number"==typeof e&&Number.isInteger(e)&&!yo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const bo="\x01";function wo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_o(t)),t=xo(e.get(n),t);return _o(t)}function xo(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case bo:n+="\x01\x11";break;default:n+=t}}return n}function _o(e){return e+bo+"\x01"}const ko="remoteDocuments",So="owner",Eo="mutationQueues",To="mutations";const Co="documentMutations",No="remoteDocumentsV14",Po="remoteDocumentGlobal",Oo="targets",Ao="targetDocuments",jo="targetGlobal",Io="collectionParents",Do="clientMetadata",Mo="bundles",Ro="namedQueries",Lo="indexConfiguration",Fo="indexState",zo="indexEntries",Uo="documentOverlays",Vo="globals",Bo=[Eo,To,Co,ko,Oo,So,jo,Ao,Do,Po,Io,Mo,Ro],Ho=[Eo,To,Co,No,Oo,So,jo,Ao,Do,Po,Io,Mo,Ro,Uo],qo=Ho,Wo=[...qo,Lo,Fo,zo];function Ko(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Go(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Yo{constructor(e,t){this.comparator=e,this.root=t||Jo.EMPTY}insert(e,t){return new Yo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jo.BLACK,null,null))}remove(e){return new Yo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qo(this.root,e,this.comparator,!0)}}class Qo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Jo.RED,this.left=null!=r?r:Jo.EMPTY,this.right=null!=i?i:Jo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Jo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fa(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fa(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fa(27949);return e+(this.isRed()?0:1)}}Jo.EMPTY=null,Jo.RED=!0,Jo.BLACK=!1,Jo.EMPTY=new class{constructor(){this.size=0}get key(){throw fa(57766)}get value(){throw fa(16141)}get color(){throw fa(16727)}get left(){throw fa(29726)}get right(){throw fa(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Jo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zo{constructor(e){this.comparator=e,this.data=new Yo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $o(this.data.getIterator())}getIteratorFrom(e){return new $o(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Zo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zo(this.comparator);return t.data=e,t}}class $o{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class es{constructor(e){this.fields=e,e.sort(Ua.comparator)}static empty(){return new es([])}unionWith(e){let t=new Zo(Ua.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ts extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ts("Invalid base64 string: "+e):e}}(e);return new ns(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const rs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(e){if(ma(!!e,39018),"string"==typeof e){let t=0;const n=rs.exec(e);if(ma(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:as(e.seconds),nanos:as(e.nanos)}}function as(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function os(e){return"string"==typeof e?ns.fromBase64String(e):ns.fromUint8Array(e)}const ss="server_timestamp",ls="__type__",cs="__previous_value__",us="__local_write_time__";function ds(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ls])||void 0===t?void 0:t.stringValue)===ss}function hs(e){const t=e.mapValue.fields[cs];return ds(t)?hs(t):t}function fs(e){const t=is(e.mapValue.fields[us].timestampValue);return new $a(t.seconds,t.nanos)}class ps{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const ms="(default)";class gs{constructor(e,t){this.projectId=e,this.database=t||ms}static empty(){return new gs("","")}get isDefaultDatabase(){return this.database===ms}isEqual(e){return e instanceof gs&&e.projectId===this.projectId&&e.database===this.database}}const ys="__type__",vs="__max__",bs={mapValue:{fields:{__type__:{stringValue:vs}}}},ws="__vector__",xs="value";function _s(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ds(e)?4:zs(e)?9007199254740991:Ls(e)?10:11:fa(28295,{value:e})}function ks(e,t){if(e===t)return!0;const n=_s(e);if(n!==_s(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fs(e).isEqual(fs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=is(e.timestampValue),r=is(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return os(e.bytesValue).isEqual(os(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return as(e.geoPointValue.latitude)===as(t.geoPointValue.latitude)&&as(e.geoPointValue.longitude)===as(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return as(e.integerValue)===as(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=as(e.doubleValue),r=as(t.doubleValue);return n===r?yo(n)===yo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ma(e.arrayValue.values||[],t.arrayValue.values||[],ks);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ko(n)!==Ko(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ks(n[i],r[i])))return!1;return!0}(e,t);default:return fa(52216,{left:e})}}function Ss(e,t){return void 0!==(e.values||[]).find(e=>ks(e,t))}function Es(e,t){if(e===t)return 0;const n=_s(e),r=_s(t);if(n!==r)return Oa(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oa(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=as(e.integerValue||e.doubleValue),r=as(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ts(e.timestampValue,t.timestampValue);case 4:return Ts(fs(e),fs(t));case 5:return Aa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=os(e),r=os(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Oa(n[i],r[i]);if(0!==e)return e}return Oa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Oa(as(e.latitude),as(t.latitude));return 0!==n?n:Oa(as(e.longitude),as(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cs(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,a){const o=e.fields||{},s=t.fields||{},l=null===(n=o[xs])||void 0===n?void 0:n.arrayValue,c=null===(r=s[xs])||void 0===r?void 0:r.arrayValue,u=Oa((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Cs(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bs.mapValue&&t===bs.mapValue)return 0;if(e===bs.mapValue)return 1;if(t===bs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Aa(r[o],a[o]);if(0!==e)return e;const t=Es(n[r[o]],i[a[o]]);if(0!==t)return t}return Oa(r.length,a.length)}(e.mapValue,t.mapValue);default:throw fa(23264,{he:n})}}function Ts(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Oa(e,t);const n=is(e),r=is(t),i=Oa(n.seconds,r.seconds);return 0!==i?i:Oa(n.nanos,r.nanos)}function Cs(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Es(n[i],r[i]);if(e)return e}return Oa(n.length,r.length)}function Ns(e){return Ps(e)}function Ps(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=is(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return os(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Va.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ps(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ps(e.fields[i]));return n+"}"}(e.mapValue):fa(61005,{value:e})}function Os(e){switch(_s(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hs(e);return t?16+Os(t):16;case 5:return 2*e.stringValue.length;case 6:return os(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Os(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Go(e.fields,(e,n)=>{t+=e.length+Os(n)}),t}(e.mapValue);default:throw fa(13486,{value:e})}}function As(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function js(e){return!!e&&"integerValue"in e}function Is(e){return!!e&&"arrayValue"in e}function Ds(e){return!!e&&"nullValue"in e}function Ms(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rs(e){return!!e&&"mapValue"in e}function Ls(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ys])||void 0===t?void 0:t.stringValue)===ws}function Fs(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Go(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Fs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fs(e.arrayValue.values[n]);return t}return c({},e)}function zs(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vs}class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fs(t)}setAll(e){let t=Ua.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fs(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Rs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Rs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Go(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Us(Fs(this.value))}}function Vs(e){const t=[];return Go(e.fields,(e,n)=>{const r=new Ua([e]);if(Rs(n)){const e=Vs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new es(t)}class Bs{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Bs(e,0,eo.min(),eo.min(),eo.min(),Us.empty(),0)}static newFoundDocument(e,t,n,r){return new Bs(e,1,t,eo.min(),n,r,0)}static newNoDocument(e,t){return new Bs(e,2,t,eo.min(),eo.min(),Us.empty(),0)}static newUnknownDocument(e,t){return new Bs(e,3,t,eo.min(),eo.min(),Us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(eo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=eo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hs{constructor(e,t){this.position=e,this.inclusive=t}}function qs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Va.comparator(Va.fromName(o.referenceValue),n.key):Es(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ws(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ks(e.position[n],t.position[n]))return!1;return!0}class Ks{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Gs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Xs{}class Ys extends Xs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rl(e,t,n):"array-contains"===t?new sl(e,n):"in"===t?new ll(e,n):"not-in"===t?new cl(e,n):"array-contains-any"===t?new ul(e,n):new Ys(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new il(e,n):new al(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Es(t,this.value)):null!==t&&_s(this.value)===_s(t)&&this.matchesComparison(Es(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fa(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends Xs{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qs(e,t)}matches(e){return Js(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Js(e){return"and"===e.op}function Zs(e){return $s(e)&&Js(e)}function $s(e){for(const t of e.filters)if(t instanceof Qs)return!1;return!0}function el(e){if(e instanceof Ys)return e.field.canonicalString()+e.op.toString()+Ns(e.value);if(Zs(e))return e.filters.map(e=>el(e)).join(",");{const t=e.filters.map(e=>el(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function tl(e,t){return e instanceof Ys?function(e,t){return t instanceof Ys&&e.op===t.op&&e.field.isEqual(t.field)&&ks(e.value,t.value)}(e,t):e instanceof Qs?function(e,t){return t instanceof Qs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&tl(n,t.filters[r]),!0)}(e,t):void fa(19439)}function nl(e){return e instanceof Ys?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ns(e.value))}(e):e instanceof Qs?function(e){return e.op.toString()+" {"+e.getFilters().map(nl).join(" ,")+"}"}(e):"Filter"}class rl extends Ys{constructor(e,t,n){super(e,t,n),this.key=Va.fromName(n.referenceValue)}matches(e){const t=Va.comparator(e.key,this.key);return this.matchesComparison(t)}}class il extends Ys{constructor(e,t){super(e,"in",t),this.keys=ol("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class al extends Ys{constructor(e,t){super(e,"not-in",t),this.keys=ol("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ol(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Va.fromName(e.referenceValue))}class sl extends Ys{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Is(t)&&Ss(t.arrayValue,this.value)}}class ll extends Ys{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ss(this.value.arrayValue,t)}}class cl extends Ys{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ss(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ss(this.value.arrayValue,t)}}class ul extends Ys{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Is(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ss(this.value.arrayValue,e))}}class dl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function hl(e){return new dl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fl(e){const t=ga(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>el(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),go(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ns(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ns(e)).join(",")),t.Te=e}return t.Te}function pl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Gs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ws(e.startAt,t.startAt)&&Ws(e.endAt,t.endAt)}function ml(e){return Va.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yl(e,t,n,r,i,a,o,s){return new gl(e,t,n,r,i,a,o,s)}function vl(e){return new gl(e)}function bl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wl(e){return null!==e.collectionGroup}function xl(e){const t=ga(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Zo(Ua.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ks(r,n))}),e.has(Ua.keyField().canonicalString())||t.Ie.push(new Ks(Ua.keyField(),n))}return t.Ie}function _l(e){const t=ga(e);return t.Ee||(t.Ee=kl(t,xl(e))),t.Ee}function kl(e,t){if("F"===e.limitType)return hl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ks(e.field,t)});const n=e.endAt?new Hs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hs(e.startAt.position,e.startAt.inclusive):null;return hl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sl(e,t){const n=e.filters.concat([t]);return new gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function El(e,t,n){return new gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tl(e,t){return pl(_l(e),_l(t))&&e.limitType===t.limitType}function Cl(e){return"".concat(fl(_l(e)),"|lt:").concat(e.limitType)}function Nl(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>nl(e)).join(", "),"]")),go(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ns(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ns(e)).join(",")),"Target(".concat(t,")")}(_l(e)),"; limitType=").concat(e.limitType,")")}function Pl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Va.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xl(e),t))&&!(e.endAt&&!function(e,t,n){const r=qs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xl(e),t))}(e,t)}function Ol(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Al(e){return(t,n)=>{let r=!1;for(const i of xl(e)){const e=jl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jl(e,t,n){const r=e.field.isKeyField()?Va.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Es(r,i):fa(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fa(19790,{direction:e.dir})}}class Il{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Xo(this.inner)}size(){return this.innerSize}}const Dl=new Yo(Va.comparator);function Ml(){return Dl}const Rl=new Yo(Va.comparator);function Ll(){let e=Rl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fl(e){let t=Rl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function zl(){return Vl()}function Ul(){return Vl()}function Vl(){return new Il(e=>e.toString(),(e,t)=>e.isEqual(t))}const Bl=new Yo(Va.comparator),Hl=new Zo(Va.comparator);function ql(){let e=Hl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Wl=new Zo(Oa);function Kl(){return Wl}function Gl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yo(t)?"-0":t}}function Xl(e){return{integerValue:""+e}}function Yl(e,t){return vo(t)?Xl(t):Gl(e,t)}class Ql{constructor(){this._=void 0}}function Jl(e,t,n){return e instanceof ec?function(e,t){const n={fields:{[ls]:{stringValue:ss},[us]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ds(t)&&(t=hs(t)),t&&(n.fields[cs]=t),{mapValue:n}}(n,t):e instanceof tc?nc(e,t):e instanceof rc?ic(e,t):function(e,t){const n=$l(e,t),r=oc(n)+oc(e.Ae);return js(n)&&js(e.Ae)?Xl(r):Gl(e.serializer,r)}(e,t)}function Zl(e,t,n){return e instanceof tc?nc(e,t):e instanceof rc?ic(e,t):n}function $l(e,t){return e instanceof ac?function(e){return js(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ec extends Ql{}class tc extends Ql{constructor(e){super(),this.elements=e}}function nc(e,t){const n=sc(t);for(const r of e.elements)n.some(e=>ks(e,r))||n.push(r);return{arrayValue:{values:n}}}class rc extends Ql{constructor(e){super(),this.elements=e}}function ic(e,t){let n=sc(t);for(const r of e.elements)n=n.filter(e=>!ks(e,r));return{arrayValue:{values:n}}}class ac extends Ql{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function oc(e){return as(e.integerValue||e.doubleValue)}function sc(e){return Is(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lc{constructor(e,t){this.field=e,this.transform=t}}class cc{constructor(e,t){this.version=e,this.transformResults=t}}class uc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uc}static exists(e){return new uc(void 0,e)}static updateTime(e){return new uc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hc{}function fc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kc(e.key,uc.none()):new vc(e.key,e.data,uc.none());{const n=e.data,r=Us.empty();let i=new Zo(Ua.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new bc(e.key,r,new es(i.toArray()),uc.none())}}function pc(e,t,n){e instanceof vc?function(e,t,n){const r=e.value.clone(),i=xc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bc?function(e,t,n){if(!dc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mc(e,t,n,r){return e instanceof vc?function(e,t,n,r){if(!dc(e.precondition,t))return n;const i=e.value.clone(),a=_c(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bc?function(e,t,n,r){if(!dc(e.precondition,t))return n;const i=_c(e.fieldTransforms,r,t),a=t.data;return a.setAll(wc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return dc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$l(r.transform,e||null);null!=i&&(null===n&&(n=Us.empty()),n.set(r.field,i))}return n||null}function yc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ma(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof tc&&t instanceof tc||e instanceof rc&&t instanceof rc?Ma(e.elements,t.elements,ks):e instanceof ac&&t instanceof ac?ks(e.Ae,t.Ae):e instanceof ec&&t instanceof ec}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vc extends hc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bc extends hc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function xc(e,t,n){const r=new Map;ma(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Zl(o,s,n[i]))}return r}function _c(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Jl(e,a,t))}return r}class kc extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sc extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ec{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&pc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=mc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=mc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ul();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=fc(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(eo.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ql())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(e,t)=>yc(e,t))&&Ma(this.baseMutations,e.baseMutations,(e,t)=>yc(e,t))}}class Tc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ma(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Bl;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Tc(e,t,n,r)}}class Cc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Nc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pc,Oc;function Ac(e){switch(e){case ya.OK:return fa(64938);case ya.CANCELLED:case ya.UNKNOWN:case ya.DEADLINE_EXCEEDED:case ya.RESOURCE_EXHAUSTED:case ya.INTERNAL:case ya.UNAVAILABLE:case ya.UNAUTHENTICATED:return!1;case ya.INVALID_ARGUMENT:case ya.NOT_FOUND:case ya.ALREADY_EXISTS:case ya.PERMISSION_DENIED:case ya.FAILED_PRECONDITION:case ya.ABORTED:case ya.OUT_OF_RANGE:case ya.UNIMPLEMENTED:case ya.DATA_LOSS:return!0;default:return fa(15467,{code:e})}}function jc(e){if(void 0===e)return ua("GRPC error has no .code"),ya.UNKNOWN;switch(e){case Pc.OK:return ya.OK;case Pc.CANCELLED:return ya.CANCELLED;case Pc.UNKNOWN:return ya.UNKNOWN;case Pc.DEADLINE_EXCEEDED:return ya.DEADLINE_EXCEEDED;case Pc.RESOURCE_EXHAUSTED:return ya.RESOURCE_EXHAUSTED;case Pc.INTERNAL:return ya.INTERNAL;case Pc.UNAVAILABLE:return ya.UNAVAILABLE;case Pc.UNAUTHENTICATED:return ya.UNAUTHENTICATED;case Pc.INVALID_ARGUMENT:return ya.INVALID_ARGUMENT;case Pc.NOT_FOUND:return ya.NOT_FOUND;case Pc.ALREADY_EXISTS:return ya.ALREADY_EXISTS;case Pc.PERMISSION_DENIED:return ya.PERMISSION_DENIED;case Pc.FAILED_PRECONDITION:return ya.FAILED_PRECONDITION;case Pc.ABORTED:return ya.ABORTED;case Pc.OUT_OF_RANGE:return ya.OUT_OF_RANGE;case Pc.UNIMPLEMENTED:return ya.UNIMPLEMENTED;case Pc.DATA_LOSS:return ya.DATA_LOSS;default:return fa(39323,{code:e})}}(Oc=Pc||(Pc={}))[Oc.OK=0]="OK",Oc[Oc.CANCELLED=1]="CANCELLED",Oc[Oc.UNKNOWN=2]="UNKNOWN",Oc[Oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oc[Oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oc[Oc.NOT_FOUND=5]="NOT_FOUND",Oc[Oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oc[Oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oc[Oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oc[Oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oc[Oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oc[Oc.ABORTED=10]="ABORTED",Oc[Oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oc[Oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oc[Oc.INTERNAL=13]="INTERNAL",Oc[Oc.UNAVAILABLE=14]="UNAVAILABLE",Oc[Oc.DATA_LOSS=15]="DATA_LOSS";let Ic=null;function Dc(){return new TextEncoder}const Mc=new Hi([4294967295,4294967295],0);function Rc(e){const t=Dc().encode(e),n=new qi;return n.update(t),new Uint8Array(n.digest())}function Lc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Hi([n,r],0),new Hi([i,a],0)]}class Fc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new zc("Invalid padding: ".concat(t));if(n<0)throw new zc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new zc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new zc("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Hi.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Hi.fromNumber(n)));return 1===r.compare(Mc)&&(r=new Hi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Rc(e),[n,r]=Lc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Fc(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=Rc(e),[n,r]=Lc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Uc(eo.min(),r,new Yo(Oa),Ml(),ql())}}class Vc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vc(n,t,ql(),ql(),ql())}}class Bc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Hc{constructor(e,t){this.targetId=e,this.Ce=t}}class qc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wc{constructor(){this.ve=0,this.Fe=Xc(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ql(),t=ql(),n=ql();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fa(38017,{changeType:i})}}),new Vc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Xc()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ma(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kc{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ml(),this.Je=Gc(),this.He=Gc(),this.Ye=new Yo(Oa)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:fa(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(ml(a))if(0===n){const e=new Va(a.path);this.et(t,e,Bs.newNoDocument(e,eo.min()))}else ma(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Ic)||void 0===i||i.lt(function(e,t,n,r,i,a,o,s,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(o=null===d||void 0===d||null===(s=d.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=os(n).toUint8Array()}catch(e){if(e instanceof ts)return da("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Fc(a,r,i)}catch(e){return da(e instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&ml(i.target)){const t=new Va(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Bs.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=ql();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Uc(e,t,this.Ye,this.je,n);return this.je=Ml(),this.Je=Gc(),this.He=Gc(),this.Ye=new Yo(Oa),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Wc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Zo(Oa),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Zo(Oa),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||ca("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gc(){return new Yo(Va.comparator)}function Xc(){return new Yo(Va.comparator)}const Yc={asc:"ASCENDING",desc:"DESCENDING"},Qc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jc={and:"AND",or:"OR"};class Zc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $c(e,t){return e.useProto3Json||go(t)?t:{value:t}}function eu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nu(e,t){return eu(e,t.toTimestamp())}function ru(e){return ma(!!e,49232),eo.fromTimestamp(function(e){const t=is(e);return new $a(t.seconds,t.nanos)}(e))}function iu(e,t){return au(e,t).canonicalString()}function au(e,t){const n=function(e){return new Fa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ou(e){const t=Fa.fromString(e);return ma(Tu(t),10190,{key:t.toString()}),t}function su(e,t){return iu(e.databaseId,t.path)}function lu(e,t){const n=ou(t);if(n.get(1)!==e.databaseId.projectId)throw new va(ya.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new va(ya.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Va(hu(n))}function cu(e,t){return iu(e.databaseId,t)}function uu(e){const t=ou(e);return 4===t.length?Fa.emptyPath():hu(t)}function du(e){return new Fa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hu(e){return ma(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function fu(e,t,n){return{name:su(e,t),fields:n.value.mapValue.fields}}function pu(e,t){let n;if(t instanceof vc)n={update:fu(e,t.key,t.value)};else if(t instanceof kc)n={delete:su(e,t.key)};else if(t instanceof bc)n={update:fu(e,t.key,t.data),updateMask:Eu(t.fieldMask)};else{if(!(t instanceof Sc))return fa(16599,{Vt:t.type});n={verify:su(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ec)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ac)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw fa(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fa(27497)}(e,t.precondition)),n}function mu(e,t){return{documents:[cu(e,t.path)]}}function gu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cu(e,i);const a=function(e){if(0!==e.length)return Su(Qs.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:_u(e.field),direction:bu(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=$c(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function yu(e){let t=uu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ma(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=vu(e);return t instanceof Qs&&Zs(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Ks(ku(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,go(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hs(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hs(n,t)}(n.endAt)),yl(t,i,o,a,s,"F",l,c)}function vu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ku(e.unaryFilter.field);return Ys.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ku(e.unaryFilter.field);return Ys.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ku(e.unaryFilter.field);return Ys.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ku(e.unaryFilter.field);return Ys.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fa(61313);default:return fa(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ys.create(ku(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fa(58110);default:return fa(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Qs.create(e.compositeFilter.filters.map(e=>vu(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fa(1026)}}(e.compositeFilter.op))}(e):fa(30097,{filter:e})}function bu(e){return Yc[e]}function wu(e){return Qc[e]}function xu(e){return Jc[e]}function _u(e){return{fieldPath:e.canonicalString()}}function ku(e){return Ua.fromServerFormat(e.fieldPath)}function Su(e){return e instanceof Ys?function(e){if("=="===e.op){if(Ms(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NAN"}};if(Ds(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ms(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NAN"}};if(Ds(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(e.field),op:wu(e.op),value:e.value}}}(e):e instanceof Qs?function(e){const t=e.getFilters().map(e=>Su(e));return 1===t.length?t[0]:{compositeFilter:{op:xu(e.op),filters:t}}}(e):fa(54877,{filter:e})}function Eu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Tu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eo.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eo.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ns.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nu{constructor(e){this.yt=e}}function Pu(e){const t=yu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?El(t,t.limit,"L"):t}class Ou{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(as(e.integerValue));else if("doubleValue"in e){const n=as(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),yo(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=is(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(os(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?zs(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ls(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):fa(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=xs,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(as(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Va.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ou.Kt=new Ou;class Au{constructor(){this.Cn=new ju}addToCollectionParentIndex(e,t){return this.Cn.add(t),uo.resolve()}getCollectionParents(e,t){return uo.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return uo.resolve()}deleteFieldIndex(e,t){return uo.resolve()}deleteAllFieldIndexes(e){return uo.resolve()}createTargetIndexes(e,t){return uo.resolve()}getDocumentsMatchingTarget(e,t){return uo.resolve(null)}getIndexType(e,t){return uo.resolve(0)}getFieldIndexes(e,t){return uo.resolve([])}getNextCollectionGroupToUpdate(e){return uo.resolve(null)}getMinOffset(e,t){return uo.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,t){return uo.resolve(ao.min())}updateCollectionGroup(e,t,n){return uo.resolve()}updateIndexEntries(e,t){return uo.resolve()}}class ju{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zo(Fa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Zo(Fa.comparator)).toArray()}}new Uint8Array(0);const Iu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Du=41943040;class Mu{static withCacheSize(e){return new Mu(e,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Mu.DEFAULT_COLLECTION_PERCENTILE=10,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mu.DEFAULT=new Mu(Du,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mu.DISABLED=new Mu(-1,0,0);class Ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ru(0)}static cr(){return new Ru(-1)}}const Lu="LruGarbageCollector",Fu=1048576;function zu(e,t){let[n,r]=e,[i,a]=t;const o=Oa(n,i);return 0===o?Oa(r,a):o}class Uu{constructor(e){this.Ir=e,this.buffer=new Zo(zu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();zu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){ca(Lu,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fo(e)?ca(Lu,"Ignoring IndexedDB error during garbage collection: ",e):await co(e)}await this.Vr(3e5)})}}class Bu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return uo.resolve(po.ce);const n=new Uu(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ca("LruGarbageCollector","Garbage collection skipped; disabled"),uo.resolve(Iu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ca("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Iu):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ca("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),la()<=K.DEBUG&&ca("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),uo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Hu(e,t){return new Bu(e,t)}class qu{constructor(){this.changes=new Il(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ku{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&mc(n.mutation,e,es.empty(),$a.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ql()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ql();const r=zl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ll();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=zl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ql()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Ml();const a=Vl(),o=Vl();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof bc)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),mc(o.mutation,t,o.mutation.getFieldMask(),$a.now())):a.set(t.key,es.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Wu(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Vl();let r=new Yo((e,t)=>e-t),i=ql();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||es.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||ql()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Ul();l.forEach(e=>{if(!i.has(e)){const r=fc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return uo.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Va.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):uo.resolve(zl());let o=to,s=i;return a.next(t=>uo.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?uo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,ql())).next(e=>({batchId:o,changes:Fl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Va(t)).next(e=>{let t=Ll();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Ll();return this.indexManager.getCollectionParents(e,i).next(o=>uo.forEach(o,o=>{const s=function(e,t){return new gl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bs.newInvalidDocument(r)))});let n=Ll();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&mc(a.mutation,r,es.empty(),$a.now()),Pl(t,r)&&(n=n.insert(e,r))}),n})}}class Gu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return uo.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ru(e.createTime)}}(t)),uo.resolve()}getNamedQuery(e,t){return uo.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Pu(e.bundledQuery),readTime:ru(e.readTime)}}(t)),uo.resolve()}}class Xu{constructor(){this.overlays=new Yo(Va.comparator),this.qr=new Map}getOverlay(e,t){return uo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zl();return uo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),uo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),uo.resolve()}getOverlaysForCollection(e,t,n){const r=zl(),i=t.length+1,a=new Va(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Yo((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=zl(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return uo.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Cc(t,n));let i=this.qr.get(t);void 0===i&&(i=ql(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Yu{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(e){return uo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,uo.resolve()}}class Qu{constructor(){this.Qr=new Zo(Ju.$r),this.Ur=new Zo(Ju.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Ju(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Ju(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Va(new Fa([])),n=new Ju(t,e),r=new Ju(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Va(new Fa([])),n=new Ju(t,e),r=new Ju(t,e+1);let i=ql();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ju(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ju{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Va.comparator(e.key,t.key)||Oa(e.Yr,t.Yr)}static Kr(e,t){return Oa(e.Yr,t.Yr)||Va.comparator(e.key,t.key)}}class Zu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Zo(Ju.$r)}checkEmpty(e){return uo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Ec(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new Ju(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return uo.resolve(a)}lookupMutationBatch(e,t){return uo.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return uo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return uo.resolve(0===this.mutationQueue.length?mo:this.tr-1)}getAllMutationBatches(e){return uo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ju(t,0),r=new Ju(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),uo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zo(Oa);return t.forEach(e=>{const t=new Ju(e,0),r=new Ju(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),uo.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Va.isDocumentKey(i)||(i=i.child(""));const a=new Ju(new Va(i),0);let o=new Zo(Oa);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),uo.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ma(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return uo.forEach(t.mutations,r=>{const i=new Ju(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Ju(t,0),r=this.Zr.firstAfterOrEqual(n);return uo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uo.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $u{constructor(e){this.ri=e,this.docs=new Yo(Va.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uo.resolve(n?n.document.mutableCopy():Bs.newInvalidDocument(t))}getEntries(e,t){let n=Ml();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bs.newInvalidDocument(e))}),uo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ml();const a=t.path,o=new Va(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||oo(io(o),n)<=0||(r.has(o.key)||Pl(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return uo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fa(9500)}ii(e,t){return uo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ed(this)}getSize(e){return uo.resolve(this.size)}}class ed extends qu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),uo.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class td{constructor(e){this.persistence=e,this.si=new Il(e=>fl(e),pl),this.lastRemoteSnapshotVersion=eo.min(),this.highestTargetId=0,this.oi=0,this._i=new Qu,this.targetCount=0,this.ai=Ru.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),uo.resolve()}getLastRemoteSnapshotVersion(e){return uo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uo.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),uo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),uo.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ru(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,uo.resolve()}updateTargetData(e,t){return this.Pr(t),uo.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,uo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),uo.waitFor(i).next(()=>r)}getTargetCount(e){return uo.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return uo.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),uo.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),uo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),uo.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return uo.resolve(n)}containsKey(e,t){return uo.resolve(this._i.containsKey(t))}}class nd{constructor(e,t){this.ui={},this.overlays={},this.ci=new po(0),this.li=!1,this.li=!0,this.hi=new Yu,this.referenceDelegate=e(this),this.Pi=new td(this),this.indexManager=new Au,this.remoteDocumentCache=function(e){return new $u(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Nu(t),this.Ii=new Gu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Zu(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ca("MemoryPersistence","Starting transaction:",e);const r=new rd(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return uo.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class rd extends lo{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.Ri=new Qu,this.Vi=null}static mi(e){return new id(e)}get fi(){if(this.Vi)return this.Vi;throw fa(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),uo.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),uo.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),uo.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uo.forEach(this.fi,n=>{const r=Va.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,eo.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return uo.or([()=>uo.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ad{constructor(e,t){this.persistence=e,this.pi=new Il(e=>wo(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Hu(this,t)}static mi(e,t){return new ad(e,t)}Ei(){}di(e){return uo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return uo.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?uo.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,eo.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),uo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),uo.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),uo.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),uo.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Os(e.data.value)),t}br(e,t,n){return uo.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return uo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class od{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ql(),r=ql();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new od(e,t.fromCache,n,r)}}class sd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ld{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=N()?8:ho(T())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new sd;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(la()<=K.DEBUG&&ca("QueryEngine","SDK will not create cache indexes for query:",Nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),uo.resolve()):(la()<=K.DEBUG&&ca("QueryEngine","Query:",Nl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(la()<=K.DEBUG&&ca("QueryEngine","The SDK decides to create cache indexes for query:",Nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_l(t))):uo.resolve())}ys(e,t){if(bl(t))return uo.resolve(null);let n=_l(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=El(t,null,"F"),n=_l(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ql(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,El(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return bl(t)||r.isEqual(eo.min())?uo.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?uo.resolve(null):(la()<=K.DEBUG&&ca("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nl(t)),this.vs(e,a,t,ro(r,to)).next(e=>e))})}Ds(e,t){let n=new Zo(Al(e));return t.forEach((t,r)=>{Pl(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return la()<=K.DEBUG&&ca("QueryEngine","Using full collection scan to execute query:",Nl(t)),this.ps.getDocumentsMatchingQuery(e,t,ao.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const cd="LocalStore";class ud{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Yo(Oa),this.xs=new Il(e=>fl(e),pl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ku(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function dd(e,t,n,r){return new ud(e,t,n,r)}async function hd(e,t){const n=ga(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=ql();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function fd(e){const t=ga(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function pd(e,t,n){let r=ql(),i=ql();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ml();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(eo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ca(cd,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{ks:r,qs:i}})}function md(e,t){const n=ga(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=mo),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function gd(e,t){const n=ga(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,uo.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Cu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function yd(e,t,n){const r=ga(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!fo(e))throw e;ca(cd,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function vd(e,t,n){const r=ga(e);let i=eo.min(),a=ql();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ga(e),i=r.xs.get(n);return void 0!==i?uo.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,_l(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:eo.min(),n?a:ql())).next(e=>(bd(r,Ol(t),e),{documents:e,Qs:a})))}function bd(e,t,n){let r=e.Os.get(t)||eo.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class wd{constructor(){this.activeTargetIds=Kl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xd{constructor(){this.Mo=new wd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _d{Oo(e){}shutdown(){}}const kd="ConnectivityMonitor";class Sd{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ca(kd,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ca(kd,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ed=null;function Td(){return null===Ed?Ed=268435456+Math.round(2147483648*Math.random()):Ed++,"0x"+Ed.toString(16)}const Cd="RestConnection",Nd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pd{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===ms?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=Td(),o=this.zo(e,t.toUriEncodedString());ca(Cd,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),c=x(l);return this.Jo(e,o,s,n,c).then(t=>(ca(Cd,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw da(Cd,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Nd[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Od{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ad="WebChannelConnection";class jd extends Pd{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Td();return new Promise((i,o)=>{const s=new Gi;s.setWithCredentials(!0),s.listenOnce(Yi.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Qi.NO_ERROR:const n=s.getResponseJson();ca(Ad,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case Qi.TIMEOUT:ca(Ad,"RPC '".concat(e,"' ").concat(a," timed out")),o(new va(ya.DEADLINE_EXCEEDED,"Request time out"));break;case Qi.HTTP_ERROR:const r=s.getStatus();if(ca(Ad,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ya).indexOf(t)>=0?t:ya.UNKNOWN}(n.status);o(new va(e,n.message))}else o(new va(ya.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new va(ya.UNAVAILABLE,"Connection failed."));break;default:fa(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{ca(Ad,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);ca(Ad,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Td(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ea(),o=$i(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");ca(Ad,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new Od({Yo:t=>{h?ca(Ad,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ca(Ad,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ca(Ad,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Xi.EventType.OPEN,()=>{h||(ca(Ad,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Xi.EventType.CLOSE,()=>{h||(h=!0,ca(Ad,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Xi.EventType.ERROR,t=>{h||(h=!0,da(Ad,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new va(ya.UNAVAILABLE,"The operation could not be completed")))}),p(u,Xi.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];ma(!!i,16349);const a=i,o=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ca(Ad,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Pc[e];if(void 0!==t)return jc(t)}(t),i=o.message;void 0===n&&(n=ya.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.a_(new va(n,i)),u.close()}else ca(Ad,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,Zi.STAT_EVENT,t=>{t.stat===Ji.PROXY?ca(Ad,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ji.NOPROXY&&ca(Ad,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Id(){return"undefined"!=typeof document?document:null}function Dd(e){return new Zc(e,!0)}class Md{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ca("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Rd="PersistentStream";class Ld{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Md(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ya.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ya.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new va(ya.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ca(Rd,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ca(Rd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fd extends Ld{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fa(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ma(void 0===t||"string"==typeof t,58123),ns.fromBase64String(t||"")):(ma(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ns.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?ya.UNKNOWN:jc(e.code);return new va(t,e.message||"")}(o);n=new qc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lu(e,r.document.name),a=ru(r.document.updateTime),o=r.document.createTime?ru(r.document.createTime):eo.min(),s=new Us({mapValue:{fields:r.document.fields}}),l=Bs.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lu(e,r.document),a=r.readTime?ru(r.readTime):eo.min(),o=Bs.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Bc([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lu(e,r.document),a=r.removedTargetIds||[];n=new Bc([],a,i,null)}else{if(!("filter"in t))return fa(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Nc(r,i),o=e.targetId;n=new Hc(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?eo.min():t.readTime?ru(t.readTime):eo.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=du(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ml(r)?{documents:mu(e,r)}:{query:gu(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tu(e,t.resumeToken);const r=$c(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(eo.min())>0){n.readTime=eu(e,t.snapshotVersion.toTimestamp());const r=$c(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fa(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=du(this.serializer),t.removeTarget=e,this.q_(t)}}class zd extends Ld{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ma(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ma(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ma(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ma(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ru(e.updateTime):ru(t);return n.isEqual(eo.min())&&(n=ru(t)),new cc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ru(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=du(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>pu(this.serializer,e))};this.q_(t)}}class Ud{}class Vd extends Ud{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new va(ya.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Go(e,au(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ya.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new va(ya.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Ho(e,au(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ya.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new va(ya.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Bd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ua(t),this.aa=!1):ca("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Hd="RemoteStore";class qd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{$d(this)&&(ca(Hd,"Restarting streams for network reachability change."),await async function(e){const t=ga(e);t.Ea.add(4),await Kd(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Wd(t)}(this))})}),this.Ra=new Bd(n,r)}}async function Wd(e){if($d(e))for(const t of e.da)await t(!0)}async function Kd(e){for(const t of e.da)await t(!1)}function Gd(e,t){const n=ga(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Zd(n)?Jd(n):vh(n).O_()&&Yd(n,t))}function Xd(e,t){const n=ga(e),r=vh(n);n.Ia.delete(t),r.O_()&&Qd(n,t),0===n.Ia.size&&(r.O_()?r.L_():$d(n)&&n.Ra.set("Unknown"))}function Yd(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vh(e).Y_(t)}function Qd(e,t){e.Va.Ue(t),vh(e).Z_(t)}function Jd(e){e.Va=new Kc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),vh(e).start(),e.Ra.ua()}function Zd(e){return $d(e)&&!vh(e).x_()&&e.Ia.size>0}function $d(e){return 0===ga(e).Ea.size}function eh(e){e.Va=void 0}async function th(e){e.Ra.set("Online")}async function nh(e){e.Ia.forEach((t,n)=>{Yd(e,t)})}async function rh(e,t){eh(e),Zd(e)?(e.Ra.ha(t),Jd(e)):e.Ra.set("Unknown")}async function ih(e,t,n){if(e.Ra.set("Online"),t instanceof qc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){ca(Hd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ah(e,n)}else if(t instanceof Bc?e.Va.Ze(t):t instanceof Hc?e.Va.st(t):e.Va.tt(t),!n.isEqual(eo.min()))try{const t=await fd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(ns.EMPTY_BYTE_STRING,r.snapshotVersion)),Qd(e,t);const i=new Cu(r.target,t,n,r.sequenceNumber);Yd(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ca(Hd,"Failed to raise snapshot:",t),await ah(e,t)}}async function ah(e,t,n){if(!fo(t))throw t;e.Ea.add(1),await Kd(e),e.Ra.set("Offline"),n||(n=()=>fd(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ca(Hd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Wd(e)})}function oh(e,t){return t().catch(n=>ah(e,n,t))}async function sh(e){const t=ga(e),n=bh(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mo;for(;lh(t);)try{const e=await md(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,ch(t,e)}catch(e){await ah(t,e)}uh(t)&&dh(t)}function lh(e){return $d(e)&&e.Ta.length<10}function ch(e,t){e.Ta.push(t);const n=bh(e);n.O_()&&n.X_&&n.ea(t.mutations)}function uh(e){return $d(e)&&!bh(e).x_()&&e.Ta.length>0}function dh(e){bh(e).start()}async function hh(e){bh(e).ra()}async function fh(e){const t=bh(e);for(const n of e.Ta)t.ea(n.mutations)}async function ph(e,t,n){const r=e.Ta.shift(),i=Tc.from(r,t,n);await oh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sh(e)}async function mh(e,t){t&&bh(e).X_&&await async function(e,t){if(function(e){return Ac(e)&&e!==ya.ABORTED}(t.code)){const n=e.Ta.shift();bh(e).B_(),await oh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sh(e)}}(e,t),uh(e)&&dh(e)}async function gh(e,t){const n=ga(e);n.asyncQueue.verifyOperationInProgress(),ca(Hd,"RemoteStore received new credentials");const r=$d(n);n.Ea.add(3),await Kd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Wd(n)}async function yh(e,t){const n=ga(e);t?(n.Ea.delete(2),await Wd(n)):t||(n.Ea.add(2),await Kd(n),n.Ra.set("Unknown"))}function vh(e){return e.ma||(e.ma=function(e,t,n){const r=ga(e);return r.sa(),new Fd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:th.bind(null,e),t_:nh.bind(null,e),r_:rh.bind(null,e),H_:ih.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Zd(e)?Jd(e):e.Ra.set("Unknown")):(await e.ma.stop(),eh(e))})),e.ma}function bh(e){return e.fa||(e.fa=function(e,t,n){const r=ga(e);return r.sa(),new zd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:hh.bind(null,e),r_:mh.bind(null,e),ta:fh.bind(null,e),na:ph.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await sh(e)):(await e.fa.stop(),e.Ta.length>0&&(ca(Hd,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class wh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new wh(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new va(ya.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xh(e,t){if(ua("AsyncQueue","".concat(t,": ").concat(e)),fo(e))return new va(ya.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _h{static emptySet(e){return new _h(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Va.comparator(t.key,n.key):(e,t)=>Va.comparator(e.key,t.key),this.keyedMap=Ll(),this.sortedSet=new Yo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _h))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _h;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class kh{constructor(){this.ga=new Yo(Va.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):fa(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Sh{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Sh(e,t,_h.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Eh{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Th{constructor(){this.queries=Ch(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ga(e),r=n.queries;n.queries=Ch(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new va(ya.ABORTED,"Firestore shutting down"))}}function Ch(){return new Il(e=>Cl(e),Tl)}async function Nh(e,t){const n=ga(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Eh,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=xh(e,"Initialization of query '".concat(Nl(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&jh(n)}async function Ph(e,t){const n=ga(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oh(e,t){const n=ga(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&jh(n)}function Ah(e,t,n){const r=ga(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function jh(e){e.Ca.forEach(e=>{e.next()})}var Ih,Dh;(Dh=Ih||(Ih={})).Ma="default",Dh.Cache="cache";class Mh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Sh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ih.Cache}}class Rh{constructor(e){this.key=e}}class Lh{constructor(e){this.key=e}}class Fh{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ql(),this.mutatedKeys=ql(),this.eu=Al(e),this.tu=new _h(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new kh,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Pl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fa(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==a.length||l?{snapshot:new Sh(this.query,e.tu,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ql(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Lh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Rh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ql();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Sh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const zh="SyncEngine";class Uh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Vh{constructor(e){this.key=e,this.hu=!1}}class Bh{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Il(e=>Cl(e),Tl),this.Iu=new Map,this.Eu=new Set,this.du=new Yo(Va.comparator),this.Au=new Map,this.Ru=new Qu,this.Vu={},this.mu=new Map,this.fu=Ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Hh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=df(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Wh(r,t,n,!0),i}async function qh(e,t){const n=df(e);await Wh(n,t,!0,!1)}async function Wh(e,t,n,r){const i=await gd(e.localStore,_l(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await Kh(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Gd(e.remoteStore,i),s}async function Kh(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await vd(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return af(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const a=await vd(e.localStore,t,!0),o=new Fh(t,a.Qs),s=o.ru(a.documents),l=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);af(e,n,c.au);const u=new Uh(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Gh(e,t,n){const r=ga(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!Tl(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xd(r.remoteStore,i.targetId),nf(r,i.targetId)}).catch(co)):(nf(r,i.targetId),await yd(r.localStore,i.targetId,!0))}async function Xh(e,t){const n=ga(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xd(n.remoteStore,r.targetId))}async function Yh(e,t){const n=ga(e);try{const e=await function(e,t){const n=ga(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ns.EMPTY_BYTE_STRING,eo.min()).withLastLimboFreeSnapshotVersion(eo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Pi.updateTargetData(e,c))});let s=Ml(),l=ql();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(pd(e,a,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(eo.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return uo.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ma(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ma(r.hu,14607):e.removedDocuments.size>0&&(ma(r.hu,42227),r.hu=!1))}),await lf(n,e,t)}catch(e){await co(e)}}function Qh(e,t,n){const r=ga(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ga(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&jh(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jh(e,t,n){const r=ga(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new Yo(Va.comparator);e=e.insert(a,Bs.newNoDocument(a,eo.min()));const n=ql().add(a),i=new Uc(eo.min(),new Map,new Yo(Oa),e,n);await Yh(r,i),r.du=r.du.remove(a),r.Au.delete(t),sf(r)}else await yd(r.localStore,t,!1).then(()=>nf(r,t,n)).catch(co)}async function Zh(e,t){const n=ga(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ga(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=uo.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);ma(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ql();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);tf(n,r,null),ef(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,e)}catch(e){await co(e)}}async function $h(e,t,n){const r=ga(e);try{const e=await function(e,t){const n=ga(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ma(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);tf(r,t,n),ef(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lf(r,e)}catch(n){await co(n)}}function ef(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function tf(e,t,n){const r=ga(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||rf(e,t)})}function rf(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Xd(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),sf(e))}function af(e,t,n){for(const r of n)r instanceof Rh?(e.Ru.addReference(r.key,t),of(e,r)):r instanceof Lh?(ca(zh,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||rf(e,r.key)):fa(19791,{wu:r})}function of(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ca(zh,"New document in limbo: "+n),e.Eu.add(r),sf(e))}function sf(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Va(Fa.fromString(t)),r=e.fu.next();e.Au.set(r,new Vh(n)),e.du=e.du.insert(n,r),Gd(e.remoteStore,new Cu(_l(vl(n.path)),r,"TargetPurposeLimboResolution",po.ce))}}async function lf(e,t,n){const r=ga(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=od.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=ga(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>uo.forEach(t,t=>uo.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>uo.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fo(e))throw e;ca(cd,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function cf(e,t){const n=ga(e);if(!n.currentUser.isEqual(t)){ca(zh,"User change. New user:",t.toKey());const e=await hd(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new va(ya.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lf(n,e.Ls)}}function uf(e,t){const n=ga(e),r=n.Au.get(t);if(r&&r.hu)return ql().add(r.key);{let e=ql();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function df(e){const t=ga(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jh.bind(null,t),t.Pu.H_=Oh.bind(null,t.eventManager),t.Pu.yu=Ah.bind(null,t.eventManager),t}function hf(e){const t=ga(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$h.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dd(this.persistence,new ld,e.initialUser,this.serializer)}Cu(e){return new nd(id.mi,this.serializer)}Du(e){return new xd}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class pf extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ma(this.persistence.referenceDelegate instanceof ad,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Vu(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Mu.withCacheSize(this.cacheSizeBytes):Mu.DEFAULT;return new nd(e=>ad.mi(e,t),this.serializer)}}class mf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cf.bind(null,this.syncEngine),await yh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Th}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),n=function(e){return new jd(e)}(e.databaseInfo);return function(e,t,n,r){return new Vd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Qh(this.syncEngine,e,0),Sd.v()?new Sd:new _d)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Bh(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ga(e);ca(Hd,"RemoteStore shutting down."),t.Ea.add(5),await Kd(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}mf.provider={build:()=>new mf};class gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class yf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new va(ya.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=ga(e),r={documents:t.map(e=>su(n.serializer,e))},i=await n.Ho("BatchGetDocuments",n.serializer.databaseId,Fa.emptyPath(),r,t.length),a=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){ma(!!t.found,43571),t.found.name,t.found.updateTime;const n=lu(e,t.found.name),r=ru(t.found.updateTime),i=t.found.createTime?ru(t.found.createTime):eo.min(),a=new Us({mapValue:{fields:t.found.fields}});return Bs.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ma(!!t.missing,3894),ma(!!t.readTime,22933);const n=lu(e,t.missing),r=ru(t.readTime);return Bs.newNoDocument(n,r)}(e,t):fa(7234,{result:t})}(n.serializer,e);a.set(t.key.toString(),t)});const o=[];return t.forEach(e=>{const t=a.get(e.toString());ma(!!t,55234,{key:e}),o.push(t)}),o}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Va.fromPath(t);this.mutations.push(new Sc(n,this.precondition(n)))}),await async function(e,t){const n=ga(e),r={writes:t.map(e=>pu(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,Fa.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fa(50498,{Gu:e.constructor.name});t=eo.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new va(ya.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(eo.min())?uc.exists(!1):uc.updateTime(t):uc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eo.min()))throw new va(ya.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return uc.updateTime(t)}return uc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vf{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new Md(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new yf(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!go(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===(null===e||void 0===e?void 0:e.name)){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ac(t)}return!1}}const bf="FirestoreClient";class wf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=aa.UNAUTHENTICATED,this.clientId=Pa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{ca(bf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ca(bf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function xf(e,t){e.asyncQueue.verifyOperationInProgress(),ca(bf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await hd(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _f(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kf(e);ca(bf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>gh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>gh(t.remoteStore,n)),e._onlineComponents=t}async function kf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ca(bf,"Using user provided OfflineComponentProvider");try{await xf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ya.FAILED_PRECONDITION||e.code===ya.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await xf(e,new ff)}}else ca(bf,"Using default OfflineComponentProvider"),await xf(e,new pf(void 0));return e._offlineComponents}async function Sf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ca(bf,"Using user provided OnlineComponentProvider"),await _f(e,e._uninitializedComponentsProvider._online)):(ca(bf,"Using default OnlineComponentProvider"),await _f(e,new mf))),e._onlineComponents}function Ef(e){return Sf(e).then(e=>e.syncEngine)}function Tf(e){return Sf(e).then(e=>e.datastore)}async function Cf(e){const t=await Sf(e),n=t.eventManager;return n.onListen=Hh.bind(null,t.syncEngine),n.onUnlisten=Gh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Xh.bind(null,t.syncEngine),n}function Nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ba;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new gf({next:s=>{a.Nu(),t.enqueueAndForget(()=>Ph(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new va(ya.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new va(ya.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Mh(vl(n.path),a,{includeMetadataChanges:!0,qa:!0});return Nh(e,o)}(await Cf(e),e.asyncQueue,t,n,r)),r.promise}function Pf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ba;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new gf({next:n=>{a.Nu(),t.enqueueAndForget(()=>Ph(e,o)),n.fromCache&&"server"===r.source?i.reject(new va(ya.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Mh(n,a,{includeMetadataChanges:!0,qa:!0});return Nh(e,o)}(await Cf(e),e.asyncQueue,t,n,r)),r.promise}function Of(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Af=new Map,jf="firestore.googleapis.com",If=!0;class Df{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new va(ya.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jf,this.ssl=If}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:If;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Du;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Fu)throw new va(ya.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new va(ya.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Of(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new va(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new va(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new va(ya.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Df({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new va(ya.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new va(ya.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Df(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xa;switch(e.type){case"firstParty":return new Ea(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new va(ya.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Af.get(e);t&&(ca("ComponentProvider","Removing Datastore"),Af.delete(e),t.terminate())}(this),Promise.resolve()}}function Rf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ga(e,Mf);const i=x(t),a=e._getSettings(),o=c(c({},a),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);i&&(_("https://".concat(s)),E("Firestore",!0)),a.host!==jf&&a.host!==s&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},a),{},{host:s,ssl:i,emulatorOptions:r});if(!I(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=aa.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new va(ya.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new aa(i)}e._authCredentials=new _a(new wa(t,n))}}class Lf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lf(this.firestore,e,this._query)}}class Ff{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ff(this.firestore,e,this._key)}toJSON(){return{type:Ff._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Qa(t,Ff._jsonSchema))return new Ff(e,n||null,new Va(Fa.fromString(t.referencePath)))}}Ff._jsonSchemaVersion="firestore/documentReference/1.0",Ff._jsonSchema={type:Ya("string",Ff._jsonSchemaVersion),referencePath:Ya("string")};class zf extends Lf{constructor(e,t,n){super(e,t,vl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ff(this.firestore,null,new Va(e))}withConverter(e){return new zf(this.firestore,e,this._path)}}function Uf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=U(e),Ba("collection","path",t),e instanceof Mf){const n=Fa.fromString(t,...r);return qa(n),new zf(e,null,n)}{if(!(e instanceof Ff||e instanceof zf))throw new va(ya.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fa.fromString(t,...r));return qa(n),new zf(e.firestore,null,n)}}function Vf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=U(e),1===arguments.length&&(t=Pa.newId()),Ba("doc","path",t),e instanceof Mf){const n=Fa.fromString(t,...r);return Ha(n),new Ff(e,null,new Va(n))}{if(!(e instanceof Ff||e instanceof zf))throw new va(ya.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fa.fromString(t,...r));return Ha(n),new Ff(e.firestore,e instanceof zf?e.converter:null,new Va(n))}}const Bf="AsyncQueue";class Hf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Md(this,"async_queue_retry"),this._c=()=>{const e=Id();e&&ca(Bf,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Id();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Id();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ba;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;ca(Bf,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ua("INTERNAL UNHANDLED ERROR: ",qf(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=wh.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&fa(47125,{Pc:qf(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Wf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Kf extends Mf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hf,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hf(e),this._firestoreClient=void 0,await e}}}function Gf(e){if(e._terminated)throw new va(ya.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Xf(e),e._firestoreClient}function Xf(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new ps(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Of(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new wf(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Yf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yf(ns.fromBase64String(e))}catch(e){throw new va(ya.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yf(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qa(e,Yf._jsonSchema))return Yf.fromBase64String(e.bytes)}}Yf._jsonSchemaVersion="firestore/bytes/1.0",Yf._jsonSchema={type:Ya("string",Yf._jsonSchemaVersion),bytes:Ya("string")};class Qf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new va(ya.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ua(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jf{constructor(e){this._methodName=e}}class Zf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new va(ya.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new va(ya.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oa(this._lat,e._lat)||Oa(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zf._jsonSchemaVersion}}static fromJSON(e){if(Qa(e,Zf._jsonSchema))return new Zf(e.latitude,e.longitude)}}Zf._jsonSchemaVersion="firestore/geoPoint/1.0",Zf._jsonSchema={type:Ya("string",Zf._jsonSchemaVersion),latitude:Ya("number"),longitude:Ya("number")};class $f{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$f._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qa(e,$f._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new $f(e.vectorValues);throw new va(ya.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$f._jsonSchemaVersion="firestore/vectorValue/1.0",$f._jsonSchema={type:Ya("string",$f._jsonSchemaVersion),vectorValues:Ya("object")};const ep=/^__.*__$/;class tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new bc(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class np{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new bc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fa(40011,{Ac:e})}}class ip{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ip(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(rp(this.Ac)&&ep.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ap{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dd(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ip({Ac:e,methodName:t,Dc:n,path:Ua.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(e){const t=e._freezeSettings(),n=Dd(e._databaseId);return new ap(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sp(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);gp("Data must be an object, but it was:",o,r);const s=pp(r,o);let l,c;if(a.merge)l=new es(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=yp(t,r,n);if(!o.contains(i))throw new va(ya.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));xp(e,i)||e.push(i)}l=new es(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new tp(new Us(s),l,c)}class lp extends Jf{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}class cp extends Jf{_toFieldTransform(e){return new lc(e.path,new ec)}isEqual(e){return e instanceof cp}}function up(e,t,n,r){const i=e.Cc(1,t,n);gp("Data must be an object, but it was:",i,r);const a=[],o=Us.empty();Go(r,(e,r)=>{const s=bp(t,e,n);r=U(r);const l=i.yc(s);if(r instanceof lp)a.push(s);else{const e=fp(r,l);null!=e&&(a.push(s),o.set(s,e))}});const s=new es(a);return new np(o,s,i.fieldTransforms)}function dp(e,t,n,r,i,a){const o=e.Cc(1,t,n),s=[yp(t,r,n)],l=[i];if(a.length%2!=0)throw new va(ya.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)s.push(yp(t,a[h])),l.push(a[h+1]);const c=[],u=Us.empty();for(let h=s.length-1;h>=0;--h)if(!xp(c,s[h])){const e=s[h];let t=l[h];t=U(t);const n=o.yc(e);if(t instanceof lp)c.push(e);else{const r=fp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new es(c);return new np(u,d,o.fieldTransforms)}function hp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fp(n,e.Cc(r?4:3,t))}function fp(e,t){if(mp(e=U(e)))return gp("Unsupported field value:",t,e),pp(e,t);if(e instanceof Jf)return function(e,t){if(!rp(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=fp(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=U(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$a.fromDate(e);return{timestampValue:eu(t.serializer,n)}}if(e instanceof $a){const n=new $a(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eu(t.serializer,n)}}if(e instanceof Zf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yf)return{bytesValue:tu(t.serializer,e._byteString)};if(e instanceof Ff){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:iu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof $f)return function(e,t){return{mapValue:{fields:{[ys]:{stringValue:ws},[xs]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Gl(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Ka(e)))}(e,t)}function pp(e,t){const n={};return Xo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(e,(e,r)=>{const i=fp(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function mp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $a||e instanceof Zf||e instanceof Yf||e instanceof Ff||e instanceof Jf||e instanceof $f)}function gp(e,t,n){if(!mp(n)||!Wa(n)){const r=Ka(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function yp(e,t,n){if((t=U(t))instanceof Qf)return t._internalPath;if("string"==typeof t)return bp(e,t);throw wp("Field path arguments must be of type string or ",e,!1,void 0,n)}const vp=new RegExp("[~\\*/\\[\\]]");function bp(e,t,n){if(t.search(vp)>=0)throw wp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Qf(...t.split("."))._internalPath}catch(sm){throw wp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wp(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new va(ya.INVALID_ARGUMENT,s+e+l)}function xp(e,t){return e.some(e=>e.isEqual(t))}class _p{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ff(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kp extends _p{data(){return super.data()}}function Sp(e,t){return"string"==typeof t?bp(e,t):t instanceof Qf?t._internalPath:t._delegate._internalPath}function Ep(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new va(ya.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tp{}class Cp extends Tp{}function Np(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Tp&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Ap).length,n=e.filter(e=>e instanceof Pp).length;if(t>1||t>0&&n>0)throw new va(ya.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Pp extends Cp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Pp(e,t,n)}_apply(e){const t=this._parse(e);return Fp(e._query,t),new Lf(e.firestore,e.converter,Sl(e._query,t))}_parse(e){const t=op(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new va(ya.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Lp(o,a);const t=[];for(const n of o)t.push(Rp(r,e,n));s={arrayValue:{values:t}}}else s=Rp(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Lp(o,a),s=hp(n,t,o,"in"===a||"not-in"===a);return Ys.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Op(e,t,n){const r=t,i=Sp("where",e);return Pp._create(i,r,n)}class Ap extends Tp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ap(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Qs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Fp(n,i),n=Sl(n,i)}(e._query,t),new Lf(e.firestore,e.converter,Sl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jp extends Cp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jp(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new va(ya.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new va(ya.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ks(t,n)}(e._query,this._field,this._direction);return new Lf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ip(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Sp("orderBy",e);return jp._create(n,t)}class Dp extends Cp{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Dp(e,t,n)}_apply(e){return new Lf(e.firestore,e.converter,El(e._query,this._limit,this._limitType))}}function Mp(e){return Xa("limit",e),Dp._create("limit",e,"F")}function Rp(e,t,n){if("string"==typeof(n=U(n))){if(""===n)throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wl(t)&&-1!==n.indexOf("/"))throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Fa.fromString(n));if(!Va.isDocumentKey(r))throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return As(e,new Va(r))}if(n instanceof Ff)return As(e,n._key);throw new va(ya.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ka(n),"."))}function Lp(e,t){if(!Array.isArray(e)||0===e.length)throw new va(ya.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Fp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new va(ya.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new va(ya.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class zp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return as(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fa(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Go(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[xs].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>as(e.doubleValue));return new $f(n)}convertGeoPoint(e){return new Zf(as(e.latitude),as(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fs(e));default:return null}}convertTimestamp(e){const t=is(e);return new $a(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Fa.fromString(e);ma(Tu(n),9688,{name:e});const r=new gs(n.get(1),n.get(3)),i=new Va(n.popFirst(5));return r.isEqual(t)||ua("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Up(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Vp extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ff(this.firestore,null,t)}}class Bp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hp extends _p{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Sp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new va(ya.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Hp._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Hp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hp._jsonSchema={type:Ya("string",Hp._jsonSchemaVersion),bundleSource:Ya("string","DocumentSnapshot"),bundleName:Ya("string"),bundle:Ya("string")};class qp extends Hp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Wp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Bp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new qp(this._firestore,this._userDataWriter,n.key,n,new Bp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new va(ya.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new qp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Bp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Kp(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new va(ya.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pa.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fa(61501,{type:e})}}Wp._jsonSchemaVersion="firestore/querySnapshot/1.0",Wp._jsonSchema={type:Ya("string",Wp._jsonSchemaVersion),bundleSource:Ya("string","QuerySnapshot"),bundleName:Ya("string"),bundle:Ya("string")};class Gp extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ff(this.firestore,null,t)}}function Xp(e){e=Ga(e,Lf);const t=Ga(e.firestore,Kf),n=Gf(t),r=new Gp(t);return Ep(e._query),Pf(n,e._query).then(n=>new Wp(t,r,e,n))}function Yp(e,t,n){e=Ga(e,Ff);const r=Ga(e.firestore,Kf),i=Up(e.converter,t,n);return $p(r,[sp(op(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,uc.none())])}function Qp(e){return $p(Ga(e.firestore,Kf),[new kc(e._key,uc.none())])}function Jp(e,t){const n=Ga(e.firestore,Kf),r=Vf(e),i=Up(e.converter,t);return $p(n,[sp(op(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,uc.exists(!1))]).then(()=>r)}function Zp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=U(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||Wf(n[a])||(i=n[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Wf(n[a])){var s,l,c;const e=n[a];n[a]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof Ff)d=Ga(e.firestore,Kf),h=vl(e._key.path),u={next:t=>{n[a]&&n[a](em(d,e,t))},error:n[a+1],complete:n[a+2]};else{const t=Ga(e,Lf);d=Ga(t.firestore,Kf),h=t._query;const r=new Gp(d);u={next:e=>{n[a]&&n[a](new Wp(d,r,t,e))},error:n[a+1],complete:n[a+2]},Ep(e._query)}return function(e,t,n,r){const i=new gf(r),a=new Mh(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Nh(await Cf(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ph(await Cf(e),a))}}(Gf(d),h,o,u)}function $p(e,t){return function(e,t){const n=new ba;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=hf(e);try{const e=await function(e,t){const n=ga(e),r=$a.now(),i=t.reduce((e,t)=>e.add(t.key),ql());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Ml(),l=ql();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=gc(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new bc(e.key,t,Vs(t.value.mapValue),uc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Fl(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Yo(Oa)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await lf(r,e.changes),await sh(r.remoteStore)}catch(e){const t=xh(e,"Failed to persist write");n.reject(t)}}(await Ef(e),t,n)),n.promise}(Gf(e),t)}function em(e,t,n){const r=n.docs.get(t._key),i=new Gp(e);return new Hp(e,i,t._key,r,new Bp(n.hasPendingWrites,n.fromCache),t.converter)}const tm={maxAttempts:5};function nm(e,t){if((e=U(e)).firestore!==t)throw new va(ya.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class rm{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=op(e)}get(e){const t=nm(e,this._firestore),n=new Vp(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return fa(24041);const r=e[0];if(r.isFoundDocument())return new _p(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new _p(this._firestore,n,t._key,null,t.converter);throw fa(18433,{doc:r})})}set(e,t,n){const r=nm(e,this._firestore),i=Up(r.converter,t,n),a=sp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}update(e,t,n){const r=nm(e,this._firestore);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return i="string"==typeof(t=U(t))||t instanceof Qf?dp(this._dataReader,"Transaction.update",r._key,t,n,o):up(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=nm(e,this._firestore);return this._transaction.delete(t._key),this}}class im extends rm{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nm(e,this._firestore),n=new Gp(this._firestore);return super.get(e).then(e=>new Hp(this._firestore,n,t._key,e._document,new Bp(!1,!1),t.converter))}}function am(e,t,n){e=Ga(e,Kf);const r=c(c({},tm),n);return function(e){if(e.maxAttempts<1)throw new va(ya.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ba;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Tf(e);new vf(e.asyncQueue,i,n,t,r).ju()}),r.promise}(Gf(e),n=>t(new im(e,n)),r)}function om(){return new cp("serverTimestamp")}new WeakMap;function sm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=sm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lm(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=sm(e))&&(r&&(r+=" "),r+=t);return r}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){oa=e}(tt),Qe(new V("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Kf(new ka(e.getProvider("auth-internal")),new Ca(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new va(ya.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gs(e.options.projectId,t)}(a,r),a);return i=c({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),it(ra,ia,e),it(ra,ia,"esm2020")}();var cm=n(7820),um=n.n(cm),dm=n(7770),hm=n.n(dm),fm=e=>0===e?0:e>0?1:-1,pm=e=>"number"==typeof e&&e!=+e,mm=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,gm=e=>("number"===typeof e||e instanceof Number)&&!pm(e),ym=e=>gm(e)||"string"===typeof e,vm=0,bm=e=>{var t=++vm;return"".concat(e||"").concat(t)},wm=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!gm(e)&&"string"!==typeof e)return r;if(mm(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return pm(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},xm=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function _m(e,t,n){return gm(e)&&gm(t)?e+n*(t-e):t}function km(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):hm()(e,t))===n)}var Sm=e=>null===e||"undefined"===typeof e,Em=e=>Sm(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Tm=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(n),!0).forEach(function(t){Pm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Om=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:i={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[v,b]=(0,t.useState)({containerWidth:i.width,containerHeight:i.height}),w=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;w(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};d>0&&(e=um()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return w(n,r),t.observe(g.current),()=>{t.disconnect()}},[w,d]);var x=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=v;if(e<0||n<0)return null;Tm(mm(a)||mm(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,o),Tm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=mm(a)?e:a,d=mm(o)?n:o;return r&&r>0&&(i?d=i/r:d&&(i=d*r),c&&d>c&&(d=c)),Tm(i>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,d,a,o,s,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:i,height:d,style:Nm({width:i,height:d},e.props.style)}))},[r,u,o,c,l,s,v,a]);return t.createElement("div",{id:h?"".concat(h):void 0,className:lm("recharts-responsive-container",f),style:Nm(Nm({},m),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},x))});function Am(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var jm=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Im=()=>Math.random().toString(36).substring(7).split("").join("."),Dm={INIT:"@@redux/INIT".concat(Im()),REPLACE:"@@redux/REPLACE".concat(Im()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Im())};function Mm(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Rm(e,t,n){if("function"!==typeof e)throw new Error(Am(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Am(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Am(1));return n(Rm)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(Am(3));return i}function d(e){if("function"!==typeof e)throw new Error(Am(4));if(l)throw new Error(Am(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(Am(6));t=!1,c(),o.delete(n),a=null}}}function h(e){if(!Mm(e))throw new Error(Am(7));if("undefined"===typeof e.type)throw new Error(Am(8));if("string"!==typeof e.type)throw new Error(Am(17));if(l)throw new Error(Am(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}h({type:Dm.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Am(10));r=e,h({type:Dm.REPLACE})},[jm]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Am(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[jm](){return this}}}}}function Lm(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Dm.INIT}))throw new Error(Am(12));if("undefined"===typeof n(void 0,{type:Dm.PROBE_UNKNOWN_ACTION()}))throw new Error(Am(13))})}(n)}catch(a){i=a}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Am(14))}o[s]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?o:e}}function Fm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function zm(e){return Mm(e)&&"type"in e&&"string"===typeof e.type}function Um(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Vm=Um(),Bm=Um,Hm=Symbol.for("immer-nothing"),qm=Symbol.for("immer-draftable"),Wm=Symbol.for("immer-state");function Km(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Gm=Object.getPrototypeOf;function Xm(e){return!!e&&!!e[Wm]}function Ym(e){var t;return!!e&&(Jm(e)||Array.isArray(e)||!!e[qm]||!(null===(t=e.constructor)||void 0===t||!t[qm])||ng(e)||rg(e))}var Qm=Object.prototype.constructor.toString();function Jm(e){if(!e||"object"!==typeof e)return!1;const t=Gm(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Qm}function Zm(e,t){0===$m(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function $m(e){const t=e[Wm];return t?t.type_:Array.isArray(e)?1:ng(e)?2:rg(e)?3:0}function eg(e,t){return 2===$m(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tg(e,t,n){const r=$m(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ng(e){return e instanceof Map}function rg(e){return e instanceof Set}function ig(e){return e.copy_||e.base_}function ag(e,t){if(ng(e))return new Map(e);if(rg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Jm(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Wm];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Gm(e),t)}{const t=Gm(e);if(null!==t&&n)return c({},e);const r=Object.create(t);return Object.assign(r,e)}}function og(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return lg(e)||Xm(e)||!Ym(e)||($m(e)>1&&(e.set=e.add=e.clear=e.delete=sg),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return og(n,!0)})),e}function sg(){Km(2)}function lg(e){return Object.isFrozen(e)}var cg,ug={};function dg(e){const t=ug[e];return t||Km(0),t}function hg(){return cg}function fg(e,t){t&&(dg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pg(e){mg(e),e.drafts_.forEach(yg),e.drafts_=null}function mg(e){e===cg&&(cg=e.parent_)}function gg(e){return cg={drafts_:[],parent_:cg,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yg(e){const t=e[Wm];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function vg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Wm].modified_&&(pg(t),Km(4)),Ym(e)&&(e=bg(t,e),t.parent_||xg(t,e)),t.patches_&&dg("Patches").generateReplacementPatches_(n[Wm].base_,e,t.patches_,t.inversePatches_)):e=bg(t,n,[]),pg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Hm?e:void 0}function bg(e,t,n){if(lg(t))return t;const r=t[Wm];if(!r)return Zm(t,(i,a)=>wg(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return xg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Zm(i,(i,o)=>wg(e,r,t,i,o,n,a)),xg(e,t,!1),n&&e.patches_&&dg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function wg(e,t,n,r,i,a,o){if(Xm(i)){const o=bg(e,i,a&&t&&3!==t.type_&&!eg(t.assigned_,r)?a.concat(r):void 0);if(tg(n,r,o),!Xm(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Ym(i)&&!lg(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;bg(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||xg(e,i)}}function xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&og(t,n)}var _g={get(e,t){if(t===Wm)return e;const n=ig(e);if(!eg(n,t))return function(e,t,n){var r;const i=Eg(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Ym(r)?r:r===Sg(e.base_,t)?(Cg(e),e.copy_[t]=Ng(r,e)):r},has:(e,t)=>t in ig(e),ownKeys:e=>Reflect.ownKeys(ig(e)),set(e,t,n){const r=Eg(ig(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Sg(ig(e),t),i=null===r||void 0===r?void 0:r[Wm];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||eg(e.base_,t)))return!0;Cg(e),Tg(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Sg(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Cg(e),Tg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ig(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Km(11)},getPrototypeOf:e=>Gm(e.base_),setPrototypeOf(){Km(12)}},kg={};function Sg(e,t){const n=e[Wm];return(n?ig(n):e)[t]}function Eg(e,t){if(!(t in e))return;let n=Gm(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Gm(n)}}function Tg(e){e.modified_||(e.modified_=!0,e.parent_&&Tg(e.parent_))}function Cg(e){e.copy_||(e.copy_=ag(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Zm(_g,(e,t)=>{kg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),kg.deleteProperty=function(e,t){return kg.set.call(this,e,t,void 0)},kg.set=function(e,t,n){return _g.set.call(this,e[0],t,n,e[0])};function Ng(e,t){const n=ng(e)?dg("MapSet").proxyMap_(e,t):rg(e)?dg("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:hg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=_g;n&&(i=[r],a=kg);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:hg()).drafts_.push(n),n}function Pg(e){return Xm(e)||Km(10),Og(e)}function Og(e){if(!Ym(e)||lg(e))return e;const t=e[Wm];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ag(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ag(e,!0);return Zm(n,(e,t)=>{tg(n,e,Og(t))}),t&&(t.finalized_=!1),n}var Ag=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Km(6),void 0!==n&&"function"!==typeof n&&Km(7),Ym(e)){const i=gg(this),a=Ng(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?pg(i):mg(i)}return fg(i,n),vg(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Hm&&(r=void 0),this.autoFreeze_&&og(r,!0),n){const t=[],i=[];dg("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Km(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ym(e)||Km(8),Xm(e)&&(e=Pg(e));const t=gg(this),n=Ng(e,void 0);return n[Wm].isManual_=!0,mg(t),n}finishDraft(e,t){const n=e&&e[Wm];n&&n.isManual_||Km(9);const{scope_:r}=n;return fg(r,t),vg(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=dg("Patches").applyPatches_;return Xm(e)?r(e,t):this.produce(e,e=>r(e,t))}},jg=Ag.produce;Ag.produceWithPatches.bind(Ag),Ag.setAutoFreeze.bind(Ag),Ag.setUseStrictShallowCopy.bind(Ag),Ag.applyPatches.bind(Ag),Ag.createDraft.bind(Ag),Ag.finishDraft.bind(Ag);const Ig=["reducerPath"];var Dg="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Fm:Fm.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Mg(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Py(0));return c(c({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>zm(t)&&t.type===e,n}var Rg=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Lg(e){return Ym(e)?jg(e,()=>{}):e}function Fg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var zg="RTK_autoBatch",Ug=e=>t=>{setTimeout(t,e)},Vg=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Rg(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ug(10):"callback"===e.type?e.queueNotification:Ug(e.timeout),l=()=>{a=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[zg]),i=!r,i&&(a||(a=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Bg(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new Rg;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(Vm):a.push(Bm(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o,enhancers:s}=e||{};let l,u;if("function"===typeof n)l=n;else{if(!Mm(n))throw new Error(Py(1));l=Lm(n)}u="function"===typeof r?r(t):t();let d=Fm;i&&(d=Dg(c({trace:!1},"object"===typeof i&&i)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Am(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},s=t.map(e=>e(o));return a=Fm(...s)(i.dispatch),c(c({},i),{},{dispatch:a})}}(...u),f=Vg(h);return Rm(l,o,d(..."function"===typeof s?s(f):f()))}function Hg(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Py(28));if(r in t)throw new Error(Py(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var qg=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Wg=Symbol.for("rtk-slice-createasyncthunk");function Kg(e,t){return"".concat(e,"/").concat(t)}function Gg(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Wg];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Py(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return c({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Py(12));if(n in o.sliceCaseReducersByType)throw new Error(Py(13));return o.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Hg(e.extraReducers):[e.extraReducers],i=c(c({},t),o.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=Hg(t);if(function(e){return"function"===typeof e}(e))n=()=>Lg(e());else{const t=Lg(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,n)=>{if(n){if(Xm(e)){const r=n(e,t);return void 0===r?e:r}if(Ym(e))return jg(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],o={reducerName:r,type:Kg(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Py(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(o,r).exposeAction(o,i?Mg(a,i):Mg(a))}(o,a,s):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(Py(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,o,d);n.exposeAction(a,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(a,{fulfilled:s||Qg,pending:l||Qg,rejected:c||Qg,settled:u||Qg})}(o,a,s,n)});const u=e=>e,d=new Map,h=new WeakMap;let f;function p(e,t){return f||(f=l()),f(e,t)}function m(){return f||(f=l()),f.getInitialState()}function g(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=Fg(h,r,m)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=Fg(d,n,()=>new WeakMap);return Fg(r,t,()=>{const r={};for(const[a,o]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[a]=Xg(o,t,()=>Fg(h,t,m),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const y=c(c({name:t,reducer:p,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:m},g(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=mt(t,Ig);const a=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:a,reducer:p},i),c(c({},y),g(a,!0))}});return y}}function Xg(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(a,...s)}return i.unwrapped=e,i}var Yg=Gg();function Qg(){}var Jg="listener",Zg="completed",$g="cancelled",ey="task-".concat($g),ty="task-".concat(Zg),ny="".concat(Jg,"-").concat($g),ry="".concat(Jg,"-").concat(Zg),iy=class{constructor(e){s(this,"name","TaskAbortError"),s(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat($g," (reason: ").concat(e,")")}},ay=(e,t)=>{if("function"!==typeof e)throw new TypeError(Py(32))},oy=()=>{},sy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oy;return e.catch(t),e},ly=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cy=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},uy=e=>{if(e.aborted){const{reason:t}=e;throw new iy(t)}};function dy(e,t){let n=oy;return new Promise((r,i)=>{const a=()=>i(new iy(e.reason));e.aborted?a():(n=ly(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=oy})}var hy=e=>t=>sy(dy(e,t).then(t=>(uy(e),t))),fy=e=>{const t=hy(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:py}=Object,my={},gy="listenerMiddleware",yy=(e,t)=>(n,r)=>{ay(n);const i=new AbortController;var a;a=i,ly(e,()=>cy(a,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof iy?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{uy(e),uy(i.signal);const t=await n({pause:hy(i.signal),delay:fy(i.signal),signal:i.signal});return uy(i.signal),t},()=>cy(i,ty));return null!==r&&void 0!==r&&r.autoJoin&&t.push(o.catch(oy)),{result:hy(e)(o),cancel(){cy(i,ey)}}},vy=(e,t)=>(n,r)=>sy((async(n,r)=>{uy(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await dy(t,Promise.race(a));return uy(t),e}finally{i()}})(n,r)),by=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Mg(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Py(21));return ay(a),{predicate:i,type:t,effect:a}},wy=py(e=>{const{type:t,predicate:n,effect:r}=by(e);return{id:qg(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Py(22))}}},{withTypes:()=>wy}),xy=(e,t)=>{const{type:n,effect:r,predicate:i}=by(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},_y=e=>{e.pending.forEach(e=>{cy(e,ny)})},ky=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Sy=py(Mg("".concat(gy,"/add")),{withTypes:()=>Sy}),Ey=Mg("".concat(gy,"/removeAll")),Ty=py(Mg("".concat(gy,"/remove")),{withTypes:()=>Ty}),Cy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(gy,"/error"),...t)},Ny=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=Cy}=e;ay(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&_y(e)}))(null!==(n=xy(t,e))&&void 0!==n?n:wy(e))};py(i,{withTypes:()=>i});const a=e=>{const n=xy(t,e);return n&&(n.unsubscribe(),e.cancelActive&&_y(n)),!!n};py(a,{withTypes:()=>a});const o=async(e,a,o,s)=>{const l=new AbortController,c=vy(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,py({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:fy(l.signal),pause:hy(l.signal),extra:n,signal:l.signal,fork:yy(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(cy(e,ny),n.delete(e))})},cancel:()=>{cy(l,ny),e.pending.delete(l)},throwIfCancelled:()=>{uy(l.signal)}})))}catch(d){d instanceof iy||ky(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),cy(l,ry),e.pending.delete(l)}},s=(e=>()=>{e.forEach(_y),e.clear()})(t);return{middleware:e=>n=>l=>{if(!zm(l))return n(l);if(Sy.match(l))return i(l.payload);if(Ey.match(l))return void s();if(Ty.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===my)throw new Error(Py(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,ky(r,h,{raisedBy:"predicate"})}i&&o(t,l,e,u)}}}finally{c=my}return d},startListening:i,stopListening:a,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function Py(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Oy(e,t){if(t){var n=Number.parseInt(t,10);if(!pm(n))return null===e||void 0===e?void 0:e[n]}}var Ay=Yg({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jy=Ay.reducer,{createEventEmitter:Iy}=Ay.actions;n(7237);function Dy(e){e()}var My={notify(){},get:()=>[]};function Ry(e,t){let n,r=My,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Dy(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=My)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var Ly=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Fy=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),zy=(()=>Ly||Fy?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Uy=Symbol.for("react-redux-context"),Vy="undefined"!==typeof globalThis?globalThis:{};function By(){var e;if(!t.createContext)return{};const n=null!==(e=Vy[Uy])&&void 0!==e?e:Vy[Uy]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var Hy=By();var qy=function(e){const{children:n,context:r,serverState:i,store:a}=e,o=t.useMemo(()=>{const e=Ry(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}},[a,i]),s=t.useMemo(()=>a.getState(),[a]);zy(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=r||Hy;return t.createElement(l.Provider,{value:o},n)};var Wy=Symbol.for("immer-nothing"),Ky=Symbol.for("immer-draftable"),Gy=Symbol.for("immer-state");function Xy(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Yy=Object.getPrototypeOf;function Qy(e){return!!e&&!!e[Gy]}function Jy(e){var t;return!!e&&($y(e)||Array.isArray(e)||!!e[Ky]||!(null===(t=e.constructor)||void 0===t||!t[Ky])||iv(e)||av(e))}var Zy=Object.prototype.constructor.toString();function $y(e){if(!e||"object"!==typeof e)return!1;const t=Yy(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Zy}function ev(e,t){0===tv(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function tv(e){const t=e[Gy];return t?t.type_:Array.isArray(e)?1:iv(e)?2:av(e)?3:0}function nv(e,t){return 2===tv(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rv(e,t,n){const r=tv(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function iv(e){return e instanceof Map}function av(e){return e instanceof Set}function ov(e){return e.copy_||e.base_}function sv(e,t){if(iv(e))return new Map(e);if(av(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$y(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Gy];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Yy(e),t)}{const t=Yy(e);if(null!==t&&n)return c({},e);const r=Object.create(t);return Object.assign(r,e)}}function lv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return uv(e)||Qy(e)||!Jy(e)||(tv(e)>1&&(e.set=e.add=e.clear=e.delete=cv),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return lv(n,!0)})),e}function cv(){Xy(2)}function uv(e){return Object.isFrozen(e)}var dv,hv={};function fv(e){const t=hv[e];return t||Xy(0),t}function pv(){return dv}function mv(e,t){t&&(fv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gv(e){yv(e),e.drafts_.forEach(bv),e.drafts_=null}function yv(e){e===dv&&(dv=e.parent_)}function vv(e){return dv={drafts_:[],parent_:dv,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bv(e){const t=e[Gy];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function wv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Gy].modified_&&(gv(t),Xy(4)),Jy(e)&&(e=xv(t,e),t.parent_||kv(t,e)),t.patches_&&fv("Patches").generateReplacementPatches_(n[Gy].base_,e,t.patches_,t.inversePatches_)):e=xv(t,n,[]),gv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Wy?e:void 0}function xv(e,t,n){if(uv(t))return t;const r=t[Gy];if(!r)return ev(t,(i,a)=>_v(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return kv(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),ev(i,(i,o)=>_v(e,r,t,i,o,n,a)),kv(e,t,!1),n&&e.patches_&&fv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function _v(e,t,n,r,i,a,o){if(Qy(i)){const o=xv(e,i,a&&t&&3!==t.type_&&!nv(t.assigned_,r)?a.concat(r):void 0);if(rv(n,r,o),!Qy(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Jy(i)&&!uv(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;xv(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||kv(e,i)}}function kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lv(t,n)}var Sv={get(e,t){if(t===Gy)return e;const n=ov(e);if(!nv(n,t))return function(e,t,n){var r;const i=Cv(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Jy(r)?r:r===Tv(e.base_,t)?(Pv(e),e.copy_[t]=Ov(r,e)):r},has:(e,t)=>t in ov(e),ownKeys:e=>Reflect.ownKeys(ov(e)),set(e,t,n){const r=Cv(ov(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Tv(ov(e),t),i=null===r||void 0===r?void 0:r[Gy];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||nv(e.base_,t)))return!0;Pv(e),Nv(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Tv(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Pv(e),Nv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ov(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Xy(11)},getPrototypeOf:e=>Yy(e.base_),setPrototypeOf(){Xy(12)}},Ev={};function Tv(e,t){const n=e[Gy];return(n?ov(n):e)[t]}function Cv(e,t){if(!(t in e))return;let n=Yy(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Yy(n)}}function Nv(e){e.modified_||(e.modified_=!0,e.parent_&&Nv(e.parent_))}function Pv(e){e.copy_||(e.copy_=sv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ev(Sv,(e,t)=>{Ev[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ev.deleteProperty=function(e,t){return Ev.set.call(this,e,t,void 0)},Ev.set=function(e,t,n){return Sv.set.call(this,e[0],t,n,e[0])};function Ov(e,t){const n=iv(e)?fv("MapSet").proxyMap_(e,t):av(e)?fv("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:pv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Sv;n&&(i=[r],a=Ev);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:pv()).drafts_.push(n),n}function Av(e){if(!Jy(e)||uv(e))return e;const t=e[Gy];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=sv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=sv(e,!0);return ev(n,(e,t)=>{rv(n,e,Av(t))}),t&&(t.finalized_=!1),n}var jv=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Xy(6),void 0!==n&&"function"!==typeof n&&Xy(7),Jy(e)){const i=vv(this),a=Ov(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?gv(i):yv(i)}return mv(i,n),wv(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Wy&&(r=void 0),this.autoFreeze_&&lv(r,!0),n){const t=[],i=[];fv("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Xy(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Jy(e)||Xy(8),Qy(e)&&(e=function(e){Qy(e)||Xy(10);return Av(e)}(e));const t=vv(this),n=Ov(e,void 0);return n[Gy].isManual_=!0,yv(t),n}finishDraft(e,t){const n=e&&e[Gy];n&&n.isManual_||Xy(9);const{scope_:r}=n;return mv(r,t),wv(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=fv("Patches").applyPatches_;return Qy(e)?r(e,t):this.produce(e,e=>r(e,t))}};jv.produce,jv.produceWithPatches.bind(jv),jv.setAutoFreeze.bind(jv),jv.setUseStrictShallowCopy.bind(jv),jv.applyPatches.bind(jv),jv.createDraft.bind(jv),jv.finishDraft.bind(jv);var Iv={active:!1,index:null,dataKey:void 0,coordinate:void 0},Dv=Yg({name:"tooltip",initialState:{itemInteraction:{click:Iv,hover:Iv},axisInteraction:{click:Iv,hover:Iv},keyboardInteraction:Iv,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Pg(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Mv,removeTooltipEntrySettings:Rv,setTooltipSettingsState:Lv,setActiveMouseOverItemIndex:Fv,mouseLeaveItem:zv,mouseLeaveChart:Uv,setActiveClickItemIndex:Vv,setMouseOverAxisIndex:Bv,setMouseClickAxisIndex:Hv,setSyncInteraction:qv,setKeyboardInteraction:Wv}=Dv.actions,Kv=Dv.reducer,Gv=Yg({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Xv,setDataStartEndIndexes:Yv,setComputedData:Qv}=Gv.actions,Jv=Gv.reducer,Zv=Yg({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:$v,setLayout:eb,setChartSize:tb,setScale:nb}=Zv.actions,rb=Zv.reducer;function ib(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var ab=e=>Array.isArray(e)?e:[e];function ob(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var sb="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function lb(){return{s:0,v:void 0,o:null,p:null}}function cb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=lb(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=lb(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new sb(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function ub(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),ib(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const u=c(c({},i),s),{memoize:d,memoizeOptions:h=[],argsMemoize:f=cb,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,g=ab(h),y=ab(p),v=ob(t),b=d(function(){return a++,l.apply(null,arguments)},...g);const w=f(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=b.apply(null,e),r},...y);return Object.assign(w,{resultFunc:l,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var db=ub(cb),hb=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:db;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>hb}),fb=n(8443),pb=(0,t.createContext)(null),mb=e=>e,gb=()=>{var e=(0,t.useContext)(pb);return e?e.store.dispatch:mb},yb=()=>{},vb=()=>yb,bb=(e,t)=>e===t;function wb(e){var n=(0,t.useContext)(pb);return(0,fb.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:vb,n?n.store.getState:yb,n?n.store.getState:yb,n?e:yb,bb)}var xb=n(3821),_b=n.n(xb),kb=e=>e.legend.settings,Sb=db([e=>e.legend.payload,kb],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?_b()(r,n):r});function Eb(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function Tb(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Cb(e){return function(){return e}}function Nb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Pb(e,t){return e[t]}function Ob(e){const t=[];return t.key=e,t}function Ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ab(Object(n),!0).forEach(function(t){Ib(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ib(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Db=Math.PI/180,Mb=e=>180*e/Math.PI,Rb=(e,t,n,r)=>({x:e+Math.cos(-Db*r)*n,y:t+Math.sin(-Db*r)*n}),Lb=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:Mb(l),angleInRadian:l}},Fb=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},zb=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Lb({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?jb(jb({},t),{},{radius:i,angle:Fb(d,t)}):null};function Ub(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(n),!0).forEach(function(t){Hb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e,t,n){return Sm(e)||Sm(t)?n:ym(t)?hm()(e,t,n):"function"===typeof t?t(e):n}var Wb=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Kb=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(n),o},Gb=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||n)&&"category"===i&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&a&&a.length>=2?2*fm(a[0]-a[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+m,value:e,offset:m,index:t}}).filter(e=>!pm(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:r?r[e]:e,index:t,offset:m}))},Xb=1e-4,Yb={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=pm(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Eb(e,t)}},none:Eb,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Eb(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,Eb(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=pm(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},Qb=(e,t,n)=>{var r=Yb[n],i=function(){var e=Cb([]),t=Nb,n=Eb,r=Pb;function i(i){var a,o,s=Array.from(e.apply(this,arguments),Ob),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=Tb(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Cb(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Cb(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Nb:"function"===typeof e?e:Cb(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Eb:e,i):n},i}().keys(t).value((e,t)=>+qb(e,t,0)).order(Nb).offset(r);return i(e)};function Jb(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Sm(i[t.dataKey])){var s=km(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=qb(i,Sm(o)?t.dataKey:o);return Sm(l)?null:t.scale(l)}var Zb=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(gm);return[Math.min(...t),Math.max(...t)]})(Ub(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},$b=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ew=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tw=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=_b()(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function nw(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Bb(Bb({},t),{},{dataKey:n,payload:r,value:i,name:a})}function rw(e,t){return e?String(e):"string"===typeof t?t:void 0}var iw=e=>e.layout.width,aw=e=>e.layout.height,ow=e=>e.layout.scale,sw=e=>e.layout.margin,lw=db(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cw=db(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(n),!0).forEach(function(t){hw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fw=db([iw,aw,sw,e=>e.brush.height,lw,cw,kb,e=>e.legend.size],(e,t,n,r,i,a,o,s)=>{var l=a.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return dw(dw({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:dw(dw({},e),{},{[n]:hm()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=dw(dw({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&gm(e[a]))return Bb(Bb({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&gm(e[o]))return Bb(Bb({},e),{},{[o]:e[o]+(i||0)})}return e})(u,o,s);var h=e-u.left-u.right,f=t-u.top-u.bottom;return dw(dw({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),pw=db(fw,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mw=db(iw,aw,(e,t)=>({x:0,y:0,width:e,height:t})),gw=(0,t.createContext)(null),yw=()=>null!=(0,t.useContext)(gw),vw=e=>e.brush,bw=db([vw,fw,sw],(e,t,n)=>({height:e.height,x:gm(e.x)?e.x:t.left,y:gm(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:gm(e.width)?e.width:t.width})),ww=()=>{var e,t=yw(),n=wb(pw),r=wb(bw),i=null===(e=wb(vw))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},xw={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_w=()=>{var e;return null!==(e=wb(fw))&&void 0!==e?e:xw},kw=()=>wb(iw),Sw=()=>wb(aw),Ew={top:0,right:0,bottom:0,left:0},Tw=e=>e.layout.layoutType,Cw=()=>wb(Tw),Nw=n(9859),Pw=n.n(Nw);function Ow(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Aw(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class jw extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rw;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Iw(this,e))}has(e){return super.has(Iw(this,e))}set(e,t){return super.set(Dw(this,e),t)}delete(e){return super.delete(Mw(this,e))}}Set;function Iw(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Dw(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Mw(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Rw(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Lw=Symbol("implicit");function Fw(){var e=new jw,t=[],n=[],r=Lw;function i(i){let a=e.get(i);if(void 0===a){if(r!==Lw)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new jw;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Fw(t,n).unknown(r)},Ow.apply(i,arguments),i}function zw(){var e,t,n=Fw().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return zw(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ow.apply(d(),arguments)}function Uw(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Uw(t())},e}function Vw(){return Uw(zw.apply(null,arguments).paddingInner(1))}const Bw=Math.sqrt(50),Hw=Math.sqrt(10),qw=Math.sqrt(2);function Ww(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Bw?10:a>=Hw?5:a>=qw?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Ww(e,t,2*n):[s,l,c]}function Kw(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?Ww(t,e,n):Ww(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Gw(e,t,n){return Ww(e=+e,t=+t,n=+n)[2]}function Xw(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Gw(t,e,n):Gw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Yw(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qw(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jw(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Yw,n=(t,n)=>Yw(e(t),n),r=(t,n)=>e(t)-n):(t=e===Yw||e===Qw?e:Zw,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Zw(){return 0}function $w(e){return null===e?NaN:+e}const ex=Jw(Yw),tx=ex.right,nx=(ex.left,Jw($w).center,tx);function rx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ix(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ax(){}var ox=.7,sx=1/ox,lx="\\s*([+-]?\\d+)\\s*",cx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ux="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dx=/^#([0-9a-f]{3,8})$/,hx=new RegExp("^rgb\\(".concat(lx,",").concat(lx,",").concat(lx,"\\)$")),fx=new RegExp("^rgb\\(".concat(ux,",").concat(ux,",").concat(ux,"\\)$")),px=new RegExp("^rgba\\(".concat(lx,",").concat(lx,",").concat(lx,",").concat(cx,"\\)$")),mx=new RegExp("^rgba\\(".concat(ux,",").concat(ux,",").concat(ux,",").concat(cx,"\\)$")),gx=new RegExp("^hsl\\(".concat(cx,",").concat(ux,",").concat(ux,"\\)$")),yx=new RegExp("^hsla\\(".concat(cx,",").concat(ux,",").concat(ux,",").concat(cx,"\\)$")),vx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bx(){return this.rgb().formatHex()}function wx(){return this.rgb().formatRgb()}function xx(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=dx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_x(t):3===n?new Ex(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?kx(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?kx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=hx.exec(e))?new Ex(t[1],t[2],t[3],1):(t=fx.exec(e))?new Ex(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=px.exec(e))?kx(t[1],t[2],t[3],t[4]):(t=mx.exec(e))?kx(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=gx.exec(e))?Ax(t[1],t[2]/100,t[3]/100,1):(t=yx.exec(e))?Ax(t[1],t[2]/100,t[3]/100,t[4]):vx.hasOwnProperty(e)?_x(vx[e]):"transparent"===e?new Ex(NaN,NaN,NaN,0):null}function _x(e){return new Ex(e>>16&255,e>>8&255,255&e,1)}function kx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ex(e,t,n,r)}function Sx(e,t,n,r){return 1===arguments.length?((i=e)instanceof ax||(i=xx(i)),i?new Ex((i=i.rgb()).r,i.g,i.b,i.opacity):new Ex):new Ex(e,t,n,null==r?1:r);var i}function Ex(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Tx(){return"#".concat(Ox(this.r)).concat(Ox(this.g)).concat(Ox(this.b))}function Cx(){const e=Nx(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Px(this.r),", ").concat(Px(this.g),", ").concat(Px(this.b)).concat(1===e?")":", ".concat(e,")"))}function Nx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Px(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ox(e){return((e=Px(e))<16?"0":"")+e.toString(16)}function Ax(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ix(e,t,n,r)}function jx(e){if(e instanceof Ix)return new Ix(e.h,e.s,e.l,e.opacity);if(e instanceof ax||(e=xx(e)),!e)return new Ix;if(e instanceof Ix)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ix(o,s,l,e.opacity)}function Ix(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Dx(e){return(e=(e||0)%360)<0?e+360:e}function Mx(e){return Math.max(0,Math.min(1,e||0))}function Rx(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Lx(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}rx(ax,xx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bx,formatHex:bx,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return jx(this).formatHsl()},formatRgb:wx,toString:wx}),rx(Ex,Sx,ix(ax,{brighter(e){return e=null==e?sx:Math.pow(sx,e),new Ex(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ox:Math.pow(ox,e),new Ex(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ex(Px(this.r),Px(this.g),Px(this.b),Nx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tx,formatHex:Tx,formatHex8:function(){return"#".concat(Ox(this.r)).concat(Ox(this.g)).concat(Ox(this.b)).concat(Ox(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Cx,toString:Cx})),rx(Ix,function(e,t,n,r){return 1===arguments.length?jx(e):new Ix(e,t,n,null==r?1:r)},ix(ax,{brighter(e){return e=null==e?sx:Math.pow(sx,e),new Ix(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ox:Math.pow(ox,e),new Ix(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ex(Rx(e>=240?e-240:e+120,i,r),Rx(e,i,r),Rx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ix(Dx(this.h),Mx(this.s),Mx(this.l),Nx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nx(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Dx(this.h),", ").concat(100*Mx(this.s),"%, ").concat(100*Mx(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Fx=e=>()=>e;function zx(e,t){return function(n){return e+n*t}}function Ux(e){return 1===(e=+e)?Vx:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Fx(isNaN(t)?n:t)}}function Vx(e,t){var n=t-e;return n?zx(e,n):Fx(isNaN(e)?t:e)}const Bx=function e(t){var n=Ux(t);function r(e,t){var r=n((e=Sx(e)).r,(t=Sx(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Vx(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Hx(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Sx(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}Hx(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Lx((n-r/t)*t,o,i,a,s)}}),Hx(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Lx((n-r/t)*t,i,a,o,s)}});function qx(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Zx(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Wx(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gx(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Zx(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Xx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(Xx.source,"g");function Qx(e,t){var n,r,i,a=Xx.lastIndex=Yx.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Xx.exec(e))&&(r=Yx.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Kx(n,r)})),a=Yx.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Jx(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Zx(e,t){var n,r=typeof t;return null==t||"boolean"===r?Fx(t):("number"===r?Kx:"string"===r?(n=xx(t))?(t=n,Bx):Qx:t instanceof xx?Bx:t instanceof Date?Wx:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Jx:Array.isArray(t)?qx:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Gx:Kx)(e,t)}function $x(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function e_(e){return+e}var t_=[0,1];function n_(e){return e}function r_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function i_(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=r_(i,r),a=n(o,a)):(r=r_(r,i),a=n(a,o)),function(e){return a(r(e))}}function a_(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=r_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=nx(e,t,1,r)-1;return a[n](i[n](t))}}function o_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s_(){var e,t,n,r,i,a,o=t_,s=t_,l=Zx,c=n_;function u(){var e=Math.min(o.length,s.length);return c!==n_&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?a_:i_,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),Kx)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,e_),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=$x,u()},d.clamp=function(e){return arguments.length?(c=!!e||n_,u()):c!==n_},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function l_(){return s_()(n_,n_)}var c_,u_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d_(e){if(!(t=u_.exec(e)))throw new Error("invalid format: "+e);var t;return new h_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function h_(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function f_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function p_(e){return(e=f_(Math.abs(e)))?e[1]:NaN}function m_(e,t){var n=f_(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}d_.prototype=h_.prototype,h_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const g_={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>m_(100*e,t),r:m_,s:function(e,t){var n=f_(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(c_=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+f_(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y_(e){return e}var v_,b_,w_,x_=Array.prototype.map,__=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function k_(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?y_:(t=x_.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?y_:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(x_.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=d_(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):g_[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?a:/[%p]/.test(v)?l:"",x=g_[v],_=/[defgprs%]/.test(v);function k(e){var i,a,l,h=b,k=w;if("c"===v)k=x(e)+k,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===v?__[8+c_/3]:"")+k+(S&&"("===d?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=h.length+e.length+k.length,T=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(T+e,T.length?p-k.length:1/0),T=""),n){case"<":e=h+e+k+T;break;case"=":e=h+T+e+k;break;case"^":e=T.slice(0,E=T.length>>1)+h+e+k+T.slice(E);break;default:e=T+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=d_(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(p_(t)/3))),i=Math.pow(10,-r),a=__[8+r/3];return function(e){return n(i*e)+a}}}}function S_(e,t,n,r){var i,a=Xw(e,t,n);switch((r=d_(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(p_(t)/3)))-p_(Math.abs(e)))}(a,o))||(r.precision=i),w_(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,p_(t)-p_(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-p_(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return b_(r)}function E_(e){var t=e.domain;return e.ticks=function(e){var n=t();return Kw(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return S_(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=Gw(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function T_(){var e=l_();return e.copy=function(){return o_(e,T_())},Ow.apply(e,arguments),E_(e)}function C_(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,e_),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return C_(e).unknown(t)},e=arguments.length?Array.from(e,e_):[0,1],E_(n)}function N_(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function P_(e){return Math.log(e)}function O_(e){return Math.exp(e)}function A_(e){return-Math.log(-e)}function j_(e){return-Math.exp(-e)}function I_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function D_(e){return(t,n)=>-e(-t,n)}function M_(e){const t=e(P_,O_),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?I_:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=D_(r),i=D_(i),e(A_,j_)):e(P_,O_),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Kw(o,s,f))}else p=Kw(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=d_(n)).precision||(n.trim=!0),n=b_(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(N_(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function R_(){const e=M_(s_()).domain([1,10]);return e.copy=()=>o_(e,R_()).base(e.base()),Ow.apply(e,arguments),e}function L_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function z_(e){var t=1,n=e(L_(t),F_(t));return n.constant=function(n){return arguments.length?e(L_(t=+n),F_(t)):t},E_(n)}function U_(){var e=z_(s_());return e.copy=function(){return o_(e,U_()).constant(e.constant())},Ow.apply(e,arguments)}function V_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function B_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function H_(e){return e<0?-e*e:e*e}function q_(e){var t=e(n_,n_),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(n_,n_):.5===n?e(B_,H_):e(V_(n),V_(1/n)):n},E_(t)}function W_(){var e=q_(s_());return e.copy=function(){return o_(e,W_()).exponent(e.exponent())},Ow.apply(e,arguments),e}function K_(){return W_.apply(null,arguments).exponent(.5)}function G_(e){return Math.sign(e)*e*e}function X_(){var e,t=l_(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(G_(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,e_)).map(G_)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return X_(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Ow.apply(i,arguments),E_(i)}function Y_(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Q_(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function J_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yw;if(e===Yw)return Z_;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Z_(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function $_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Z_:J_(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);$_(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(ek(e,n,t),i(e[r],a)>0&&ek(e,n,r);o<s;){for(ek(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?ek(e,n,s):(++s,ek(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function ek(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function tk(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Q_(e);if(t>=1)return Y_(e);var r,i=(r-1)*t,a=Math.floor(i),o=Y_($_(e,a).subarray(0,a+1));return o+(Q_(e.subarray(a+1))-o)*(i-a)}}function nk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$w;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function rk(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=nk(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[nx(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Yw),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return rk().domain(t).range(n).unknown(e)},Ow.apply(a,arguments)}function ik(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[nx(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return ik().domain([t,n]).range(a).unknown(e)},Ow.apply(E_(o),arguments)}function ak(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[nx(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return ak().domain(t).range(n).unknown(e)},Ow.apply(i,arguments)}v_=k_({thousands:",",grouping:[3],currency:["$",""]}),b_=v_.format,w_=v_.formatPrefix;const ok=1e3,sk=6e4,lk=36e5,ck=864e5,uk=6048e5,dk=2592e6,hk=31536e6,fk=new Date,pk=new Date;function mk(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>mk(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(fk.setTime(+t),pk.setTime(+r),e(fk),e(pk),Math.floor(n(fk,pk))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const gk=mk(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gk.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?mk(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gk:null);gk.range;const yk=mk(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ok)},(e,t)=>(t-e)/ok,e=>e.getUTCSeconds()),vk=(yk.range,mk(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ok)},(e,t)=>{e.setTime(+e+t*sk)},(e,t)=>(t-e)/sk,e=>e.getMinutes())),bk=(vk.range,mk(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sk)},(e,t)=>(t-e)/sk,e=>e.getUTCMinutes())),wk=(bk.range,mk(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ok-e.getMinutes()*sk)},(e,t)=>{e.setTime(+e+t*lk)},(e,t)=>(t-e)/lk,e=>e.getHours())),xk=(wk.range,mk(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*lk)},(e,t)=>(t-e)/lk,e=>e.getUTCHours())),_k=(xk.range,mk(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sk)/ck,e=>e.getDate()-1)),kk=(_k.range,mk(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ck,e=>e.getUTCDate()-1)),Sk=(kk.range,mk(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ck,e=>Math.floor(e/ck)));Sk.range;function Ek(e){return mk(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sk)/uk)}const Tk=Ek(0),Ck=Ek(1),Nk=Ek(2),Pk=Ek(3),Ok=Ek(4),Ak=Ek(5),jk=Ek(6);Tk.range,Ck.range,Nk.range,Pk.range,Ok.range,Ak.range,jk.range;function Ik(e){return mk(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/uk)}const Dk=Ik(0),Mk=Ik(1),Rk=Ik(2),Lk=Ik(3),Fk=Ik(4),zk=Ik(5),Uk=Ik(6),Vk=(Dk.range,Mk.range,Rk.range,Lk.range,Fk.range,zk.range,Uk.range,mk(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Bk=(Vk.range,mk(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Hk=(Bk.range,mk(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Hk.every=e=>isFinite(e=Math.floor(e))&&e>0?mk(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Hk.range;const qk=mk(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qk.every=e=>isFinite(e=Math.floor(e))&&e>0?mk(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;qk.range;function Wk(e,t,n,r,i,a){const o=[[yk,1,ok],[yk,5,5e3],[yk,15,15e3],[yk,30,3e4],[a,1,sk],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,lk],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,ck],[r,2,1728e5],[n,1,uk],[t,1,dk],[t,3,7776e6],[e,1,hk]];function s(t,n,r){const i=Math.abs(n-t)/r,a=Jw(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(Xw(t/hk,n/hk,r));if(0===a)return gk.every(Math.max(Xw(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[Kk,Gk]=Wk(qk,Bk,Dk,Sk,xk,bk),[Xk,Yk]=Wk(Hk,Vk,Tk,_k,wk,vk);function Qk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zk(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var $k,eS,tS,nS={"-":"",_:" ",0:"0"},rS=/^\s*\d+/,iS=/^%/,aS=/[\\^$*+?|[\]().{}]/g;function oS(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function sS(e){return e.replace(aS,"\\$&")}function lS(e){return new RegExp("^(?:"+e.map(sS).join("|")+")","i")}function cS(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function uS(e,t,n){var r=rS.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dS(e,t,n){var r=rS.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mS(e,t,n){var r=rS.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function gS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yS(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vS(e,t,n){var r=rS.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function bS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xS(e,t,n){var r=rS.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _S(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function SS(e,t,n){var r=rS.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ES(e,t,n){var r=rS.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function TS(e,t,n){var r=rS.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function CS(e,t,n){var r=iS.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function NS(e,t,n){var r=rS.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function PS(e,t,n){var r=rS.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function OS(e,t){return oS(e.getDate(),t,2)}function AS(e,t){return oS(e.getHours(),t,2)}function jS(e,t){return oS(e.getHours()%12||12,t,2)}function IS(e,t){return oS(1+_k.count(Hk(e),e),t,3)}function DS(e,t){return oS(e.getMilliseconds(),t,3)}function MS(e,t){return DS(e,t)+"000"}function RS(e,t){return oS(e.getMonth()+1,t,2)}function LS(e,t){return oS(e.getMinutes(),t,2)}function FS(e,t){return oS(e.getSeconds(),t,2)}function zS(e){var t=e.getDay();return 0===t?7:t}function US(e,t){return oS(Tk.count(Hk(e)-1,e),t,2)}function VS(e){var t=e.getDay();return t>=4||0===t?Ok(e):Ok.ceil(e)}function BS(e,t){return e=VS(e),oS(Ok.count(Hk(e),e)+(4===Hk(e).getDay()),t,2)}function HS(e){return e.getDay()}function qS(e,t){return oS(Ck.count(Hk(e)-1,e),t,2)}function WS(e,t){return oS(e.getFullYear()%100,t,2)}function KS(e,t){return oS((e=VS(e)).getFullYear()%100,t,2)}function GS(e,t){return oS(e.getFullYear()%1e4,t,4)}function XS(e,t){var n=e.getDay();return oS((e=n>=4||0===n?Ok(e):Ok.ceil(e)).getFullYear()%1e4,t,4)}function YS(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+oS(t/60|0,"0",2)+oS(t%60,"0",2)}function QS(e,t){return oS(e.getUTCDate(),t,2)}function JS(e,t){return oS(e.getUTCHours(),t,2)}function ZS(e,t){return oS(e.getUTCHours()%12||12,t,2)}function $S(e,t){return oS(1+kk.count(qk(e),e),t,3)}function eE(e,t){return oS(e.getUTCMilliseconds(),t,3)}function tE(e,t){return eE(e,t)+"000"}function nE(e,t){return oS(e.getUTCMonth()+1,t,2)}function rE(e,t){return oS(e.getUTCMinutes(),t,2)}function iE(e,t){return oS(e.getUTCSeconds(),t,2)}function aE(e){var t=e.getUTCDay();return 0===t?7:t}function oE(e,t){return oS(Dk.count(qk(e)-1,e),t,2)}function sE(e){var t=e.getUTCDay();return t>=4||0===t?Fk(e):Fk.ceil(e)}function lE(e,t){return e=sE(e),oS(Fk.count(qk(e),e)+(4===qk(e).getUTCDay()),t,2)}function cE(e){return e.getUTCDay()}function uE(e,t){return oS(Mk.count(qk(e)-1,e),t,2)}function dE(e,t){return oS(e.getUTCFullYear()%100,t,2)}function hE(e,t){return oS((e=sE(e)).getUTCFullYear()%100,t,2)}function fE(e,t){return oS(e.getUTCFullYear()%1e4,t,4)}function pE(e,t){var n=e.getUTCDay();return oS((e=n>=4||0===n?Fk(e):Fk.ceil(e)).getUTCFullYear()%1e4,t,4)}function mE(){return"+0000"}function gE(){return"%"}function yE(e){return+e}function vE(e){return Math.floor(+e/1e3)}function bE(e){return new Date(e)}function wE(e){return e instanceof Date?+e:+new Date(+e)}function xE(e,t,n,r,i,a,o,s,l,c){var u=l_(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,wE)):h().map(bE)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(N_(n,e)):u},u.copy=function(){return o_(u,xE(e,t,n,r,i,a,o,s,l,c))},u}function _E(){return Ow.apply(xE(Xk,Yk,Hk,Vk,Tk,_k,wk,vk,yk,eS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kE(){return Ow.apply(xE(Kk,Gk,qk,Bk,Dk,kk,xk,bk,yk,tS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function SE(){var e,t,n,r,i,a=0,o=1,s=n_,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Zx),c.rangeRound=u($x),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function EE(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TE(){var e=E_(SE()(n_));return e.copy=function(){return EE(e,TE())},Aw.apply(e,arguments)}function CE(){var e=M_(SE()).domain([1,10]);return e.copy=function(){return EE(e,CE()).base(e.base())},Aw.apply(e,arguments)}function NE(){var e=z_(SE());return e.copy=function(){return EE(e,NE()).constant(e.constant())},Aw.apply(e,arguments)}function PE(){var e=q_(SE());return e.copy=function(){return EE(e,PE()).exponent(e.exponent())},Aw.apply(e,arguments)}function OE(){return PE.apply(null,arguments).exponent(.5)}function AE(){var e=[],t=n_;function n(n){if(null!=n&&!isNaN(n=+n))return t((nx(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Yw),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>tk(e,r/t))},n.copy=function(){return AE(t).domain(e)},Aw.apply(n,arguments)}function jE(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=n_,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Zx);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Zx),f.rangeRound=p($x),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function IE(){var e=E_(jE()(n_));return e.copy=function(){return EE(e,IE())},Aw.apply(e,arguments)}function DE(){var e=M_(jE()).domain([.1,1,10]);return e.copy=function(){return EE(e,DE()).base(e.base())},Aw.apply(e,arguments)}function ME(){var e=z_(jE());return e.copy=function(){return EE(e,ME()).constant(e.constant())},Aw.apply(e,arguments)}function RE(){var e=q_(jE());return e.copy=function(){return EE(e,RE()).exponent(e.exponent())},Aw.apply(e,arguments)}function LE(){return RE.apply(null,arguments).exponent(.5)}!function(e){$k=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=lS(i),u=cS(i),d=lS(a),h=cS(a),f=lS(o),p=cS(o),m=lS(s),g=cS(s),y=lS(l),v=cS(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:OS,e:OS,f:MS,g:KS,G:XS,H:AS,I:jS,j:IS,L:DS,m:RS,M:LS,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:yE,s:vE,S:FS,u:zS,U:US,V:BS,w:HS,W:qS,x:null,X:null,y:WS,Y:GS,Z:YS,"%":gE},w={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:QS,e:QS,f:tE,g:hE,G:pE,H:JS,I:ZS,j:$S,L:eE,m:nE,M:rE,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:yE,s:vE,S:iE,u:aE,U:oE,V:lE,w:cE,W:uE,x:null,X:null,y:dE,Y:fE,Z:mE,"%":gE},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:wS,e:wS,f:TS,g:gS,G:mS,H:_S,I:_S,j:xS,L:ES,m:bS,M:kS,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:vS,Q:NS,s:PS,S:SS,u:dS,U:hS,V:fS,w:uS,W:pS,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:gS,Y:mS,Z:yS,"%":CS};function _(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=nS[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function k(e,t){return function(n){var r,i,a=Zk(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Jk(Zk(a.y,0,1))).getUTCDay(),r=i>4||0===i?Mk.ceil(r):Mk(r),r=kk.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Qk(Zk(a.y,0,1))).getDay(),r=i>4||0===i?Ck.ceil(r):Ck(r),r=_k.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Jk(Zk(a.y,0,1)).getUTCDay():Qk(Zk(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Jk(a)):Qk(a)}}function S(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=x[i in nS?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),eS=$k.format,$k.parse,tS=$k.utcFormat,$k.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var FE=e=>e.chartData,zE=db([FE],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),UE=(e,t,n,r)=>r?zE(e):FE(e);function VE(e){return Number.isFinite(e)}function BE(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function HE(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(VE(t)&&VE(n))return!0}return!1}function qE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var WE=n(8210),KE=n.n(WE),GE=e=>e,XE={"@@functional/placeholder":!0},YE=e=>e===XE,QE=e=>function t(){return 0===arguments.length||1===arguments.length&&YE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},JE=(e,t)=>1===e?t:QE(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==XE).length;return a>=e?t(...r):JE(e-a,QE(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>YE(e)?n.shift():e);return t(...a,...n)}))}),ZE=e=>JE(e.length,e),$E=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},eT=ZE((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),tT=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),nT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function rT(e){return 0===e?1:Math.floor(new(KE())(e).abs().log(10).toNumber())+1}function iT(e,t,n){for(var r=new(KE())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}ZE((e,t,n)=>{var r=+e;return r+n*(+t-r)}),ZE((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),ZE((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var aT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},oT=(e,t,n)=>{if(e.lte(0))return new(KE())(0);var r=rT(e.toNumber()),i=new(KE())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(KE())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?new(KE())(s.toNumber()):new(KE())(Math.ceil(s.toNumber()))},sT=(e,t,n)=>{var r=new(KE())(1),i=new(KE())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(KE())(10).pow(rT(e)-1),i=new(KE())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(KE())(Math.floor(e)))}else 0===e?i=new(KE())(Math.floor((t-1)/2)):n||(i=new(KE())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return GE;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(eT(e=>i.add(new(KE())(e-o).mul(r)).toNumber()),$E)(0,t)},lT=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(KE())(0),tickMin:new(KE())(0),tickMax:new(KE())(0)};var a,o=oT(new(KE())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(KE())(0):(a=new(KE())(e).add(t).div(2)).sub(new(KE())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(KE())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?lT(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(KE())(s).mul(o)),tickMax:a.add(new(KE())(l).mul(o))})};var cT=nT(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[o,s]=aT([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...$E(0,r-1).map(()=>1/0)]:[...$E(0,r-1).map(()=>-1/0),s];return t>n?tT(l):l}if(o===s)return sT(o,r,i);var{step:c,tickMin:u,tickMax:d}=lT(o,s,a,i,0),h=iT(u,d.add(new(KE())(.1).mul(c)),c);return t>n?tT(h):h}),uT=nT(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=aT([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=oT(new(KE())(o).sub(a).div(s-1),i,0),c=[...iT(new(KE())(a),new(KE())(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?tT(c):c}),dT=e=>e.rootProps.stackOffset,hT=e=>e.options.chartName,fT=e=>e.rootProps.syncId,pT=e=>e.rootProps.syncMethod,mT=e=>e.options.eventEmitter,gT=0,yT="auto",vT=!0,bT=!1,wT=!0,xT=0,_T="auto",kT=!0,ST=5,ET=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},TT={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gT,includeHidden:!1,name:void 0,reversed:!1,scale:yT,tick:vT,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},CT={allowDataOverflow:bT,allowDecimals:!1,allowDuplicatedCategory:wT,dataKey:void 0,domain:void 0,id:xT,includeHidden:!1,name:void 0,reversed:!1,scale:_T,tick:kT,tickCount:ST,ticks:void 0,type:"number",unit:void 0},NT={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:gT,includeHidden:!1,name:void 0,reversed:!1,scale:yT,tick:vT,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},PT={allowDataOverflow:bT,allowDecimals:!1,allowDuplicatedCategory:wT,dataKey:void 0,domain:void 0,id:xT,includeHidden:!1,name:void 0,reversed:!1,scale:_T,tick:kT,tickCount:ST,ticks:void 0,type:"category",unit:void 0},OT=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?NT:TT,AT=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?PT:CT,jT=e=>e.polarOptions,IT=db([iw,aw,fw],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2}),DT=db([jT,IT],(e,t)=>{if(null!=e)return wm(e.innerRadius,t,0)}),MT=db([jT,IT],(e,t)=>{if(null!=e)return wm(e.outerRadius,t,.8*t)}),RT=db([jT],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),LT=(db([OT,RT],ET),db([IT,DT,MT],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),FT=(db([AT,LT],ET),db([Tw,jT,DT,MT,iw,aw],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:wm(o,i,i/2),cy:wm(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),zT=(e,t)=>t,UT=(e,t,n)=>n;function VT(e){return null===e||void 0===e?void 0:e.id}var BT=e=>{var t=Tw(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},HT=e=>e.tooltip.settings.axisId,qT=e=>{var t=BT(e),n=HT(e);return iC(e,t,n)};function WT(e,t,n){var{chartData:r=[]}=t,i=null===n||void 0===n?void 0:n.dataKey,a=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=VT(e);n.forEach((t,n)=>{var r,s=null==i?n:String(qb(t,i,null)),l=qb(t,e.dataKey,0);r=a.has(s)?a.get(s):{},Object.assign(r,{[o]:l}),a.set(s,r)})}}),Array.from(a.values())}function KT(e){return null!=e.stackId&&null!=e.dataKey}function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(t){YT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QT=[0,"auto"],JT={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ZT=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?JT:n},$T={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:QT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},eC=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?$T:n},tC={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},nC=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?tC:n},rC=(e,t,n)=>{switch(t){case"xAxis":return ZT(e,n);case"yAxis":return eC(e,n);case"zAxis":return nC(e,n);case"angleAxis":return OT(e,n);case"radiusAxis":return AT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},iC=(e,t,n)=>{switch(t){case"xAxis":return ZT(e,n);case"yAxis":return eC(e,n);case"angleAxis":return OT(e,n);case"radiusAxis":return AT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aC=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function oC(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var sC=e=>e.graphicalItems.cartesianItems,lC=db([zT,UT],oC),cC=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),uC=db([sC,rC,lC],cC),dC=db([uC],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(KT)),hC=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),fC=db([uC],hC),pC=e=>e.map(e=>e.data).filter(Boolean).flat(1),mC=db([uC],pC),gC=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},yC=db([mC,UE],gC),vC=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:qb(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:qb(e,t)}))):e.map(e=>({value:e})),bC=db([yC,rC,uC],vC);function wC(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function xC(e){return e.filter(e=>ym(e)||e instanceof Date).map(Number).filter(e=>!1===pm(e))}function _C(e,t,n){return!n||"number"!==typeof t||pm(t)?[]:n.length?xC(n.flatMap(n=>{var r,i,a=qb(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,VE(r)&&VE(i))return[t-r,t+i]})):[]}var kC=db([dC,UE,qT],WT),SC=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(VT);return[r,{stackedData:Qb(e,a,n),graphicalItems:i}]}))},EC=db([kC,dC,dT],SC),TC=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=Zb(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},CC=db([EC,FE,zT],TC),NC=(e,t,n,r,i)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,o,s=null===(a=r[n.id])||void 0===a?void 0:a.filter(e=>wC(i,e)),l=qb(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:l,errorDomain:_C(e,l,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:qb(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),PC=e=>e.errorBars,OC=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>wC(n,e)),AC=(db([fC,PC,zT],OC),db([yC,rC,fC,PC,zT],NC));function jC(e){var{value:t}=e;if(ym(t)||t instanceof Date)return t}var IC=e=>{var t=xC(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},DC=e=>{var t;if(null==e||!("domain"in e))return QT;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=xC(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:QT},MC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},RC=e=>e.referenceElements.dots,LC=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),FC=db([RC,zT,UT],LC),zC=e=>e.referenceElements.areas,UC=db([zC,zT,UT],LC),VC=e=>e.referenceElements.lines,BC=db([VC,zT,UT],LC),HC=(e,t)=>{var n=xC(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},qC=db(FC,zT,HC),WC=(e,t)=>{var n=xC(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},KC=db([UC,zT],WC),GC=(e,t)=>{var n=xC(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},XC=db(BC,zT,GC),YC=db(qC,XC,KC,(e,t,n)=>MC(e,n,t)),QC=db([rC],DC),JC=(e,t,n,r,i,a,o)=>{var s=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(VE(i))n=i;else if("function"===typeof i)return;if(VE(a))r=a;else if("function"===typeof a)return;var o=[n,r];if(HE(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(HE(r))return qE(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(gm(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&$b.test(o)){var l=$b.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(gm(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&ew.test(s)){var u=ew.exec(s);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(HE(h))return null==t?h:qE(h,t,n)}}}(t,"vertical"===a&&"xAxis"===o||"horizontal"===a&&"yAxis"===o?MC(n,i,IC(r)):MC(i,IC(r)),e.allowDataOverflow)},ZC=db([rC,QC,CC,AC,YC,Tw,zT],JC),$C=[0,1],eN=(e,t,n,r,i,a,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var{dataKey:s,type:l}=e,c=Wb(t,a);return c&&null==s?Pw()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(jC).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&xm(r))?Pw()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?$C:o}},tN=db([rC,Tw,yC,bC,dT,zT,ZC],eN),nN=(t,n,r,i,a)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(Em(o));return l in e?l:"point"}}},rN=db([rC,Tw,aC,hT,zT],nN);function iN(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Em(t));return n in e?e[n]():void 0}}(n);if(null!=a){var o=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Xb,a=Math.max(r[0],r[1])+Xb,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}})(o),o}}}var aN=(e,t,n)=>{var r=DC(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&HE(e)?cT(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&HE(e)?uT(e,t.tickCount,t.allowDecimals):void 0},oN=db([tN,iC,rN],aN),sN=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&HE(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},lN=db([rC,tN,oN,zT],sN),cN=db(bC,rC,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(xC(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),uN=db(cN,Tw,e=>e.rootProps.barCategoryGap,fw,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!VE(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=wm(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),dN=db(ZT,(e,t)=>{var n=ZT(e,t);return null==n||"string"!==typeof n.padding?0:uN(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),hN=db(eC,(e,t)=>{var n=eC(e,t);return null==n||"string"!==typeof n.padding?0:uN(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),fN=db([fw,dN,bw,vw,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),pN=db([fw,Tw,hN,bw,vw,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),mN=(e,t,n,r)=>{var i;switch(t){case"xAxis":return fN(e,n,r);case"yAxis":return pN(e,n,r);case"zAxis":return null===(i=nC(e,n))||void 0===i?void 0:i.range;case"angleAxis":return RT(e);case"radiusAxis":return LT(e,n);default:return}},gN=db([rC,mN],ET),yN=db([rC,rN,lN,gN],iN);db([uC,PC,zT],OC);function vN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bN=(e,t)=>t,wN=(e,t,n)=>n,xN=db(lw,bN,wN,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(vN)),_N=db(cw,bN,wN,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(vN)),kN=(e,t)=>({width:e.width,height:t.height}),SN=db(fw,ZT,kN),EN=db(aw,fw,xN,bN,wN,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=kN(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;o[n.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),TN=db(iw,fw,_N,bN,wN,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;o[n.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),CN=db(fw,eC,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),NN=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Wb(e,r),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&xm(l)?l:void 0}},PN=db([Tw,bC,rC,zT],NN),ON=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!Wb(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},AN=db([Tw,bC,iC,zT],ON),jN=db([Tw,(e,t,n)=>{switch(t){case"xAxis":return ZT(e,n);case"yAxis":return eC(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rN,yN,PN,AN,mN,oN,zT],(e,t,n,r,i,a,o,s,l)=>{if(null==t)return null;var c=Wb(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),IN=db([Tw,iC,rN,yN,oN,mN,PN,AN,zT],(e,t,n,r,i,a,o,s,l)=>{if(null!=t&&null!=r){var c=Wb(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*fm(a[0]-a[1])*p:p;var m=d||i;return m?m.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!pm(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),DN=db([Tw,iC,yN,mN,PN,AN,zT],(e,t,n,r,i,a,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=Wb(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*fm(r[0]-r[1])*c:c,s&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),MN=db(rC,yN,(e,t)=>{if(null!=e&&null!=t)return XT(XT({},e),{},{scale:t})}),RN=db([rC,rN,tN,gN],iN),LN=(db((e,t,n)=>nC(e,n),RN,(e,t)=>{if(null!=e&&null!=t)return XT(XT({},e),{},{scale:t})}),db([Tw,lw,cw],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),FN=e=>e.options.defaultTooltipEventType,zN=e=>e.options.validateTooltipEventTypes;function UN(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function VN(e,t){return UN(t,FN(e),zN(e))}var BN=(e,t)=>{var n,r=Number(t);if(!pm(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(t){WN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KN=(e,t,n,r)=>{if(null==t)return Iv;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return Iv;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return qN(qN({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return qN(qN({},Iv),{},{coordinate:i.coordinate})},GN=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!VE(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},XN=(e,t,n,r,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},YN=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},QN=e=>e.options.tooltipPayloadSearcher,JN=e=>e.tooltip;function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(t){eP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tP=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,s),y=Array.isArray(g)?Ub(g,c,u):g,v=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,b=null===m||void 0===m?void 0:m.nameKey;(h=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===o?km(y,r.dataKey,i):a(y,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=$N($N({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(nw({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:qb(t.payload,t.dataKey),name:t.name}))}):e.push(nw({tooltipEntrySettings:m,dataKey:v,payload:h,value:qb(h,v),name:null!==(f=qb(h,b))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},nP=db([qT,Tw,aC,hT,BT],nN),rP=db([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),iP=db([BT,HT],oC),aP=db([rP,qT,iP],cC),oP=db([aP],e=>e.filter(KT)),sP=db([aP],pC),lP=db([sP,FE],gC),cP=db([oP,FE,qT],WT),uP=db([lP,qT,aP],vC),dP=db([qT],DC),hP=db([aP],e=>e.filter(KT)),fP=db([cP,hP,dT],SC),pP=db([fP,FE,BT],TC),mP=db([aP],hC),gP=db([lP,qT,mP,PC,BT],NC),yP=db([RC,BT,HT],LC),vP=db([yP,BT],HC),bP=db([zC,BT,HT],LC),wP=db([bP,BT],WC),xP=db([VC,BT,HT],LC),_P=db([xP,BT],GC),kP=db([vP,_P,wP],MC),SP=db([qT,dP,pP,gP,kP,Tw,BT],JC),EP=db([qT,Tw,lP,uP,dT,BT,SP],eN),TP=db([EP,qT,nP],aN),CP=db([qT,EP,TP,BT],sN),NP=e=>{var t=BT(e),n=HT(e);return mN(e,t,n,!1)},PP=db([qT,NP],ET),OP=db([qT,nP,CP,PP],iN),AP=db([Tw,uP,qT,BT],NN),jP=db([Tw,uP,qT,BT],ON),IP=db([Tw,qT,nP,OP,NP,AP,jP,BT],(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=Wb(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*fm(i[0]-i[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),DP=db([FN,zN,e=>e.tooltip.settings],(e,t,n)=>UN(n.shared,e,t)),MP=e=>e.tooltip.settings.trigger,RP=e=>e.tooltip.settings.defaultIndex,LP=db([JN,DP,MP,RP],KN),FP=db([LP,lP],GN),zP=db([IP,FP],BN),UP=db([LP],e=>{if(e)return e.dataKey}),VP=db([JN,DP,MP,RP],YN),BP=db([iw,aw,Tw,fw,IP,RP,VP,QN],XN),HP=db([LP,BP],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),qP=db([LP],e=>e.active),WP=db([VP,FP,FE,qT,zP,QN,DP],tP),KP=db([WP],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),GP=(e,t)=>t,XP=(e,t,n)=>n,YP=(e,t,n,r)=>r,QP=db(IP,e=>_b()(e,e=>e.coordinate)),JP=db([JN,GP,XP,YP],KN),ZP=db([JP,lP],GN),$P=db([JN,GP,XP,YP],YN),eO=db([iw,aw,Tw,fw,IP,YP,$P,QN],XN),tO=db([JP,eO],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),nO=db(IP,ZP,BN),rO=db([$P,ZP,FE,qT,nO,QN,GP],tP),iO=db([JP],e=>({isActive:e.active,activeIndex:e.index})),aO=db([(e,t)=>t,Tw,FT,BT,PP,IP,QP,fw],(e,t,n,r,i,a,o,s)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?zb({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,o=-1,s=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(fm(u-c)!==fm(d-u)){var f=[];if(fm(d-u)===fm(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+i[1]-i[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=r;return Bb(Bb(Bb({},r),Rb(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Bb(Bb(Bb({},r),Rb(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),oO=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},sO=Mg("mouseClick"),lO=Ny();lO.startListening({actionCreator:sO,effect:(e,t)=>{var n=e.payload,r=aO(t.getState(),oO(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(Hv({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cO=Mg("mouseMove"),uO=Ny();function dO(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function hO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hO(Object(n),!0).forEach(function(t){pO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}uO.startListening({actionCreator:cO,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=VN(r,r.tooltip.settings.shared),a=aO(r,oO(n));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch(Bv({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Uv()))}});var mO=Yg({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=fO(fO({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:gO,removeXAxis:yO,addYAxis:vO,removeYAxis:bO,addZAxis:wO,removeZAxis:xO,updateYAxisWidth:_O}=mO.actions,kO=mO.reducer,SO=Yg({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Pg(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Pg(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Pg(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:EO,replaceCartesianGraphicalItem:TO,removeCartesianGraphicalItem:CO,addPolarGraphicalItem:NO,removePolarGraphicalItem:PO}=SO.actions,OO=SO.reducer,AO=Yg({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Pg(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Pg(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Pg(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:jO,removeDot:IO,addArea:DO,removeArea:MO,addLine:RO,removeLine:LO}=AO.actions,FO=AO.reducer,zO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},UO=Yg({name:"brush",initialState:zO,reducers:{setBrushSettings:(e,t)=>null==t.payload?zO:t.payload}}),{setBrushSettings:VO}=UO.actions,BO=UO.reducer,HO=Yg({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Pg(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:qO,setLegendSettings:WO,addLegendPayload:KO,removeLegendPayload:GO}=HO.actions,XO=HO.reducer,YO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},QO=Yg({name:"rootProps",initialState:YO,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:YO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),JO=QO.reducer,{updateOptions:ZO}=QO.actions,$O=Yg({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:eA,removeRadiusAxis:tA,addAngleAxis:nA,removeAngleAxis:rA}=$O.actions,iA=$O.reducer,aA=Yg({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:oA}=aA.actions,sA=aA.reducer,lA=Mg("keyDown"),cA=Mg("focus"),uA=Ny();uA.startListening({actionCreator:lA,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(GN(r,lP(n))),o=IP(n);if("Enter"!==i){var s=a+("ArrowRight"===i?1:-1)*("left-to-right"===LN(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=eO(n,"axis","hover",String(s));t.dispatch(Wv({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=eO(n,"axis","hover",String(r.index));t.dispatch(Wv({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),uA.startListening({actionCreator:cA,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=eO(n,"axis","hover",String("0"));t.dispatch(Wv({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var dA=Mg("externalEvent"),hA=Ny();hA.startListening({actionCreator:dA,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:HP(n),activeDataKey:UP(n),activeIndex:FP(n),activeLabel:zP(n),activeTooltipIndex:FP(n),isTooltipActive:qP(n)};e.payload.handler(r,e.payload.reactEvent)}}});var fA=db([JN],e=>e.tooltipItemPayloads),pA=db([fA,QN,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),mA=Mg("touchMove"),gA=Ny();gA.startListening({actionCreator:mA,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=VN(r,r.tooltip.settings.shared);if("axis"===i){var a=aO(r,oO({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(Bv({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute("data-recharts-item-index"),u=null!==(o=l.getAttribute("data-recharts-item-data-key"))&&void 0!==o?o:void 0,d=pA(t.getState(),c,u);t.dispatch(Fv({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var yA=Yg({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:vA,removeErrorBar:bA}=yA.actions,wA=Lm({brush:BO,cartesianAxis:kO,chartData:Jv,errorBars:yA.reducer,graphicalItems:OO,layout:rb,legend:XO,options:jy,polarAxis:iA,polarOptions:sA,referenceElements:FO,rootProps:JO,tooltip:Kv});function xA(e){var{preloadedState:n,children:r,reduxStoreName:i}=e,a=yw(),o=(0,t.useRef)(null);if(a)return r;null==o.current&&(o.current=function(e){return Bg({reducer:wA,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([lO.middleware,uO.middleware,uA.middleware,hA.middleware,gA.middleware]),devTools:{serialize:{replacer:dO},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,i));var s=pb;return t.createElement(qy,{context:s,store:o.current},r)}var _A=e=>{var{chartData:n}=e,r=gb(),i=yw();return(0,t.useEffect)(()=>i?()=>{}:(r(Xv(n)),()=>{r(Xv(void 0))}),[n,r,i]),null};function kA(e){var{layout:n,width:r,height:i,margin:a}=e,o=gb(),s=yw();return(0,t.useEffect)(()=>{s||(o(eb(n)),o(tb({width:r,height:i})),o($v(a)))},[o,s,n,r,i,a]),null}function SA(e){var n=gb();return(0,t.useEffect)(()=>{n(ZO(e))},[n,e]),null}var EA=()=>wb(e=>e.rootProps.accessibilityLayer),TA=n(528),CA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NA(e){return"string"===typeof e&&CA.includes(e)}var PA=["points","pathLength"],OA={svg:["viewBox","children"],polygon:PA,polyline:PA},AA=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var i={};return Object.keys(r).forEach(e=>{NA(e)&&(i[e]=n||(t=>r[e](r,t)))}),i},jA=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];NA(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},IA=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function DA(e){return"string"===typeof e&&IA.includes(e)}function MA(e){var t=Object.entries(e).filter(e=>{var[t]=e;return DA(t)});return Object.fromEntries(t)}var RA=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",LA=null,FA=null,zA=e=>{if(e===LA&&Array.isArray(FA))return FA;var n=[];return t.Children.forEach(e,e=>{Sm(e)||((0,TA.zv)(e)?n=n.concat(zA(e.props.children)):n.push(e))}),FA=n,LA=e,n};function UA(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>RA(e)):[RA(t)],zA(e).forEach(e=>{var t=hm()(e,"type.displayName")||hm()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var VA=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),BA=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),"object"!==typeof i&&"function"!==typeof i)return null;var a={};return Object.keys(i).forEach(e=>{var t;((e,t,n,r)=>{var i;if("symbol"===typeof t||"number"===typeof t)return!0;var a=null!==(i=r&&(null===OA||void 0===OA?void 0:OA[r]))&&void 0!==i?i:[],o=t.startsWith("data-"),s="function"!==typeof e&&(Boolean(r)&&a.includes(t)||DA(t)),l=Boolean(n)&&NA(t);return o||s||l})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(a[e]=i[e])}),a},HA=["children","width","height","viewBox","className","style","title","desc"];function qA(){return qA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qA.apply(null,arguments)}var WA=(0,t.forwardRef)((e,n)=>{var{children:r,width:i,height:a,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,HA),h=o||{width:i,height:a,x:0,y:0},f=lm("recharts-surface",s);return t.createElement("svg",qA({},BA(d,!0,"svg"),{className:f,width:i,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),KA=["children"];function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GA.apply(null,arguments)}var XA={width:"100%",height:"100%"},YA=(0,t.forwardRef)((e,n)=>{var r=kw(),i=Sw(),a=EA();if(!BE(r)||!BE(i))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,s="string"===typeof c.role?c.role:a?"application":void 0,t.createElement(WA,GA({},c,{title:u,desc:d,role:s,tabIndex:o,width:r,height:i,style:XA,ref:n}),l)}),QA=e=>{var{children:n}=e,r=wb(bw);if(!r)return null;var{width:i,height:a,y:o,x:s}=r;return t.createElement(WA,{width:i,height:a,x:s,y:o},n)},JA=(0,t.forwardRef)((e,n)=>{var{children:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,KA);return yw()?t.createElement(QA,null,r):t.createElement(YA,GA({ref:n},i),r)});var ZA=new(n(7283)),$A="recharts.syncEvent.tooltip",ej="recharts.syncEvent.brush";function tj(e){return e.tooltip.syncInteraction}var nj=()=>{};function rj(){var e=gb();(0,t.useEffect)(()=>{e(Iy())},[e]),function(){var e=wb(fT),n=wb(mT),r=gb(),i=wb(pT),a=wb(IP),o=Cw(),s=ww(),l=wb(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return nj;var t=(t,l,c)=>{if(n!==c&&e===t)if("index"!==i){if(null!=a){var u;if("function"===typeof i){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=i(a,d);u=a[h]}else"value"===i&&(u=a.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:m}=f,g=Math.min(p,s.x+s.width),y=Math.min(m,s.y+s.height),v={x:"horizontal"===o?u.coordinate:g,y:"horizontal"===o?y:u.coordinate},b=qv({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(b)}else r(qv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else r(l)};return ZA.on($A,t),()=>{ZA.off($A,t)}},[l,r,n,e,i,a,o,s])}(),function(){var e=wb(fT),n=wb(mT),r=gb();(0,t.useEffect)(()=>{if(null==e)return nj;var t=(t,i,a)=>{n!==a&&e===t&&r(Yv(i))};return ZA.on(ej,t),()=>{ZA.off(ej,t)}},[r,n,e])}()}function ij(e,n,r,i,a,o){var s=wb(t=>((e,t,n)=>{if(null!=t){var r=JN(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=wb(mT),c=wb(fT),u=wb(pT),d=wb(tj),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=qv({active:o,coordinate:r,dataKey:s,index:a,label:"number"===typeof i?String(i):i});ZA.emit($A,c,e,l)}},[h,r,s,a,i,l,c,u,o])}var aj=(0,t.createContext)(null),oj=(0,t.createContext)(null);function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(t){cj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uj=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=gb(),[w,x]=(0,t.useState)(null),[_,k]=(0,t.useState)(null);rj();var S=function(){var e=gb(),[n,r]=(0,t.useState)(null),i=wb(ow);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;VE(t)&&t!==i&&e(nb(t))}},[n,e,i]),r}(),E=(0,t.useCallback)(e=>{S(e),"function"===typeof n&&n(e),x(e),k(e)},[S,n,x,k]),T=(0,t.useCallback)(e=>{b(sO(e)),b(dA({handler:o,reactEvent:e}))},[b,o]),C=(0,t.useCallback)(e=>{b(cO(e)),b(dA({handler:u,reactEvent:e}))},[b,u]),N=(0,t.useCallback)(e=>{b(Uv()),b(dA({handler:d,reactEvent:e}))},[b,d]),P=(0,t.useCallback)(e=>{b(cO(e)),b(dA({handler:h,reactEvent:e}))},[b,h]),O=(0,t.useCallback)(()=>{b(cA())},[b]),A=(0,t.useCallback)(e=>{b(lA(e.key))},[b]),j=(0,t.useCallback)(e=>{b(dA({handler:s,reactEvent:e}))},[b,s]),I=(0,t.useCallback)(e=>{b(dA({handler:l,reactEvent:e}))},[b,l]),D=(0,t.useCallback)(e=>{b(dA({handler:c,reactEvent:e}))},[b,c]),M=(0,t.useCallback)(e=>{b(dA({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(dA({handler:g,reactEvent:e}))},[b,g]),L=(0,t.useCallback)(e=>{b(mA(e)),b(dA({handler:m,reactEvent:e}))},[b,m]),F=(0,t.useCallback)(e=>{b(dA({handler:p,reactEvent:e}))},[b,p]);return t.createElement(aj.Provider,{value:w},t.createElement(oj.Provider,{value:_},t.createElement("div",{className:lm("recharts-wrapper",i),style:lj({position:"relative",cursor:"default",width:v,height:a},y),onClick:T,onContextMenu:j,onDoubleClick:I,onFocus:O,onKeyDown:A,onMouseDown:D,onMouseEnter:C,onMouseLeave:N,onMouseMove:P,onMouseUp:M,onTouchEnd:F,onTouchMove:L,onTouchStart:R,ref:E},r)))}),dj=db([fw],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),hj=db([dj,iw,aw],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),fj=()=>wb(hj),pj=(0,t.createContext)(void 0),mj=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(bm("recharts"),"-clip")),i=fj();if(null==i)return null;var{x:a,y:o,width:s,height:l}=i;return t.createElement(pj.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:a,y:o,height:l,width:s}))),n)},gj=["children","className","width","height","style","compact","title","desc"];var yj=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,width:a,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gj),h=MA(d);return l?t.createElement(JA,{otherAttributes:h,title:c,desc:u},r):t.createElement(uj,{className:i,style:s,width:a,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(JA,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement(mj,null,r)))});function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wj(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(t){bj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var xj=["width","height"];function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_j.apply(null,arguments)}var kj={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},Sj=(0,t.forwardRef)(function(e,n){var r,i=wj(e.categoricalChartProps,kj),{width:a,height:o}=i,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,xj);if(!BE(a)||!BE(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(xA,{preloadedState:{options:f},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(_A,{chartData:h.data}),t.createElement(kA,{width:a,height:o,layout:i.layout,margin:i.margin}),t.createElement(SA,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),t.createElement(yj,_j({},s,{width:a,height:o,ref:n})))}),Ej=["axis"],Tj=(0,t.forwardRef)((e,n)=>t.createElement(Sj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ej,tooltipPayloadSearcher:Oy,categoricalChartProps:e,ref:n})),Cj=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function Nj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(t){Aj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Aj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jj=Oj({},{cacheSize:2e3,enableCache:!0}),Ij=new class{constructor(e){Nj(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(jj.cacheSize),Dj={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mj="recharts_measurement_span";var Rj=(e,t)=>{try{var n=document.getElementById(Mj);n||((n=document.createElement("span")).setAttribute("id",Mj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Dj,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},Lj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Cj)return{width:0,height:0};if(!jj.enableCache)return Rj(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),r=Ij.get(n);if(r)return r;var i=Rj(e,t);return Ij.set(n,i),i};function Fj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zj{static create(e){return new zj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}Fj(zj,"EPS",1e-4);function Uj(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function Vj(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function Bj(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hj(Object(n),!0).forEach(function(t){Wj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kj(e,t,n){var r,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(gm(c)||Cj)return null!==(r=function(e,t){return Uj(e,t+1)}(a,gm(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?Lj(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===p?Vj(Lj(i,{fontSize:t,letterSpacing:n}),m,h):Lj(i,{fontSize:t,letterSpacing:n})[p]},y=a.length>=2?fm(a[1].coordinate-a[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(o,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:Uj(r,u)};var a,o=c,h=()=>(void 0===a&&(a=n(t,o)),a),f=t.coordinate,p=0===c||Bj(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(y,v,g,a,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=qj(qj({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),Bj(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=qj(qj({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var r,a=o[t],s=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=qj(qj({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=qj(qj({},a),{},{tickCoord:a.coordinate});Bj(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=qj(qj({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(y,v,g,a,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=qj(qj({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=qj(qj({},c),{},{tickCoord:c.coordinate});Bj(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=qj(qj({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(y,v,g,a,s),f.filter(e=>e.isShow))}function Gj(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var Xj=["children","className"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yj.apply(null,arguments)}var Qj=t.forwardRef((e,n)=>{var{children:r,className:i}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Xj),o=lm("recharts-layer",i);return t.createElement("g",Yj({className:o},BA(a,!0),{ref:n}),r)}),Jj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$j=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eI=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},nI=Object.keys(tI),rI="NaN";class iI{static parse(e){var t,[,n,r]=null!==(t=eI.exec(e))&&void 0!==t?t:[];return new iI(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,pm(e)&&(this.unit=""),""===t||$j.test(t)||(this.num=NaN,this.unit=""),nI.includes(t)&&(this.num=function(e,t){return e*tI[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new iI(NaN,""):new iI(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new iI(NaN,""):new iI(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new iI(NaN,""):new iI(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new iI(NaN,""):new iI(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pm(this.num)}}function aI(e){if(e.includes(rI))return rI;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=Jj.exec(t))&&void 0!==n?n:[],o=iI.parse(null!==r&&void 0!==r?r:""),s=iI.parse(null!==a&&void 0!==a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return rI;t=t.replace(Jj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=Zj.exec(t))&&void 0!==c?c:[],f=iI.parse(null!==u&&void 0!==u?u:""),p=iI.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return rI;t=t.replace(Zj,m.toString())}return t}var oI=/\(([^()]*)\)/;function sI(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=oI.exec(n));){var[,r]=t;n=n.replace(oI,aI(r))}return n}(t),t=aI(t)}function lI(e){var t=function(e){try{return sI(e)}catch(t){return rI}}(e.slice(5,-1));return t===rI?"":t}var cI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uI=["dx","dy","angle","className","breakAll"];function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dI.apply(null,arguments)}function hI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fI=/[ \f\n\r\t\v\u2028\u2029]+/,pI=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return Sm(t)||(i=n?t.toString().split(""):t.toString().split(fI)),{wordsWithComputedWidth:i.map(e=>({word:e,width:Lj(e,r).width})),spaceWidth:n?0:Lj("\xa0",r).width}}catch(a){return null}},mI=e=>[{words:Sm(e)?[]:e.toString().split(fI)}],gI=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Cj){var s=pI({breakAll:a,children:r,style:i});if(!s)return mI(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=gm(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:o}=t,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=pI({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),w=b-1,[x,_]=m(w),[k]=m(b);if(x||k||(g=b+1),x&&k&&(y=b-1),!x&&k){p=_;break}v++}return p||h})({breakAll:a,children:r,maxLines:o,style:i},l,c,t,n)}return mI(r)},yI="#808080",vI=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=yI}=e,d=hI(e,cI),h=(0,t.useMemo)(()=>gI({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=hI(d,uI);if(!ym(r)||!ym(i))return null;var b,w=r+(gm(f)?f:0),x=i+(gm(p)?p:0);switch(c){case"start":b=lI("calc(".concat(o,")"));break;case"middle":b=lI("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:b=lI("calc(".concat(h.length-1," * -").concat(a,")"))}var _=[];if(s){var k=h[0].width,{width:S}=d;_.push("scale(".concat(gm(S)?S/k:1,")"))}return m&&_.push("rotate(".concat(m,", ").concat(w,", ").concat(x,")")),_.length&&(v.transform=_.join(" ")),t.createElement("text",dI({},BA(v,!0),{ref:n,x:w,y:x,className:lm("recharts-text",g),textAnchor:l,fill:u.includes("url")?yI:u}),h.map((e,n)=>{var r=e.words.join(y?"":" ");return t.createElement("tspan",{x:w,dy:0===n?b:a,key:"".concat(r,"-").concat(n)},r)}))});vI.displayName="Text";var bI=["offset"],wI=["labelRef"];function xI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(t){SI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EI(){return EI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EI.apply(null,arguments)}var TI=e=>null!=e&&"function"===typeof e,CI=(e,n,r,i)=>{var a,o,{position:s,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,y=(h+f)/2,v=((e,t)=>fm(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=v>=0?1:-1;"insideStart"===s?(a=p+b*l,o=g):"insideEnd"===s?(a=m-b*l,o=!g):"end"===s&&(a=m+b*l,o=g),o=v<=0?o:!o;var w=Rb(u,d,y,a),x=Rb(u,d,y,a+359*(o?1:-1)),_="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(x.x,",").concat(x.y),k=Sm(e.id)?bm("recharts-radial-line-"):e.id;return t.createElement("text",EI({},r,{dominantBaseline:"central",className:lm("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:k,d:_})),t.createElement("textPath",{xlinkHref:"#".concat(k)},n))};function NI(e){var{offset:n=5}=e,r=kI({offset:n},xI(e,bI)),{viewBox:i,position:a,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=wb(FT),f=ww(),p=i||("center"===a?f:null!==h&&void 0!==h?h:f);if(!p||Sm(o)&&Sm(s)&&!(0,t.isValidElement)(l)&&"function"!==typeof l)return null;var m,g=kI(kI({},r),{},{viewBox:p});if((0,t.isValidElement)(l)){var{labelRef:y}=g,v=xI(g,wI);return(0,t.cloneElement)(l,v)}if("function"===typeof l){if(m=(0,t.createElement)(l,g),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=Sm(e.children)?t:e.children;return"function"===typeof n?n(r):r})(r);var b=(e=>"cx"in e&&gm(e.cx))(p),w=BA(r,!0);if(b&&("insideStart"===a||"insideEnd"===a||"end"===a))return CI(r,m,w,p);var x=b?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=Rb(r,i,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:f,y:p}=Rb(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:o,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=s>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===i)return kI(kI({},{x:a+s/2,y:o-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:s}:{});if("bottom"===i)return kI(kI({},{x:a+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(o+l),0),width:s}:{});if("left"===i){var y={x:a-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return kI(kI({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===i){var v={x:a+s+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return kI(kI({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===i?kI({x:a+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===i?kI({x:a+s-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===i?kI({x:a+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===i?kI({x:a+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===i?kI({x:a+p,y:o+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===i?kI({x:a+s-p,y:o+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===i?kI({x:a+p,y:o+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===i?kI({x:a+s-p,y:o+l-u,textAnchor:m,verticalAnchor:d},b):i&&"object"===typeof i&&(gm(i.x)||mm(i.x))&&(gm(i.y)||mm(i.y))?kI({x:a+wm(i.x,s),y:o+wm(i.y,l),textAnchor:"end",verticalAnchor:"end"},b):kI({x:a+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(r,p);return t.createElement(vI,EI({ref:d,className:lm("recharts-label",c)},w,x,{breakAll:u}),m)}NI.displayName="Label";var PI=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(gm(p)&&gm(m)){if(gm(u)&&gm(d))return{x:u,y:d,width:p,height:m};if(gm(h)&&gm(f))return{x:h,y:f,width:p,height:m}}return gm(u)&&gm(d)?{x:u,y:d,width:0,height:0}:gm(t)&&gm(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:void 0};NI.parseViewBox=PI,NI.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,o=PI(e),s=UA(i,NI).map((e,r)=>(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)}));if(!r)return s;var l=((e,n,r)=>{if(!e)return null;var i={viewBox:n,labelRef:r};return!0===e?t.createElement(NI,EI({key:"label-implicit"},i)):ym(e)?t.createElement(NI,EI({key:"label-implicit",value:e},i)):(0,t.isValidElement)(e)?e.type===NI?(0,t.cloneElement)(e,kI({key:"label-implicit"},i)):t.createElement(NI,EI({key:"label-implicit",content:e},i)):TI(e)?t.createElement(NI,EI({key:"label-implicit",content:e},i)):e&&"object"===typeof e?t.createElement(NI,EI({},e,{key:"label-implicit"},i)):null})(e.label,n||o,a);return[l,...s]};var OI=["viewBox"],AI=["viewBox"];function jI(){return jI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jI.apply(null,arguments)}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(t){RI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class LI extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=MI(e,OI),i=this.props,{viewBox:a}=i,o=MI(i,AI);return!Gj(n,a)||!Gj(r,o)||!Gj(t,this.state)}getTickLineCoord(e){var t,n,r,i,a,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=gm(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(i=l+ +!f*u)-m*g)-m*p,a=y;break;case"left":r=i=e.coordinate,a=(t=(n=s+ +!f*c)-m*g)-m*p,o=y;break;case"right":r=i=e.coordinate,a=(t=(n=s+ +f*c)+m*g)+m*p,o=y;break;default:t=n=e.coordinate,o=(r=(i=l+ +f*u)+m*g)+m*p,a=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:o}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=DI(DI(DI({},BA(this.props,!1)),BA(s,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!o||"bottom"===a&&o);l=DI(DI({},l),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var u=+("left"===a&&!o||"right"===a&&o);l=DI(DI({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+i})}return t.createElement("line",jI({},l,{className:lm("recharts-cartesian-axis-line",hm()(s,"className"))}))}static renderTickItem(e,n,r){var i,a=lm(n.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))i=t.cloneElement(e,DI(DI({},n),{},{className:a}));else if("function"===typeof e)i=e(DI(DI({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=lm(o,e.className)),i=t.createElement(vI,jI({},n,{className:o}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l,padding:c}=this.props,u=Kj(DI(DI({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=MA(this.props),p=BA(o,!1),m=DI(DI({},f),{},{fill:"none"},BA(i,!1)),g=u.map((e,n)=>{var{line:r,tick:g}=this.getTickLineCoord(e),y=DI(DI(DI(DI({textAnchor:d,verticalAnchor:h},f),{},{stroke:"none",fill:a},p),g),{},{index:n,payload:e,visibleTicksCount:u.length,tickFormatter:s,padding:c});return t.createElement(Qj,jI({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},jA(this.props,e,n)),i&&t.createElement("line",jI({},m,r,{className:lm("recharts-cartesian-axis-tick-line",hm()(i,"className"))})),o&&LI.renderTickItem(o,y,"".concat("function"===typeof s?s(e.value,n):e.value).concat(l||"")))});return g.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return null!=n&&n<=0||null!=r&&r<=0?null:t.createElement(Qj,{className:lm("recharts-cartesian-axis",i),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),NI.renderCallByParent(this.props))}}RI(LI,"displayName","CartesianAxis"),RI(LI,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FI=["x1","y1","x2","y2","key"],zI=["offset"],UI=["xAxisId","yAxisId"],VI=["xAxisId","yAxisId"];function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(t){qI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WI.apply(null,arguments)}function KI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var GI=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:i,y:a,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function XI(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:i,y1:a,x2:o,y2:s,key:l}=n,c=MA(KI(n,FI)),{offset:u}=c,d=KI(c,zI);r=t.createElement("line",WI({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return r}function YI(e){var{x:n,width:r,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=KI(e,UI),c=a.map((e,t)=>{var a=HI(HI({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return XI(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function QI(e){var{y:n,height:r,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=KI(e,VI),c=a.map((e,t)=>{var a=HI(HI({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return XI(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function JI(e){var{horizontalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ZI(e){var{vertical:n=!0,verticalFill:r,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?a+s-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $I=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Kb(Kj(HI(HI(HI({},LI.defaultProps),n),{},{ticks:Gb(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},eD=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Kb(Kj(HI(HI(HI({},LI.defaultProps),n),{},{ticks:Gb(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},tD={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function nD(e){var n=kw(),r=Sw(),i=_w(),a=HI(HI({},wj(e,tD)),{},{x:gm(e.x)?e.x:i.left,y:gm(e.y)?e.y:i.top,width:gm(e.width)?e.width:i.width,height:gm(e.height)?e.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,m=yw(),g=wb(e=>jN(e,"xAxis",o,m)),y=wb(e=>jN(e,"yAxis",s,m));if(!gm(u)||u<=0||!gm(d)||d<=0||!gm(l)||l!==+l||!gm(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||$I,b=a.horizontalCoordinatesGenerator||eD,{horizontalPoints:w,verticalPoints:x}=a;if((!w||!w.length)&&"function"===typeof b){var _=f&&f.length,k=b({yAxis:y?HI(HI({},y),{},{ticks:_?f:y.ticks}):void 0,width:n,height:r,offset:i},!!_||h);Tm(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!x||!x.length)&&"function"===typeof v){var S=p&&p.length,E=v({xAxis:g?HI(HI({},g),{},{ticks:S?p:g.ticks}):void 0,width:n,height:r,offset:i},!!S||h);Tm(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(x=E)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(GI,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),t.createElement(JI,WI({},a,{horizontalPoints:w})),t.createElement(ZI,WI({},a,{verticalPoints:x})),t.createElement(YI,WI({},a,{offset:i,horizontalPoints:w,xAxis:g,yAxis:y})),t.createElement(QI,WI({},a,{offset:i,verticalPoints:x,xAxis:g,yAxis:y})))}nD.displayName="CartesianGrid";var rD=["children"],iD=["dangerouslySetInnerHTML","ticks"];function aD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oD(){return oD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oD.apply(null,arguments)}function sD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lD(e){var n=gb(),r=(0,t.useMemo)(()=>{var{children:t}=e;return sD(e,rD)},[e]),i=wb(e=>ZT(e,r.id)),a=r===i;return(0,t.useEffect)(()=>(n(gO(r)),()=>{n(yO(r))}),[r,n]),a?e.children:null}var cD=e=>{var{xAxisId:n,className:r}=e,i=wb(mw),a=yw(),o="xAxis",s=wb(e=>yN(e,o,n,a)),l=wb(e=>IN(e,o,n,a)),c=wb(e=>SN(e,n)),u=wb(e=>((e,t)=>{var n=fw(e),r=ZT(e,t);if(null!=r){var i=EN(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,n));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=sD(e,iD);return t.createElement(LI,oD({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:lm("recharts-".concat(o," ").concat(o),r),viewBox:i,ticks:l}))},uD=e=>{var n,r,i,a,o;return t.createElement(lD,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},t.createElement(cD,e))};class dD extends t.Component{render(){return t.createElement(uD,this.props)}}aD(dD,"displayName","XAxis"),aD(dD,"defaultProps",{allowDataOverflow:JT.allowDataOverflow,allowDecimals:JT.allowDecimals,allowDuplicatedCategory:JT.allowDuplicatedCategory,height:JT.height,hide:!1,mirror:JT.mirror,orientation:JT.orientation,padding:JT.padding,reversed:JT.reversed,scale:JT.scale,tickCount:JT.tickCount,type:JT.type,xAxisId:0});var hD=["dangerouslySetInnerHTML","ticks"];function fD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pD(){return pD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pD.apply(null,arguments)}function mD(e){var n=gb();return(0,t.useEffect)(()=>(n(vO(e)),()=>{n(bO(e))}),[e,n]),null}var gD=e=>{var n,{yAxisId:r,className:i,width:a,label:o}=e,s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=wb(mw),u=yw(),d=gb(),h="yAxis",f=wb(e=>yN(e,h,r,u)),p=wb(e=>CN(e,r)),m=wb(e=>((e,t)=>{var n=fw(e),r=eC(e,t);if(null!=r){var i=TN(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,r)),g=wb(e=>IN(e,h,r,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===a&&p&&!TI(o)&&!(0,t.isValidElement)(o)){var n=s.current,i=null===n||void 0===n||null===(e=n.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=n.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(i+a)+s+(n?r:0);return Math.round(l)}return 0})({ticks:i,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(_O({id:r,width:h}))}},[s,null===s||void 0===s||null===(n=s.current)||void 0===n||null===(n=n.tickRefs)||void 0===n?void 0:n.current,null===p||void 0===p?void 0:p.width,p,d,o,r,a]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hD);return t.createElement(LI,pD({},b,{ref:s,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:lm("recharts-".concat(h," ").concat(h),i),viewBox:c,ticks:g}))},yD=e=>{var n,r,i,a,o;return t.createElement(t.Fragment,null,t.createElement(mD,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),t.createElement(gD,e))},vD={allowDataOverflow:$T.allowDataOverflow,allowDecimals:$T.allowDecimals,allowDuplicatedCategory:$T.allowDuplicatedCategory,hide:!1,mirror:$T.mirror,orientation:$T.orientation,padding:$T.padding,reversed:$T.reversed,scale:$T.scale,tickCount:$T.tickCount,type:$T.type,width:$T.width,yAxisId:0};class bD extends t.Component{render(){return t.createElement(yD,this.props)}}fD(bD,"displayName","YAxis"),fD(bD,"defaultProps",vD);var wD=n(7950);function xD(){return xD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xD.apply(null,arguments)}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(t){SD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ED(e){return Array.isArray(e)&&ym(e[0])&&ym(e[1])?e.join(" ~ "):e}var TD=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:i={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=kD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=kD({margin:0},a),g=!Sm(d),y=g?d:"",v=lm("recharts-default-tooltip",c),b=lm("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(y=h(d,o));var w=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",xD({className:v,style:p},w),t.createElement("p",{className:b,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(o&&o.length){var e=(l?_b()(o,l):o).map((e,r)=>{if("none"===e.type)return null;var a=e.formatter||s||ED,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,r,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=kD({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},ym(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,ym(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},CD="recharts-tooltip-wrapper",ND={visibility:"hidden"};function PD(e){var{coordinate:t,translateX:n,translateY:r}=e;return lm(CD,{["".concat(CD,"-right")]:gm(n)&&t&&gm(t.x)&&n>=t.x,["".concat(CD,"-left")]:gm(n)&&t&&gm(t.x)&&n<t.x,["".concat(CD,"-bottom")]:gm(r)&&t&&gm(t.y)&&r>=t.y,["".concat(CD,"-top")]:gm(r)&&t&&gm(t.y)&&r<t.y})}function OD(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&gm(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(t){ID(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ID(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class DD extends t.PureComponent{constructor(){super(...arguments),ID(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ID(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=OD({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=OD({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):ND,{cssProperties:t,cssClasses:PD({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),w=y?{}:jD(jD({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=jD(jD({},w),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:x,ref:g},a)}}var MD=n(4332),RD=n.n(MD);function LD(e,t,n){return!0===t?RD()(e,n):"function"===typeof t?RD()(e,t):e}var FD,zD,UD,VD,BD,HD,qD,WD,KD,GD,XD,YD,QD,JD;function ZD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),i=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),i={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(i.height-n.height)>1||Math.abs(i.left-n.left)>1||Math.abs(i.top-n.top)>1||Math.abs(i.width-n.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,i]}function $D(){}function eM(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tM(e){this._context=e}function nM(e){this._context=e}function rM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},nM.prototype={areaStart:$D,areaEnd:$D,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:eM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class iM{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function aM(e){this._context=e}function oM(e){this._context=e}function sM(e){return new oM(e)}function lM(e){return e<0?-1:1}function cM(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(lM(a)+lM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function uM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function dM(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function hM(e){this._context=e}function fM(e){this._context=new pM(e)}function pM(e){this._context=e}function mM(e){this._context=e}function gM(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function yM(e,t){this._context=e,this._t=t}function vM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}aM.prototype={areaStart:$D,areaEnd:$D,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},hM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dM(this,this._t0,uM(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dM(this,uM(this,n=cM(this,e,t)),n);break;default:dM(this,this._t0,n=cM(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(fM.prototype=Object.create(hM.prototype)).point=function(e,t){hM.prototype.point.call(this,t,e)},pM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},mM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=gM(e),i=gM(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},yM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const bM=Math.PI,wM=2*bM,xM=1e-6,_M=wM-xM;function kM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class SM{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?kM:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return kM;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(FD||(FD=vM(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(zD||(zD=vM(["Z"]))))}lineTo(e,t){this._append(UD||(UD=vM(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(VD||(VD=vM(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(BD||(BD=vM(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(HD||(HD=vM(["M",",",""])),this._x1=e,this._y1=t);else if(d>xM)if(Math.abs(u*s-l*c)>xM&&i){let h=n-a,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((bM-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>xM&&this._append(WD||(WD=vM(["L",",",""])),e+b*c,t+b*u),this._append(KD||(KD=vM(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+w*s,this._y1=t+w*l)}else this._append(qD||(qD=vM(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(GD||(GD=vM(["M",",",""])),l,c):(Math.abs(this._x1-l)>xM||Math.abs(this._y1-c)>xM)&&this._append(XD||(XD=vM(["L",",",""])),l,c),n&&(d<0&&(d=d%wM+wM),d>_M?this._append(YD||(YD=vM(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>xM&&this._append(QD||(QD=vM(["A",",",",0,",",",",",",",""])),n,n,+(d>=bM),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(JD||(JD=vM(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function EM(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new SM(t)}function TM(e){return e[0]}function CM(e){return e[1]}function NM(e,t){var n=Cb(!0),r=null,i=sM,a=null,o=EM(s);function s(s){var l,c,u,d=(s=Tb(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?TM:Cb(e),t="function"===typeof t?t:void 0===t?CM:Cb(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Cb(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Cb(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Cb(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function PM(e,t,n){var r=null,i=Cb(!0),a=null,o=sM,s=null,l=EM(c);function c(c){var u,d,h,f,p,m=(c=Tb(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return NM().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?TM:Cb(+e),t="function"===typeof t?t:Cb(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?CM:Cb(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Cb(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Cb(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Cb(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Cb(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Cb(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Cb(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Cb(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(null,arguments)}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(t){IM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DM={curveBasisClosed:function(e){return new nM(e)},curveBasisOpen:function(e){return new rM(e)},curveBasis:function(e){return new tM(e)},curveBumpX:function(e){return new iM(e,!0)},curveBumpY:function(e){return new iM(e,!1)},curveLinearClosed:function(e){return new aM(e)},curveLinear:sM,curveMonotoneX:function(e){return new hM(e)},curveMonotoneY:function(e){return new fM(e)},curveNatural:function(e){return new mM(e)},curveStep:function(e){return new yM(e,.5)},curveStepAfter:function(e){return new yM(e,1)},curveStepBefore:function(e){return new yM(e,0)}},MM=e=>VE(e.x)&&VE(e.y),RM=e=>e.x,LM=e=>e.y,FM=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Em(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?DM[n]||sM:DM["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=o?r.filter(MM):r;if(Array.isArray(i)){var c=o?i.filter(e=>MM(e)):i,u=l.map((e,t)=>jM(jM({},e),{},{base:c[t]}));return(t="vertical"===a?PM().y(LM).x1(RM).x0(e=>e.base.x):PM().x(RM).y1(LM).y0(e=>e.base.y)).defined(MM).curve(s),t(u)}return(t="vertical"===a&&gm(i)?PM().y(LM).x1(RM).x0(i):gm(i)?PM().x(RM).y1(LM).y0(i):NM().x(RM).y(LM)).defined(MM).curve(s),t(l)},zM=e=>{var{className:n,points:r,path:i,pathRef:a}=e;if((!r||!r.length)&&!i)return null;var o=r&&r.length?FM(e):i;return t.createElement("path",OM({},MA(e),AA(e),{className:lm("recharts-curve",n),d:null===o?void 0:o,ref:a}))},UM=["x","y","top","left","width","height","className"];function VM(){return VM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VM.apply(null,arguments)}function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qM=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),WM=e=>{var{x:n=0,y:r=0,top:i=0,left:a=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,UM),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(t){HM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:i,left:a,width:o,height:s},c);return gm(n)&&gm(r)&&gm(o)&&gm(s)&&gm(i)&&gm(a)?t.createElement("path",VM({},BA(u,!0),{className:lm("recharts-cross",l),d:qM(n,r,o,s,i,a)})):null};var KM=n(4250),GM=n.n(KM),XM=1e-4,YM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],QM=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),JM=(e,t)=>n=>{var r=YM(e,t);return QM(r,n)},ZM=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=a[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=JM(e,t),d=JM(n,r),h=(l=e,c=t,e=>{var t=[...YM(l,c).map((e,t)=>e*t).slice(1),0];return QM(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<XM||a<XM)return d(n);n=f(n-i/a)}return d(n)};return p.isStepper=!1,p},$M=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZM(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*n)*r/1e3,s=a*r/1e3+e;return Math.abs(s-i)<XM&&Math.abs(o)<XM?[i,0]:[s,o]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return ZM(e)}return"function"===typeof e?e:null};function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(t){nR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rR=(e,t)=>Object.keys(t).reduce((n,r)=>tR(tR({},n),{},{[r]:e(r,t[r])}),{});function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(t){oR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sR=(e,t,n)=>e+(t-e)*n,lR=e=>{var{from:t,to:n}=e;return t!==n},cR=(e,t,n)=>{var r=rR((t,n)=>{if(lR(n)){var[r,i]=e(n.from,n.to,n.velocity);return aR(aR({},n),{},{from:r,velocity:i})}return n},t);return n<1?rR((e,t)=>lR(t)?aR(aR({},t),{},{velocity:sR(t.velocity,r[e].velocity,n),from:sR(t.from,r[e].from,n)}):t,t):cR(e,r,n-1)};function uR(e,t,n,r,i,a){var o,s=r.reduce((n,r)=>aR(aR({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=cR(n,s,u),i(aR(aR(aR({},e),t),rR((e,t)=>t.from,s))),o=r,Object.values(s).filter(lR).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const dR=(e,t,n,r,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?uR(e,t,n,l,i,a):function(e,t,n,r,i,a,o){var s,l=null,c=i.reduce((n,r)=>aR(aR({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var d=(i-s)/r,h=rR((e,t)=>sR(...t,n(d)),c);if(a(aR(aR(aR({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=rR((e,t)=>sR(...t,n(1)),c);a(aR(aR(aR({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};class hR{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function fR(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new hR)}var pR=(0,t.createContext)(fR);function mR(e,n){var r=(0,t.useContext)(pR);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}var gR=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function yR(){return yR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yR.apply(null,arguments)}function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(n),!0).forEach(function(t){wR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xR extends t.PureComponent{constructor(e,t){super(e,t),wR(this,"mounted",!1),wR(this,"manager",void 0),wR(this,"stopJSAnimation",null),wR(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:a,children:o,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"===typeof o&&(this.state={style:a}));if(i){if("function"===typeof o)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:a,from:o}=this.props,{style:s}=this.state;if(n)if(t){if(!(GM()(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?o:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(bR(bR({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:a}:a};this.state&&s&&(r&&s[r]!==a||!r&&s!==a)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:a,onAnimationEnd:o,onAnimationStart:s}=e,l=dR(t,n,$M(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,a,()=>{this.stopJSAnimation=l()},r,o])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:a,onAnimationStart:o,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof l&&"spring"!==a){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,a);this.manager.start([o,t,bR(bR({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gR),g=t.Children.count(n),y=this.state.style;if("function"===typeof n)return n(y);if(!s||0===g||i<=0)return n;var v=e=>{var{style:n={},className:r}=e.props;return(0,t.cloneElement)(e,bR(bR({},m),{},{style:bR(bR({},n),y),className:r}))};return 1===g?v(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,e=>v(e)))}}function _R(e){var n,r=mR(null!==(n=e.attributeName)&&void 0!==n?n:Object.keys(e.to).join(","),e.animationManager);return t.createElement(xR,yR({},e,{animationManager:r}))}function kR(){return kR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kR.apply(null,arguments)}wR(xR,"displayName","Animate"),wR(xR,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var SR=(e,t,n,r,i)=>{var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},ER={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TR=e=>{var n=wj(e,ER),r=(0,t.useRef)(null),[i,a]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var y=lm("recharts-rectangle",d);return g?t.createElement(_R,{canBegin:i>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:f,animationEasing:h,isActive:g},e=>{var{width:a,height:o,x:s,y:l}=e;return t.createElement(_R,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",kR({},BA(n,!0),{className:y,d:SR(s,l,a,o,u),ref:r})))}):t.createElement("path",kR({},BA(n,!0),{className:y,d:SR(o,s,l,c,u)}))};function CR(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[Rb(t,n,r,i),Rb(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function NR(){return NR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NR.apply(null,arguments)}var PR=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/Db,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Rb(t,n,c,d),circleTangency:Rb(t,n,r,d),lineTangency:Rb(t,n,c*Math.cos(u*Db),h),theta:u}},OR=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>fm(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=Rb(t,n,i,a),u=Rb(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=Rb(t,n,r,a),f=Rb(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},AR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jR=e=>{var n=wj(e,AR),{cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(o<a||u===d)return null;var f,p=lm("recharts-sector",h),m=o-a,g=wm(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=fm(c-l),{circleTangency:d,lineTangency:h,theta:f}=PR({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=PR({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):OR({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:w,theta:x}=PR({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:k,theta:S}=PR({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),E=s?Math.abs(l-c):Math.abs(l-c)-x-S;if(E<0&&0===a)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(k.x,",").concat(k.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):OR({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",NR({},BA(n,!0),{className:p,d:f}))};function IR(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return CR(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Rb(s,l,c,d),f=Rb(s,l,u,d);r=h.x,i=h.y,a=f.x,o=f.y}return[{x:r,y:i},{x:a,y:o}]}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(t){RR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LR=()=>{var e=wb(qT),t=wb(IP),n=wb(OP);return tw(MR(MR({},e),{},{scale:n}),t)};function FR(){return FR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FR.apply(null,arguments)}function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(t){VR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BR(e){var n,r,{coordinate:i,payload:a,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=i,p=a,m=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=WM;else if("BarChart"===h)n=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,s,l),r=TR;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:w}=CR(f);n={cx:g,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},r=jR}else n={points:IR(c,f,s)},r=zM;var x="object"===typeof u&&"className"in u?u.className:void 0,_=UR(UR(UR(UR({stroke:"#ccc",pointerEvents:"none"},s),n),BA(u,!1)),{},{payload:p,payloadIndex:m,className:lm("recharts-tooltip-cursor",x)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,_):(0,t.createElement)(r,_)}function HR(e){var n=LR(),r=_w(),i=Cw(),a=wb(hT);return t.createElement(BR,FR({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:i,tooltipAxisBandSize:n,chartName:a}))}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(t){KR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GR(e){return e.dataKey}var XR=[],YR={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Cj,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function QR(e){var n=wj(e,YR),{active:r,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:x}=n,_=gb(),k="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{_(Lv({shared:y,trigger:v,axisId:x,active:r,defaultIndex:k}))},[_,y,v,x,r,k]);var S=ww(),E=EA(),T=function(e){return wb(t=>VN(t,e))}(y),{activeIndex:C,isActive:N}=wb(e=>iO(e,T,v,k)),P=wb(e=>rO(e,T,v,k)),O=wb(e=>nO(e,T,v,k)),A=wb(e=>tO(e,T,v,k)),j=P,I=(0,t.useContext)(aj),D=null!==r&&void 0!==r?r:N,[M,R]=ZD([j,D]),L="axis"===T?O:void 0;ij(T,v,A,L,C,D);var F=null!==w&&void 0!==w?w:I;if(null==F)return null;var z=null!==j&&void 0!==j?j:XR;D||(z=XR),l&&z.length&&(z=LD(j.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,GR));var U=z.length>0,V=t.createElement(DD,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:c,active:D,coordinate:A,hasPayload:U,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:S,wrapperStyle:m,lastBoundingBox:M,innerRef:R,hasPortalFromProps:Boolean(w)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(TD,n)}(s,WR(WR({},n),{},{payload:z,label:L,active:D,coordinate:A,accessibilityLayer:E})));return t.createElement(t.Fragment,null,(0,wD.createPortal)(V,F),D&&t.createElement(HR,{cursor:g,tooltipEventType:T,coordinate:A,payload:j,index:C}))}Math.abs,Math.atan2;const JR=Math.cos,ZR=(Math.max,Math.min,Math.sin),$R=Math.sqrt,eL=Math.PI,tL=2*eL;const nL={draw(e,t){const n=$R(t/eL);e.moveTo(n,0),e.arc(0,0,n,0,tL)}},rL={draw(e,t){const n=$R(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},iL=$R(1/3),aL=2*iL,oL={draw(e,t){const n=$R(t/aL),r=n*iL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},sL={draw(e,t){const n=$R(t),r=-n/2;e.rect(r,r,n,n)}},lL=ZR(eL/10)/ZR(7*eL/10),cL=ZR(tL/10)*lL,uL=-JR(tL/10)*lL,dL={draw(e,t){const n=$R(.8908130915292852*t),r=cL*n,i=uL*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=tL*a/5,o=JR(t),s=ZR(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},hL=$R(3),fL={draw(e,t){const n=-$R(t/(3*hL));e.moveTo(0,2*n),e.lineTo(-hL*n,-n),e.lineTo(hL*n,-n),e.closePath()}},pL=-.5,mL=$R(3)/2,gL=1/$R(12),yL=3*(gL/2+1),vL={draw(e,t){const n=$R(t/yL),r=n/2,i=n*gL,a=r,o=n*gL+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(pL*r-mL*i,mL*r+pL*i),e.lineTo(pL*a-mL*o,mL*a+pL*o),e.lineTo(pL*s-mL*l,mL*s+pL*l),e.lineTo(pL*r+mL*i,pL*i-mL*r),e.lineTo(pL*a+mL*o,pL*o-mL*a),e.lineTo(pL*s+mL*l,pL*l-mL*s),e.closePath()}};$R(3),$R(3);var bL=["type","size","sizeType"];function wL(){return wL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wL.apply(null,arguments)}function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(t){kL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SL={symbolCircle:nL,symbolCross:rL,symbolDiamond:oL,symbolSquare:sL,symbolStar:dL,symbolTriangle:fL,symbolWye:vL},EL=Math.PI/180,TL=e=>{var{type:n="circle",size:r=64,sizeType:i="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,bL),o=_L(_L({},a),{},{type:n,size:r,sizeType:i}),{className:s,cx:l,cy:c}=o,u=BA(o,!0);return l===+l&&c===+c&&r===+r?t.createElement("path",wL({},u,{className:lm("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Em(e));return SL[t]||nL})(n),t=function(e,t){let n=null,r=EM(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Cb(e||nL),t="function"===typeof t?t:Cb(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Cb(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Cb(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*EL;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,i,n));return t()})()})):null};function CL(){return CL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CL.apply(null,arguments)}function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}TL.registerSymbol=(e,t)=>{SL["symbol".concat(Em(e))]=t};var OL=32;class AL extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=16,a=OL/6,o=OL/3,s=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:OL,y2:i,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,"\n            H").concat(OL,"M").concat(2*o,",").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(OL,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NL(Object(n),!0).forEach(function(t){PL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(TL,{fill:s,cx:i,cy:i,size:OL,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:OL,height:OL},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||i,d=lm({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?a:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",CL({className:d,style:l,key:"legend-item-".concat(r)},jA(this.props,e,r)),t.createElement(WA,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}PL(AL,"displayName","Legend"),PL(AL,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var jL=["contextPayload"];function IL(){return IL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IL.apply(null,arguments)}function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ML(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DL(Object(n),!0).forEach(function(t){RL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e){return e.value}function FL(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,jL),i=LD(n,e.payloadUniqBy,LL),a=ML(ML({},r),{},{payload:i});return t.isValidElement(e.content)?t.cloneElement(e.content,a):"function"===typeof e.content?t.createElement(e.content,a):t.createElement(AL,a)}function zL(e){var n=gb();return(0,t.useEffect)(()=>{n(WO(e))},[n,e]),null}function UL(e){var n=gb();return(0,t.useEffect)(()=>(n(qO(e)),()=>{n(qO({width:0,height:0}))}),[n,e]),null}function VL(e){var n=wb(Sb),r=(0,t.useContext)(oj),i=(()=>{var e;return null!==(e=wb(e=>e.layout.margin))&&void 0!==e?e:Ew})(),{width:a,height:o,wrapperStyle:s,portal:l}=e,[c,u]=ZD([n]),d=kw(),h=Sw(),f=d-(i.left||0)-(i.right||0),p=BL.getWidthOrHeight(e.layout,o,a,f),m=l?s:ML(ML({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||a||"auto",height:(null===p||void 0===p?void 0:p.height)||o||"auto"},function(e,t,n,r,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ML(ML({},o),s)}(s,e,i,d,h,c)),s),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(zL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(UL,{width:c.width,height:c.height}),t.createElement(FL,IL({},e,p,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,wD.createPortal)(y,g)}class BL extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&gm(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(VL,this.props)}}function HL(){return HL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HL.apply(null,arguments)}RL(BL,"displayName","Legend"),RL(BL,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var qL=e=>{var{cx:n,cy:r,r:i,className:a}=e,o=lm("recharts-dot",a);return n===+n&&r===+r&&i===+i?t.createElement("circle",HL({},MA(e),AA(e),{className:o,cx:n,cy:r,r:i})):null},WL=n(356),KL=n.n(WL),GL=["valueAccessor"],XL=["data","dataKey","clockWise","id","textBreakAll"];function YL(){return YL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YL.apply(null,arguments)}function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(t){ZL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $L(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var eF=e=>Array.isArray(e.value)?KL()(e.value):e.value;function tF(e){var{valueAccessor:n=eF}=e,r=$L(e,GL),{data:i,dataKey:a,clockWise:o,id:s,textBreakAll:l}=r,c=$L(r,XL);return i&&i.length?t.createElement(Qj,{className:"recharts-label-list"},i.map((e,r)=>{var i=Sm(a)?n(e,r):qb(e&&e.payload,a),u=Sm(s)?{}:{id:"".concat(s,"-").concat(r)};return t.createElement(NI,YL({},BA(e,!0),c,u,{parentViewBox:e.parentViewBox,value:i,textBreakAll:l,viewBox:NI.parseViewBox(Sm(o)?e:JL(JL({},e),{},{clockWise:o})),key:"label-".concat(r),index:r}))})):null}function nF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nF(Object(n),!0).forEach(function(t){iF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tF.displayName="LabelList",tF.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:i}=e,a=UA(i,tF).map((e,r)=>(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)}));return r?[function(e,n){return e?!0===e?t.createElement(tF,{key:"labelList-implicit",data:n}):t.isValidElement(e)||TI(e)?t.createElement(tF,{key:"labelList-implicit",data:n,content:e}):"object"===typeof e?t.createElement(tF,YL({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n),...a]:a};function aF(e){var{points:n,mainColor:r,activeDot:i,itemDataKey:a}=e,o=wb(FP),s=wb(KP);if(null==n||null==s)return null;var l=n.find(e=>s.includes(e.payload));return Sm(l)?null:(e=>{var{point:n,childIndex:r,mainColor:i,activeDot:a,dataKey:o}=e;if(!1===a||null==n.x||null==n.y)return null;var s,l=rF(rF({index:r,dataKey:o,cx:n.x,cy:n.y,r:4,fill:null!==i&&void 0!==i?i:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},BA(a,!1)),AA(a));return s=(0,t.isValidElement)(a)?(0,t.cloneElement)(a,l):"function"===typeof a?a(l):t.createElement(qL,l),t.createElement(Qj,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:i})}function oF(e){var{fn:n,args:r}=e,i=gb(),a=yw();return(0,t.useEffect)(()=>{if(!a){var e=n(r);return i(Mv(e)),()=>{i(Rv(e))}}},[n,r,i,a]),null}var sF=["children"];var lF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cF=(0,t.createContext)(lF);function uF(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,sF);return t.createElement(cF.Provider,{value:r},n)}function dF(e,t){var n,r,i=wb(t=>ZT(t,e)),a=wb(e=>eC(e,t)),o=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:JT.allowDataOverflow,s=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:$T.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function hF(e){var{xAxisId:n,yAxisId:r,clipPathId:i}=e,a=fj(),{needClipX:o,needClipY:s,needClip:l}=dF(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return t.createElement("clipPath",{id:"clipPath-".concat(i)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}var fF=(e,t,n,r)=>MN(e,"xAxis",t,r),pF=(e,t,n,r)=>DN(e,"xAxis",t,r),mF=(e,t,n,r)=>MN(e,"yAxis",n,r),gF=(e,t,n,r)=>DN(e,"yAxis",n,r),yF=db([Tw,fF,mF,pF,gF],(e,t,n,r,i)=>Wb(e,"xAxis")?tw(t,r,!1):tw(n,i,!1));function vF(e){return"line"===e.type}var bF,wF=db([sC,(e,t,n,r,i)=>i],(e,t)=>e.filter(vF).find(e=>e.id===t)),xF=db([Tw,fF,mF,pF,gF,wF,yF,UE],(e,t,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=qb(e,o);if("horizontal"===t)return{x:Jb({axis:n,ticks:i,bandSize:s,entry:e,index:l}),y:Sm(c)?null:r.scale(c),value:c,payload:e};var u=Sm(c)?null:n.scale(c),d=Jb({axis:r,ticks:a,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:d})}}),_F=()=>{};function kF(e){var{legendPayload:n}=e,r=gb(),i=yw();return(0,t.useEffect)(()=>i?_F:(r(KO(n)),()=>{r(GO(n))}),[r,i,n]),null}var SF=null!==(bF=r["useId".toString()])&&void 0!==bF?bF:()=>{var[e]=t.useState(()=>bm("uid-"));return e};var EF=(0,t.createContext)(void 0),TF=e=>{var{id:n,type:r,children:i}=e,a=function(e,t){var n=SF();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(EF.Provider,{value:a},i(a))};function CF(e){var n=gb(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null===r.current?n(EO(e)):r.current!==e&&n(TO({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(CO(r.current)),r.current=null)},[n]),null}function NF(){}var PF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OF={t:0},AF={t:1};function jF(e){var n=wj(e,PF),{isActive:r,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=mR("JavascriptAnimate",n.animationManager),[h,f]=(0,t.useState)(r?OF:AF),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(AF)},[r]),(0,t.useEffect)(()=>{if(!r||!i)return NF;var e=dR(OF,AF,$M(o),a,f,d.getTimeoutController());return d.start([c,s,()=>{p.current=e()},a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,i,a,o,s,c,l,d]),u(h.t)}var IF=["id"],DF=["type","layout","connectNulls","needClip"],MF=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function RF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RF(Object(n),!0).forEach(function(t){FF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UF(){return UF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UF.apply(null,arguments)}var VF=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:rw(n,t),payload:e}]};function BF(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:rw(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var HF=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qF(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function WF(e){var{clipPathId:n,points:r,props:i}=e,{dot:a,dataKey:o,needClip:s}=i;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,a))return null;var{id:l}=i,c=zF(i,IF),u=VA(a),d=MA(c),h=BA(a,!0),f=r.map((e,n)=>{var i=LF(LF(LF({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:r});return function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var i=lm("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(qL,UF({},n,{className:i}))}return r}(a,i)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(n,")"):void 0};return t.createElement(Qj,UF({className:"recharts-line-dots",key:"dots"},p),f)}function KF(e){var{clipPathId:n,pathRef:r,points:i,strokeDasharray:a,props:o,showLabels:s}=e,{type:l,layout:c,connectNulls:u,needClip:d}=o,h=zF(o,DF),f=LF(LF({},BA(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(n,")"):void 0,points:i,type:l,layout:c,connectNulls:u,strokeDasharray:null!==a&&void 0!==a?a:o.strokeDasharray});return t.createElement(t.Fragment,null,(null===i||void 0===i?void 0:i.length)>1&&t.createElement(zM,UF({},f,{pathRef:r})),t.createElement(WF,{points:i,clipPathId:n,props:o}),s&&tF.renderCallByParent(o,i))}function GF(e){var{clipPathId:n,props:r,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=a.current,b=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(bm(n)),i=(0,t.useRef)(e);return i.current!==e&&(r.current=bm(n),i.current=e),r.current}(r,"recharts-line-"),[w,x]=(0,t.useState)(!1),_=(0,t.useCallback)(()=>{"function"===typeof g&&g(),x(!1)},[g]),k=(0,t.useCallback)(()=>{"function"===typeof y&&y(),x(!0)},[y]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(i.current),E=o.current;return t.createElement(jF,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:_,onAnimationStart:k,key:b},e=>{var c,u=_m(E,S+E,e),d=Math.min(u,S);if(l){var h="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return HF(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){s=[...n.slice(0,l),a-c];break}var u=s.length%2===0?[0,o]:[o];return[...qF(n,i),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(d,S,h)}else c=HF(S,d);if(v){var g=v.length/s.length,y=1===e?s:s.map((t,n)=>{var r=Math.floor(n*g);if(v[r]){var i=v[r];return LF(LF({},t),{},{x:_m(i.x,t.x,e),y:_m(i.y,t.y,e)})}return LF(LF({},t),{},f?{x:_m(2*p,t.x,e),y:_m(m/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=y,t.createElement(KF,{props:r,points:y,clipPathId:n,pathRef:i,showLabels:!w,strokeDasharray:c})}return e>0&&S>0&&(a.current=s,o.current=d),t.createElement(KF,{props:r,points:s,clipPathId:n,pathRef:i,showLabels:!w,strokeDasharray:c})})}function XF(e){var{clipPathId:n,props:r}=e,{points:i,isAnimationActive:a}=r,o=(0,t.useRef)(null),s=(0,t.useRef)(0),l=(0,t.useRef)(null),c=o.current;return a&&i&&i.length&&c!==i?t.createElement(GF,{props:r,clipPathId:n,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):t.createElement(KF,{props:r,points:i,clipPathId:n,pathRef:l,showLabels:!0})}var YF=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qb(e.payload,t)});class QF extends t.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f}=this.props;if(n)return null;var p=lm("recharts-line",a),m=h,{r:g=3,strokeWidth:y=2}=null!==(e=BA(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},v=VA(r),b=2*g+y;return t.createElement(t.Fragment,null,t.createElement(Qj,{className:p},f&&t.createElement("defs",null,t.createElement(hF,{clipPathId:m,xAxisId:o,yAxisId:s}),!v&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),t.createElement(XF,{props:this.props,clipPathId:m}),t.createElement(uF,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:YF,errorBarOffset:0},this.props.children)),t.createElement(aF,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var JF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Cj,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function ZF(e){var n=wj(e,JF),{activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=n,y=zF(n,MF),{needClip:v}=dF(p,m),b=fj(),w=Cw(),x=yw(),_=wb(e=>xF(e,p,m,x,g));if("horizontal"!==w&&"vertical"!==w||null==_||null==b)return null;var{height:k,width:S,x:E,y:T}=b;return t.createElement(QF,UF({},y,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:_,layout:w,height:k,width:S,left:E,top:T,needClip:v}))}function $F(e){var n=wj(e,JF),r=yw();return t.createElement(TF,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(kF,{legendPayload:VF(n)}),t.createElement(oF,{fn:BF,args:n}),t.createElement(CF,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(ZF,UF({},n,{id:e}))))}$F.displayName="Line";var ez=n(579);console.log("Is my Project ID loading?","assignment-tracker-d2dc2");const tz="default-app-id",nz={apiKey:"AIzaSyCsx6RHun1exNzs-ihuwXGpsnJGR4jQMW8",authDomain:"assignment-tracker-d2dc2.firebaseapp.com",projectId:"assignment-tracker-d2dc2",storageBucket:"assignment-tracker-d2dc2.firebasestorage.app",messagingSenderId:"382969075357",appId:"1:382969075357:web:ee7194ec6c12a8faece674",measurementId:"G-47D2YMVQN3"};let rz,iz,az;Object.keys(nz).length>0&&(rz=nt(nz),iz=function(e,t){const n="object"==typeof e?e:rt(),r="string"==typeof e?e:t||ms,i=Je(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(()=>{const e=y("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&Rf(i,...e)}return i}(rz),az=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();const t=Je(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Je(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(I(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;St(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ri,persistence:[Kr,Tr,Ar]}),r=b("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ui)return;const r=null===t||void 0===t?void 0:t.token;Vi!==r&&(Vi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){U(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){U(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=y("auth");return a&&Kn(n,"http://".concat(a)),n}(rz));const oz=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const r=document.getElementById("messageBox"),i=document.getElementById("messageText");r&&i&&(i.textContent=e,r.className="fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform ".concat("error"===t?"bg-red-500 text-white":"bg-blue-500 text-white"," translate-y-0 opacity-100"),setTimeout(()=>{r.className="fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-y-full opacity-0"},n))},sz={avatars:[{id:"avatar_star",name:"Star Pupil",type:"avatar",display:"\ud83c\udf1f",rarity:"common",placeholder:"https://avatarfiles.alphacoders.com/364/thumb-1920-364190.png"},{id:"avatar_brain",name:"Brainiac",type:"avatar",display:"\ud83e\udde0",rarity:"common",placeholder:"https://media.istockphoto.com/photos/male-brain-picture-id462459425?k=6&m=462459425&s=612x612&w=0&h=3Gz2Umdfe8JjTX6lyfBvU707pzo610et6icnA8_xAuM="},{id:"avatar_rocket",name:"Rocket Learner",type:"avatar",display:"\ud83d\ude80",rarity:"rare",placeholder:"https://tse4.mm.bing.net/th/id/OIP.nZ9698V3hFFNkGK0QJ5iOAHaFW?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_owl",name:"Wise Owl",type:"avatar",display:"\ud83e\udd89",rarity:"common",placeholder:"https://wallpaperaccess.com/full/156003.jpg"},{id:"avatar_robot",name:"Efficient Bot",type:"avatar",display:"\ud83e\udd16",rarity:"rare",placeholder:"https://wallpaperaccess.com/full/1224636.jpg"},{id:"avatar_genius",name:"Genius Mind",type:"avatar",display:"\ud83d\udca1",rarity:"rare",placeholder:"https://is.zobj.net/image-server/v1/images?r=eHDomy1YZ1FrW7ojzlmZmq0NuHjZJVQvvNBgi0dbsJo5k2H9UnazK8si3m1pUUudk2YjTG9EMxDuQKaWKy5QA0OEONAX0WdoENitTVAAl71hADqs5D36GElxGc6W-t8eZFWxQKLwRBUFJykponxzbq5PA5YpjPTupu9eZgTu_yjSv7g9tXyAZgjwUixrW-rrRMjSb7q3qJ-U4AHpKskwaSFVylSRDRuTV21eC62hkJJqDQ5n1SrRX7W7ubw"},{id:"avatar_cat",name:"Purrfect Student",type:"avatar",display:"\ud83d\udc31",rarity:"common",placeholder:"https://tse2.mm.bing.net/th/id/OIP.9k51CV49PTWmHkkBg-LdFwHaHa?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_dog",name:"Loyal Companion",type:"avatar",display:"\ud83d\udc36",rarity:"common",placeholder:"https://th.bing.com/th/id/R.4475147aa7d62435c1927ffb8939d122?rik=Jx0WLCZbrcMZLg&pid=ImgRaw&r=0"},{id:"avatar_dragon",name:"Mythic Scholar",type:"avatar",display:"\ud83d\udc09",rarity:"epic",placeholder:"https://avatarfiles.alphacoders.com/375/375300.png"},{id:"avatar_unicorn",name:"Magical Thinker",type:"avatar",display:"\ud83e\udd84",rarity:"epic",placeholder:"https://static.vecteezy.com/system/resources/previews/017/047/818/original/cute-unicorn-illustration-unicorn-kawaii-chibi-drawing-style-unicorn-cartoon-vector.jpg"},{id:"avatar_fox",name:"Clever Fox",type:"avatar",display:"\ud83e\udd8a",rarity:"rare",placeholder:"https://tse1.explicit.bing.net/th/id/OIP.DO8TDZQv0qYnE_7RgCsYBQHaHa?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_panda",name:"Zen Master",type:"avatar",display:"\ud83d\udc3c",rarity:"common",placeholder:"https://tse4.mm.bing.net/th/id/OIP.735_5CnTHUFnq3EJ5AEYcgHaHZ?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"avatar_lion",name:"Bold Leader",type:"avatar",display:"\ud83e\udd81",rarity:"rare",placeholder:"https://wallpaperaccess.com/full/1137900.jpg"},{id:"avatar_koala",name:"Chill Learner",type:"avatar",display:"\ud83d\udc28",rarity:"common",placeholder:"https://i.pinimg.com/736x/d0/96/45/d096459c7d33f928c1884b838d76901b.jpg"},{id:"avatar_tiger",name:"Fierce Focus",type:"avatar",display:"\ud83d\udc2f",rarity:"rare",placeholder:"https://avatarfiles.alphacoders.com/372/thumb-1920-372778.png"},{id:"avatar_bear",name:"Strong Foundation",type:"avatar",display:"\ud83d\udc3b",rarity:"common",placeholder:"https://i.pinimg.com/474x/cc/ea/6e/ccea6e6f248de50f296154ec95be9e76.jpg?nii=t"}],banners:[{id:"banner_gradient_blue",name:"Blue Gradient",type:"banner",style:"bg-gradient-to-r from-blue-400 to-purple-500 text-white",rarity:"rare",placeholder:"https://th.bing.com/th/id/R.3e6aed2b8eb249ec7b4a25559df7a6e6?rik=qIS4fr0qtZHNrg&riu=http%3a%2f%2fgetwallpapers.com%2fwallpaper%2ffull%2f6%2fe%2fe%2f101557.jpg&ehk=98AjuwsmwgYC1gbZKC8Rd0WY%2bi0AHMINFBKwbXuMXMU%3d&risl=&pid=ImgRaw&r=0"},{id:"banner_confetti",name:"Confetti Burst",type:"banner",style:"bg-yellow-200 text-gray-800",rarity:"common",placeholder:"https://tse1.mm.bing.net/th/id/OIP.3eHpbJthJIkcUFgEXWfb0QHaE4?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"banner_geometric",name:"Geometric Pattern",type:"banner",style:"bg-teal-200 text-gray-800",rarity:"common",placeholder:"https://wallpaperaccess.com/full/3223142.jpg"},{id:"banner_dark_forest",name:"Dark Forest",type:"banner",style:"bg-green-800 text-white",rarity:"rare",placeholder:"https://tse4.mm.bing.net/th/id/OIP.-EJUaTZ_O73RH6LI7rYBcwAAAA?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"banner_rainbow",name:"Rainbow Glow",type:"banner",style:"bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500 text-white",rarity:"rare",placeholder:"https://th.bing.com/th/id/OIP.hcBH5l3XrU1sXVp0b-jIgAHaEo?w=289&h=180&c=7&r=0&o=7&pid=1.7&rm=3"},{id:"banner_sunset",name:"Sunset Hues",type:"banner",style:"bg-gradient-to-r from-orange-400 to-red-500 text-white",rarity:"common",placeholder:"https://th.bing.com/th/id/R.f0d7a60a2efd30f950b6d4f865c42fa3?rik=W2rmzfUrr7zarA&pid=ImgRaw&r=0&sres=1&sresct=1"},{id:"banner_ocean",name:"Deep Ocean",type:"banner",style:"bg-gradient-to-r from-blue-700 to-cyan-500 text-white",rarity:"rare",placeholder:"https://th.bing.com/th/id/OIP.2A_RSlYMWxE289IuTWsDTgHaCt?w=330&h=127&c=7&r=0&o=7&pid=1.7&rm=3"},{id:"banner_galaxy",name:"Stellar Galaxy",type:"banner",style:"bg-gradient-to-r from-gray-900 to-indigo-900 text-white",rarity:"epic",placeholder:"https://tse4.mm.bing.net/th/id/OIP.B9LC-h4DwC7HqGh5Glkf1AHaCx?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"banner_spring",name:"Spring Blossom",type:"banner",style:"bg-pink-200 text-gray-800",rarity:"common",placeholder:"https://th.bing.com/th/id/OIP.qK_E2DAamuQBCbPhfwvIagHaCU?w=300&h=109&c=7&r=0&o=7&pid=1.7&rm=3"},{id:"banner_autumn",name:"Autumn Leaves",type:"banner",style:"bg-orange-600 text-white",rarity:"common",placeholder:"https://th.bing.com/th/id/OIP.tcuASdYo4L4-v4qsl8jWDwHaDF?w=331&h=145&c=7&r=0&o=5&pid=1.7"},{id:"banner_winter",name:"Winter Wonderland",type:"banner",style:"bg-blue-100 text-blue-800",rarity:"rare",placeholder:"https://png.pngtree.com/background/20210715/original/pngtree-winter-landscape-dreamy-banner-background-with-snowflakes-picture-image_1300439.jpg"},{id:"banner_lava",name:"Volcanic Flow",type:"banner",style:"bg-gradient-to-r from-red-800 to-yellow-600 text-white",rarity:"epic",placeholder:"https://img.freepik.com/premium-photo/abstract-background-fire-volcanoes-lava-illustration-banner-design-showcasing-raw-energy-molten-lava-fire-volcanoes-against-captivating-background-generative-ai_198565-7386.jpg"},{id:"banner_cyber",name:"Cyber Grid",type:"banner",style:"bg-gray-800 text-green-400",rarity:"rare",placeholder:"https://static.vecteezy.com/system/resources/previews/013/446/271/large_2x/digital-technology-banner-green-blue-background-cyber-technology-circuit-abstract-binary-tech-innovation-future-data-internet-network-ai-big-data-futuristic-wifi-connection-illustration-vector.jpg"},{id:"banner_retro",name:"Retro Wave",type:"banner",style:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",rarity:"rare",placeholder:"https://static.vecteezy.com/system/resources/previews/003/818/278/original/vintage-sun-retro-banner-background-colourful-grunge-sunburst-illustration-vector.jpg"},{id:"banner_tech",name:"Circuit Board",type:"banner",style:"bg-gray-700 text-cyan-400",rarity:"epic",placeholder:"https://as1.ftcdn.net/v2/jpg/01/41/83/86/1000_F_141838647_aKYhGVqL5a0Ynq9IYcKboe9iuzfA0OHQ.jpg"},{id:"banner_forest_path",name:"Forest Path",type:"banner",style:"bg-green-600 text-white",rarity:"common",placeholder:"https://tse2.mm.bing.net/th/id/OIP.XkqF76yi65wRg7Pln-DqpAHaDt?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"}],backgrounds:[{id:"bg_clouds",name:"Cloudy Sky",type:"background",style:"bg-blue-100",rarity:"common",placeholder:"https://th.bing.com/th/id/R.f690668f8e85ad6fdc21e81d7d0538a9?rik=Ma4pIqjZcWiA5w&riu=http%3a%2f%2fwww.pixelstalk.net%2fwp-content%2fuploads%2f2016%2f05%2fDesktop-Sky-Wallpapers-High-Resolution.jpg&ehk=Lw0FiErzf7ABoZjpB7jwvkd3s8EwXhNNMQW92f9%2bPR8%3d&risl=&pid=ImgRaw&r=0"},{id:"bg_stars",name:"Starry Night",type:"background",style:"bg-gray-900 text-white",rarity:"rare",placeholder:"https://tse1.mm.bing.net/th/id/OIP.yGsjLeStOYwvV-1HHi_rlwHaEK?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_forest",name:"Green Forest",type:"background",style:"bg-green-100",rarity:"common",placeholder:"https://th.bing.com/th/id/R.f40fe88aa1ab108ea55cde6e20ccb1ee?rik=rUnTCCLAYJuK0A&riu=http%3a%2f%2fwallpapercave.com%2fwp%2frlTrbyc.jpg&ehk=Dn1l8qh7JJ5oNmrVX7OJuUJZWBJXF40nNzkaVWrNZpw%3d&risl=&pid=ImgRaw&r=0"},{id:"bg_city",name:"Cityscape",type:"background",style:"bg-gray-300",rarity:"rare",placeholder:"https://wallpaperaccess.com/full/1401593.jpg"},{id:"bg_desert",name:"Desert Dunes",type:"background",style:"bg-yellow-300",rarity:"common",placeholder:"https://th.bing.com/th/id/R.2c1f2e1eccc5aa422a90e00dc03c48f3?rik=w3blTpmcPdtJgA&pid=ImgRaw&r=0"},{id:"bg_snow",name:"Snowy Peaks",type:"background",style:"bg-white text-blue-800",rarity:"rare",placeholder:"https://wallpapercave.com/wp/YkLpZ3U.jpg"},{id:"bg_beach",name:"Tropical Beach",type:"background",style:"bg-cyan-200",rarity:"common",placeholder:"https://th.bing.com/th/id/R.5a627cccd33a20f249e6ff34e0e90abf?rik=wyTXz9qf0tDWuQ&riu=http%3a%2f%2fwallpapercave.com%2fwp%2fQGsncry.jpg&ehk=4LfhxKjnYKmjprvZpGFUZKBjTiRlXQYOmp1ihEOP17A%3d&risl=&pid=ImgRaw&r=0"},{id:"bg_space",name:"Deep Space",type:"background",style:"bg-black text-purple-200",rarity:"epic",placeholder:"https://wallpaperaccess.com/full/471779.jpg"},{id:"bg_library",name:"Cozy Library",type:"background",style:"bg-amber-100",rarity:"common",placeholder:"https://tse4.mm.bing.net/th/id/OIP.ObUZAdXjjcEPM-cKz2LQ7AHaEK?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_cafe",name:"Coffee Shop Vibes",type:"background",style:"bg-brown-100",rarity:"rare",placeholder:"https://tse4.mm.bing.net/th/id/OIP.MMXkdXq2IueY_waRIzZNIgHaEo?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_underwater",name:"Underwater Realm",type:"background",style:"bg-blue-900 text-cyan-300",rarity:"epic",placeholder:"https://th.bing.com/th/id/R.b4e380739b5b7c56cdcfe1e7f5245b2c?rik=sLspB9n8Ox5xkg&pid=ImgRaw&r=0"},{id:"bg_mountain",name:"Mountain View",type:"background",style:"bg-green-700 text-gray-100",rarity:"rare",placeholder:"https://tse3.mm.bing.net/th/id/OIP.8MQaDvFKKT0lSxS2H5vHfQHaEK?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"},{id:"bg_volcano",name:"Volcanic Landscape",type:"background",style:"bg-red-900 text-orange-400",rarity:"epic",placeholder:"https://wallpapercave.com/wp/wp5814571.jpg"},{id:"bg_aurora",name:"Northern Lights",type:"background",style:"bg-indigo-900 text-green-300",rarity:"legendary",placeholder:"https://www.hdwallpapers.in/download/aurora_northern_lights_during_nighttime_4k_hd_nature-HD.jpg"},{id:"bg_futuristic",name:"Futuristic City",type:"background",style:"bg-gray-800 text-blue-400",rarity:"epic",placeholder:"https://wallpaperaccess.com/full/200961.jpg"}],fonts:[{id:"font_inter",name:"Inter (Default)",type:"font",style:"font-inter",rarity:"common"},{id:"font_mono",name:"Space Mono",type:"font",style:"font-mono",rarity:"rare"},{id:"font_serif",name:"Playfair Display",type:"font",style:"font-serif",rarity:"rare"},{id:"font_cursive",name:"Dancing Script",type:"font",style:"font-cursive",rarity:"epic"},{id:"font_handwritten",name:"Permanent Marker",type:"font",style:"font-handwritten",rarity:"rare"},{id:"font_pixel",name:"Press Start 2P",type:"font",style:"font-pixel",rarity:"epic"},{id:"font_comic",name:"Comic Neue",type:"font",style:"font-comic",rarity:"common"},{id:"font_fantasy",name:"Cinzel Decorative",type:"font",style:"font-fantasy",rarity:"epic"},{id:"font_slab",name:"Roboto Slab",type:"font",style:"font-slab",rarity:"common"},{id:"font_sans_condensed",name:"Oswald",type:"font",style:"font-sans-condensed",rarity:"common"},{id:"font_baskerville",name:"Libre Baskerville",type:"font",style:"font-baskerville",rarity:"rare"},{id:"font_lato",name:"Lato",type:"font",style:"font-lato",rarity:"common"},{id:"font_merriweather",name:"Merriweather",type:"font",style:"font-merriweather",rarity:"rare"},{id:"font_raleway",name:"Raleway",type:"font",style:"font-raleway",rarity:"common"},{id:"font_ubuntu",name:"Ubuntu",type:"font",style:"font-ubuntu",rarity:"rare"}],animations:[{id:"animation_sparkle",name:"Sparkle Burst",type:"animation",display:"\u2728",rarity:"rare",effect:"sparkle"},{id:"animation_confetti_pop",name:"Confetti Pop",type:"animation",display:"\ud83c\udf89",rarity:"rare",effect:"confetti"},{id:"animation_fireworks",name:"Fireworks Display",type:"animation",display:"\ud83c\udf86",rarity:"epic",effect:"fireworks"},{id:"animation_gentle_glow",name:"Gentle Glow",type:"animation",display:"\ud83c\udf1f",rarity:"common",effect:"glow"},{id:"animation_bouncy_bounce",name:"Bouncy Bounce",type:"animation",display:"\ud83c\udfc0",rarity:"common",effect:"bounce"},{id:"animation_flash",name:"Quick Flash",type:"animation",display:"\u26a1",rarity:"common",effect:"flash"},{id:"animation_slide_in",name:"Slide In",type:"animation",display:"\u27a1\ufe0f",rarity:"common",effect:"slide"},{id:"animation_zoom_out",name:"Zoom Out",type:"animation",display:"\ud83d\udd0d",rarity:"rare",effect:"zoom"},{id:"animation_swirl",name:"Swirling Effect",type:"animation",display:"\ud83c\udf00",rarity:"epic",effect:"swirl"},{id:"animation_fade_out",name:"Fade Out",type:"animation",display:"\ud83d\udc7b",rarity:"common",effect:"fade"}],titles:[{id:"title_lucky_spinner",name:"Lucky Spinner",type:"title",rarity:"rare"},{id:"title_xp_gambler",name:"XP Gambler",type:"title",rarity:"rare"},{id:"title_fortune_seeker",name:"Fortune Seeker",type:"title",rarity:"epic"},{id:"title_risk_taker",name:"Risk Taker",type:"title",rarity:"rare"},{id:"title_golden_hand",name:"Golden Hand",type:"title",rarity:"epic"},{id:"title_master_of_chance",name:"Master of Chance",type:"title",rarity:"legendary"},{id:"title_high_roller",name:"High Roller",type:"title",rarity:"legendary"},{id:"title_jackpot_jockey",name:"Jackpot Jockey",type:"title",rarity:"epic"},{id:"title_spin_king",name:"Spin King/Queen",type:"title",rarity:"rare"},{id:"title_xp_magnet",name:"XP Magnet",type:"title",rarity:"epic"}],wallpapers:[{id:"wall_dark_brick",name:"Dark Brick",type:"wallpaper",rarity:"common",cost:300,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/dark-brick-wall.png')"}},{id:"wall_white_panel",name:"White Wood Panels",type:"wallpaper",rarity:"common",cost:300,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/wood-panel.png')",backgroundColor:"#E2E8F0"}},{id:"wall_concrete",name:"Polished Concrete",type:"wallpaper",rarity:"rare",cost:750,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/concrete-wall-2.png')",backgroundColor:"#475569"}},{id:"wall_royal_damask",name:"Royal Damask",type:"wallpaper",rarity:"epic",cost:1500,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/southern-textiles.png')",backgroundColor:"#4C1D95"}},{id:"wall_tech_grid",name:"Cyber Wall",type:"wallpaper",rarity:"epic",cost:2e3,style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/cross-scratches.png')",backgroundColor:"#111827"}}],dungeon_emojis:[{id:"dc_player_knight",name:"Knight Player",type:"dungeon_emoji",cost:1e3,rarity:"rare",display:"\ud83d\udc82",for:"player"},{id:"dc_player_mage",name:"Mage Player",type:"dungeon_emoji",cost:1e3,rarity:"rare",display:"\ud83e\uddd9",for:"player"},{id:"dc_enemy_goblin_ogre",name:"Ogre Goblin",type:"dungeon_emoji",cost:500,rarity:"common",display:"\ud83d\udc7a",for:"goblin"},{id:"dc_enemy_skeleton_ghost",name:"Ghost Skeleton",type:"dungeon_emoji",cost:500,rarity:"common",display:"\ud83d\udc7b",for:"skeleton"}],td_skins:[{id:"td_archer_elf",name:"Elven Archer",type:"td_skin",cost:2e3,rarity:"rare",display:"\ud83e\udddd",for:"archer",floorRequired:5},{id:"td_cannon_catapult",name:"Catapult",type:"td_skin",cost:2e3,rarity:"rare",display:"\u2604\ufe0f",for:"cannon",floorRequired:5},{id:"td_icemage_sorcerer",name:"Sorcerer",type:"td_skin",cost:2500,rarity:"epic",display:"\ud83e\uddd9",for:"icemage",floorRequired:8},{id:"td_sniper_sharpshooter",name:"Sharpshooter",type:"td_skin",cost:3500,rarity:"legendary",display:"\ud83c\udfaf",for:"sniper",floorRequired:15},{id:"td_goblin_imp",name:"Imp",type:"td_skin",cost:1500,rarity:"common",display:"\ud83d\udc7f",for:"goblin",floorRequired:3},{id:"td_ogre_cyclops",name:"Cyclops",type:"td_skin",cost:3e3,rarity:"epic",display:"\ud83d\udc41\ufe0f",for:"ogre",floorRequired:10},{id:"td_flyer_gargoyle",name:"Gargoyle",type:"td_skin",cost:2200,rarity:"rare",display:"\ud83d\uddff",for:"flyer",floorRequired:6},{id:"td_dragon_undead",name:"Undead Dragon",type:"td_skin",cost:4e3,rarity:"legendary",display:"\ud83d\udc09",for:"dragon",floorRequired:20}]},lz={desks:[{id:"desk_simple",name:"Simple Wooden Desk",type:"furniture",cost:250,rarity:"common",display:'<svg viewBox="0 0 80 60" class="text-amber-700"><path d="M0,20 H80 L75,60 H5 L0,20 Z" fill="currentColor"/><rect x="10" y="20" width="8" height="38" fill="#6b4a2f"/><rect x="62" y="20" width="8" height="38" fill="#6b4a2f"/></svg>',width:4,height:3,isObstacle:!0},{id:"desk_modern",name:"Modern Glass Desk",type:"furniture",cost:500,rarity:"rare",display:'<svg viewBox="0 0 80 60"><path d="M0,20 H80 V28 H0 Z" fill="#a5f3fc" fill-opacity="0.7"/><rect x="10" y="28" width="5" height="30" fill="#e0e0e0"/><rect x="65" y="28" width="5" height="30" fill="#e0e0e0"/></svg>',width:4,height:3,isObstacle:!0},{id:"desk_executive",name:"Executive Desk",type:"furniture",cost:800,rarity:"epic",display:'<svg viewBox="0 0 100 60"><path d="M0,15 H100 L95,60 H5 L0,15 Z" fill="#583927"/><rect x="10" y="15" width="25" height="42" fill="#4a2f1f"/><rect x="65" y="15" width="25" height="42" fill="#4a2f1f"/><line x1="0" y1="25" x2="100" y2="25" stroke="#4a2f1f" stroke-width="2"/></svg>',width:5,height:3,isObstacle:!0}],seating:[{id:"chair_office",name:"Office Chair",type:"furniture",cost:150,rarity:"common",display:'<svg viewBox="0 0 40 50"><path d="M5,10 H35 V30 H5 Z" fill="#4a5568"/><rect x="0" y="0" width="40" height="15" rx="5" fill="#2d3748"/><path d="M18,30 v15 h4 v-15"/><path d="M10,45 h20 v5 h-20 z"/></svg>',width:2,height:2,isObstacle:!0},{id:"chair_gaming",name:"Gaming Chair",type:"furniture",cost:400,rarity:"rare",display:'<svg viewBox="0 0 40 60"><path d="M5,15 H35 L30,40 H10 Z" fill="#c53030"/><path d="M5,0 H35 V20 L28,15 H12 V20 Z" fill="#e53e3e"/><path d="M18,40 v15 h4 v-15"/><path d="M10,55 h20 v5 h-20 z"/></svg>',width:2,height:3,isObstacle:!0},{id:"sofa_leather",name:"Leather Sofa",type:"furniture",cost:700,rarity:"rare",display:'<svg viewBox="0 0 120 60"><rect x="0" y="15" width="120" height="45" rx="10" fill="#7b341e"/><rect x="10" y="0" width="20" height="20" rx="5" fill="#9c4221"/><rect x="90" y="0" width="20" height="20" rx="5" fill="#9c4221"/></svg>',width:6,height:3,isObstacle:!0},{id:"bean_bag",name:"Bean Bag",type:"furniture",cost:120,rarity:"common",display:'<svg viewBox="0 0 60 60"><ellipse cx="30" cy="40" rx="30" ry="20" fill="#718096"/><ellipse cx="30" cy="20" rx="15" ry="10" fill="#a0aec0"/></svg>',width:3,height:3,isObstacle:!0}],storage:[{id:"bookshelf_small",name:"Small Bookshelf",type:"furniture",cost:200,rarity:"common",display:'<svg viewBox="0 0 60 90"><rect width="60" height="90" fill="#8c5a3b"/><rect x="5" y="10" width="50" height="20" fill="#654321"/><rect x="5" y="35" width="50" height="20" fill="#654321"/><rect x="5" y="60" width="50" height="20" fill="#654321"/></svg>',width:2,height:4,isObstacle:!0},{id:"bookshelf_large",name:"Large Bookshelf",type:"furniture",cost:450,rarity:"rare",display:'<svg viewBox="0 0 90 120"><rect width="90" height="120" fill="#6b4a2f"/><rect x="8" y="10" width="74" height="25" fill="#583927"/><rect x="8" y="45" width="74" height="25" fill="#583927"/><rect x="8" y="80" width="74" height="25" fill="#583927"/></svg>',width:3,height:5,isObstacle:!0},{id:"filing_cabinet",name:"Filing Cabinet",type:"furniture",cost:180,rarity:"common",display:'<svg viewBox="0 0 40 60"><rect width="40" height="60" fill="#a0aec0"/><rect y="5" width="40" height="25" stroke="#4a5568" stroke-width="2"/><rect y="30" width="40" height="25" stroke="#4a5568" stroke-width="2"/><rect x="15" y="15" width="10" height="3" fill="#4a5568"/><rect x="15" y="40" width="10" height="3" fill="#4a5568"/></svg>',width:2,height:3,isObstacle:!0},{id:"display_case",name:"Display Case",type:"furniture",cost:600,rarity:"epic",display:'<svg viewBox="0 0 60 90"><rect width="60" height="90" fill="#a0a0a0"/><rect x="5" y="5" width="50" height="80" fill="#d4f1f9" fill-opacity="0.5"/><line x1="5" y1="45" x2="55" y2="45" stroke="#a0a0a0" stroke-width="2"/></svg>',width:2,height:4,isObstacle:!0}],decor:[{id:"rug_shaggy",name:"Shaggy Rug",type:"furniture",cost:100,rarity:"common",display:'<svg viewBox="0 0 120 90"><rect width="120" height="90" rx="10" fill="#7f9cf5"/></svg>',width:6,height:4,isObstacle:!1},{id:"plant_potted",name:"Potted Plant",type:"furniture",cost:75,rarity:"common",display:'<svg viewBox="0 0 40 60"><path d="M5,40 H35 V60 H5 Z" fill="#d59c6a"/><path d="M20,10 C0,30 40,30 20,10 Z" fill="#48bb78"/></svg>',width:2,height:3,isObstacle:!0},{id:"lamp_floor",name:"Floor Lamp",type:"furniture",cost:120,rarity:"common",display:'<svg viewBox="0 0 30 90"><rect x="12" y="15" width="6" height="75" fill="#718096"/><path d="M0,0 H30 L20,15 H10 Z" fill="#faf089"/></svg>',width:1,height:4,isObstacle:!0},{id:"trophy_case",name:"Trophy Case",type:"furniture",cost:1e3,rarity:"epic",display:'<svg viewBox="0 0 90 90"><rect width="90" height="90" fill="#e5b84c"/><rect x="5" y="5" width="80" height="80" fill="#fffaf0" fill-opacity="0.6"/><line x1="5" y1="35" x2="85" y2="35" stroke="#e5b84c" stroke-width="2"/><line x1="5" y1="65" x2="85" y2="65" stroke="#e5b84c" stroke-width="2"/></svg>',width:3,height:4,isObstacle:!0},{id:"wall_art_abstract",name:"Abstract Wall Art",type:"furniture",cost:220,rarity:"rare",display:'<svg viewBox="0 0 60 60"><rect width="60" height="60" fill="#1a202c"/><circle cx="30" cy="30" r="25" fill="#e53e3e"/><rect x="10" y="25" width="40" height="10" fill="#f6e05e"/></svg>',width:3,height:3,isObstacle:!0},{id:"lava_lamp",name:"Lava Lamp",type:"furniture",cost:90,rarity:"common",display:'<svg viewBox="0 0 30 60"><path d="M5,60 H25 V50 H5 Z" fill="#4a5568"/><path d="M0,0 H30 L25,50 H5 Z" fill="#f56565" fill-opacity="0.8"/><circle cx="15" cy="20" r="5" fill="#fbd38d"/><circle cx="15" cy="40" r="8" fill="#fbd38d"/></svg>',width:1,height:3,isObstacle:!0}],electronics:[{id:"computer_setup",name:"Desktop Computer",type:"furniture",cost:1200,rarity:"epic",display:'<svg viewBox="0 0 60 60"><rect x="0" y="5" width="60" height="35" rx="5" fill="#2d3748"/><rect x="5" y="10" width="50" height="25" fill="#000"/><rect x="20" y="40" width="20" height="10" fill="#4a5568"/></svg>',width:2,height:2,isObstacle:!0},{id:"laptop",name:"Laptop",type:"furniture",cost:800,rarity:"rare",display:'<svg viewBox="0 0 40 30"><path d="M0,25 H40 V28 H0 Z" fill="#a0aec0"/><path d="M2,2 L38,2 L35,25 L5,25 Z" fill="#e2e8f0"/></svg>',width:2,height:1,isObstacle:!0},{id:"gaming_console",name:"Gaming Console",type:"furniture",cost:500,rarity:"rare",display:'<svg viewBox="0 0 40 20"><rect width="40" height="20" rx="5" fill="#2d3748"/><circle cx="30" cy="10" r="3" fill="#c53030"/></svg>',width:2,height:1,isObstacle:!0},{id:"vr_headset",name:"VR Headset",type:"furniture",cost:650,rarity:"epic",display:'<svg viewBox="0 0 40 30"><path d="M0,5 H40 V25 H0 Z" rx="10" fill="#1a202c"/><path d="M5,0 h30 v5 h-30 z" fill="#4a5568"/></svg>',width:2,height:1,isObstacle:!0}]},cz=[...sz.avatars,...sz.banners,...sz.fonts,...sz.animations,...sz.titles,...sz.backgrounds],uz=[...cz,{id:"filler_xp_gain_1",name:"XP Gain",type:"xp_gain",display:"XP+",rarity:"rare"},{id:"filler_xp_gain_2",name:"XP Gain",type:"xp_gain",display:"XP+",rarity:"rare"},{id:"filler_xp_loss_1",name:"XP Loss",type:"xp_loss",display:"XP-",rarity:"common"},{id:"filler_xp_loss_2",name:"XP Loss",type:"xp_loss",display:"XP-",rarity:"common"},{id:"filler_xp_loss_3",name:"XP Loss",type:"xp_loss",display:"XP-",rarity:"common"}],dz=50,hz=.25,fz=.2,pz=.045,mz=.005,gz={common:[{id:"pet_squirrel_1",name:"Energetic Squirrel",display:"\ud83d\udc3f\ufe0f",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_squirrel_2",name:"Nimble Squirrel",display:"\ud83d\udc3f\ufe0f\ud83d\udca8",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_squirrel_3",name:"Master Squirrel",display:"\ud83d\udc3f\ufe0f\u26a1",xpBuff:.75,levelRequired:15,xpCost:300}]},{id:"pet_bunny_1",name:"Quick Bunny",display:"\ud83d\udc07",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_bunny_2",name:"Fleet-footed Bunny",display:"\ud83d\udc07\ud83d\udca8",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_bunny_3",name:"Grand Hare",display:"\ud83d\udc07\ud83c\udf1f",xpBuff:.75,levelRequired:15,xpCost:300}]},{id:"pet_hamster_1",name:"Busy Hamster",display:"\ud83d\udc39",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_hamster_2",name:"Diligent Hamster",display:"\ud83d\udc39\u2699\ufe0f",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_hamster_3",name:"Hyper Hamster",display:"\ud83d\udc39\u26a1",xpBuff:.75,levelRequired:15,xpCost:300}]},{id:"pet_chick_1",name:"Curious Chick",display:"\ud83d\udc25",xpBuff:.5,rarity:"common",evolutions:[{id:"pet_chick_2",name:"Growing Fowl",display:"\ud83d\udc24",xpBuff:.6,levelRequired:5,xpCost:100},{id:"pet_chick_3",name:"Wise Rooster",display:"\ud83d\udc13",xpBuff:.75,levelRequired:15,xpCost:300}]}],rare:[{id:"pet_fox_1",name:"Clever Fox",display:"\ud83e\udd8a",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_fox_2",name:"Cunning Fox",display:"\ud83e\udd8a\u2728",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_fox_3",name:"Mystic Fox",display:"\ud83e\udd8a\ud83d\udd2e",xpBuff:2,levelRequired:25,xpCost:250}]},{id:"pet_dragonfly_1",name:"Swift Dragonfly",display:"\ud83d\udc09",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_dragonfly_2",name:"Soaring Dragonfly",display:"\ud83d\udc09\u2b06\ufe0f",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_dragonfly_3",name:"Ancient Dragon",display:"\ud83d\udc32",xpBuff:2,levelRequired:25,xpCost:250}]},{id:"pet_hedgehog_1",name:"Spiky Protector",display:"\ud83e\udd94",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_hedgehog_2",name:"Resilient Hedgehog",display:"\ud83e\udd94\ud83d\udee1\ufe0f",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_hedgehog_3",name:"Iron Quill",display:"\ud83e\udd94\u2694\ufe0f",xpBuff:2,levelRequired:25,xpCost:250}]},{id:"pet_dolphin_1",name:"Intelligent Dolphin",display:"\ud83d\udc2c",xpBuff:.6,rarity:"rare",evolutions:[{id:"pet_dolphin_2",name:"Wise Dolphin",display:"\ud83d\udc2c\ud83d\udca1",xpBuff:1.5,levelRequired:10,xpCost:100},{id:"pet_dolphin_3",name:"Oceanic Sage",display:"\ud83d\udc2c\ud83c\udf0a",xpBuff:2,levelRequired:25,xpCost:250}]}],epic:[{id:"pet_owl_1",name:"Wise Owl",display:"\ud83e\udd89",xpBuff:2,rarity:"epic",evolutions:[{id:"pet_owl_2",name:"Sage Owl",display:"\ud83e\udd89\ud83d\udcdc",xpBuff:2.5,levelRequired:20,xpCost:200},{id:"pet_owl_3",name:"Oracle Owl",display:"\ud83e\udd89\u2728",xpBuff:.18,levelRequired:40,xpCost:400}]},{id:"pet_wolf_1",name:"Focused Wolf",display:"\ud83d\udc3a",xpBuff:2,rarity:"epic",evolutions:[{id:"pet_wolf_2",name:"Alpha Wolf",display:"\ud83d\udc3a\ud83d\udc51",xpBuff:2.5,levelRequired:20,xpCost:200},{id:"pet_wolf_3",name:"Spirit Wolf",display:"\ud83d\udc3a\ud83d\udc7b",xpBuff:3,levelRequired:40,xpCost:400}]},{id:"pet_griffin_1",name:"Noble Griffin",display:"\ud83e\udd85\ud83e\udd81",xpBuff:2,rarity:"epic",evolutions:[{id:"pet_griffin_2",name:"Majestic Griffin",display:"\ud83e\udd85\ud83d\udc51\ud83e\udd81",xpBuff:2.5,levelRequired:20,xpCost:200},{id:"pet_griffin_3",name:"Mythic Griffin",display:"\ud83e\udd85\u2728\ud83e\udd81",xpBuff:3,levelRequired:40,xpCost:400}]}],legendary:[{id:"pet_phoenix_1",name:"Blazing Phoenix",display:"\ud83d\udd25",xpBuff:3,rarity:"legendary",evolutions:[{id:"pet_phoenix_2",name:"Sunfire Phoenix",display:"\ud83d\udd25\u2600\ufe0f",xpBuff:5,levelRequired:30,xpCost:300},{id:"pet_phoenix_3",name:"Cosmic Phoenix",display:"\ud83d\udd25\ud83c\udf0c",xpBuff:6,levelRequired:50,xpCost:500}]},{id:"pet_dragon_1",name:"Ancient Dragon",display:"\ud83d\udc09",xpBuff:3,rarity:"legendary",evolutions:[{id:"pet_dragon_2",name:"Elemental Dragon",display:"\ud83d\udc09\u2728",xpBuff:5,levelRequired:30,xpCost:300},{id:"pet_dragon_3",name:"Elder Dragon",display:"\ud83d\udc32\ud83d\udc51",xpBuff:6,levelRequired:50,xpCost:500}]}],mythic:[{id:"pet_unicorn_1",name:"Mythical Unicorn",display:"\ud83e\udd84",xpBuff:4,rarity:"mythic",evolutions:[{id:"pet_unicorn_2",name:"Celestial Unicorn",display:"\ud83e\udd84\ud83c\udf08",xpBuff:6,levelRequired:40,xpCost:400},{id:"pet_unicorn_3",name:"Divine Alicorn",display:"\ud83e\udd84\u2728",xpBuff:10,levelRequired:60,xpCost:700}]}]},yz=[{level:1,title:"Novice Learner"},{level:5,title:"Aspiring Student"},{level:10,title:"Adept Learner"},{level:20,title:"Dedicated Scholar"},{level:35,title:"Knowledge Seeker"},{level:50,title:"Master Scholar"},{level:75,title:"Academic Ace"},{level:100,title:"Grand Sage"},{level:150,title:"Legendary Luminary"},{level:200,title:"Productivity Paragon"},{level:250,title:"Ultimate Achiever"},{level:300,title:"Transcendent Thinker"}],vz=["\ud83c\udf38","\ud83d\ude0a","\ud83d\ude10","\ud83d\ude1f","\ud83d\udc80"],bz=["Math","English","History","Science","Clubs","Extracurriculars","Personal Goals"],wz={beaker:{name:"Beaker",baseCost:15,baseSPS:.1,clickPower:0,xpUpgrade:{cost:100,multiplier:2}},microscope:{name:"Microscope",baseCost:100,baseSPS:1,clickPower:0,xpUpgrade:{cost:500,multiplier:2}},bunsen_burner:{name:"Bunsen Burner",baseCost:1100,baseSPS:8,clickPower:0,xpUpgrade:{cost:2e3,multiplier:2}},computer:{name:"Super Computer",baseCost:12e3,baseSPS:47,clickPower:0,xpUpgrade:{cost:1e4,multiplier:2}},particle_accelerator:{name:"Particle Accelerator",baseCost:13e4,baseSPS:260,clickPower:0,xpUpgrade:{cost:5e4,multiplier:2}},quantum_computer:{name:"Quantum Computer",baseCost:14e5,baseSPS:1400,clickPower:0,xpUpgrade:{cost:1e5,multiplier:2}},manual_clicker:{name:"Manual Clicker",baseCost:50,baseSPS:0,clickPower:1,xpUpgrade:{cost:1e3,multiplier:2}}},xz=e=>{let{isOpen:n,onClose:r,onSubmit:i}=e;const[a,o]=(0,t.useState)({class:"",assignment:"",dueDate:"",timeEstimate:"",pointsEarned:"",pointsMax:"",difficulty:"Easy",status:"To Do",recurrenceType:"none",recurrenceEndDate:"",tags:[]}),s=e=>{const{name:t,value:n}=e.target;o(e=>c(c({},e),{},{[t]:n}))},l=e=>{const{value:t,checked:n}=e.target;o(e=>{const r=n?[...e.tags,t]:e.tags.filter(e=>e!==t);return c(c({},e),{},{tags:r})})};return n?(0,ez.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:(0,ez.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-xl p-8 w-full max-w-3xl max-h-[90vh] flex flex-col text-white",children:[(0,ez.jsx)("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Add New Assignment"}),(0,ez.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(a),o({class:"",assignment:"",dueDate:"",timeEstimate:"",pointsEarned:"",pointsMax:"",difficulty:"Easy",status:"To Do",recurrenceType:"none",recurrenceEndDate:"",tags:[]}),r()},className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 overflow-y-auto pr-2",children:[(0,ez.jsxs)("div",{className:"md:col-span-1",children:[(0,ez.jsx)("label",{htmlFor:"class",className:"block text-slate-400 text-sm font-bold mb-1",children:"Class"}),(0,ez.jsx)("input",{type:"text",id:"class",name:"class",placeholder:"e.g., Math 101",value:a.class,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]}),(0,ez.jsxs)("div",{className:"md:col-span-1",children:[(0,ez.jsx)("label",{htmlFor:"assignment",className:"block text-slate-400 text-sm font-bold mb-1",children:"Assignment"}),(0,ez.jsx)("input",{type:"text",id:"assignment",name:"assignment",placeholder:"e.g., Homework 3",value:a.assignment,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",required:!0})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("label",{htmlFor:"dueDate",className:"block text-slate-400 text-sm font-bold mb-1",children:"Due Date"}),(0,ez.jsx)("input",{type:"date",id:"dueDate",name:"dueDate",value:a.dueDate,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("label",{htmlFor:"timeEstimate",className:"block text-slate-400 text-sm font-bold mb-1",children:"Time Estimate (hrs)"}),(0,ez.jsx)("input",{type:"number",id:"timeEstimate",name:"timeEstimate",placeholder:"e.g., 2.5",value:a.timeEstimate,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]}),(0,ez.jsxs)("div",{className:"md:col-span-2",children:[(0,ez.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-1",children:"Points"}),(0,ez.jsxs)("div",{className:"flex space-x-2",children:[(0,ez.jsx)("input",{type:"number",name:"pointsEarned",placeholder:"Earned",value:a.pointsEarned,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-1/2"}),(0,ez.jsx)("span",{className:"self-center text-slate-400",children:"/"}),(0,ez.jsx)("input",{type:"number",name:"pointsMax",placeholder:"Max",value:a.pointsMax,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-1/2"})]})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("label",{htmlFor:"difficulty",className:"block text-slate-400 text-sm font-bold mb-1",children:"Difficulty"}),(0,ez.jsxs)("select",{id:"difficulty",name:"difficulty",value:a.difficulty,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",children:[(0,ez.jsx)("option",{value:"Easy",children:"Easy"}),(0,ez.jsx)("option",{value:"Medium",children:"Medium"}),(0,ez.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("label",{htmlFor:"status",className:"block text-slate-400 text-sm font-bold mb-1",children:"Status"}),(0,ez.jsxs)("select",{id:"status",name:"status",value:a.status,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",children:[(0,ez.jsx)("option",{value:"To Do",children:"To Do"}),(0,ez.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,ez.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,ez.jsxs)("div",{className:"md:col-span-2",children:[(0,ez.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-1",children:"Tags"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 text-sm p-3 border border-slate-600 rounded-md bg-slate-700",children:bz.map(e=>(0,ez.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ez.jsx)("input",{type:"checkbox",value:e,checked:a.tags.includes(e),onChange:l,className:"form-checkbox h-4 w-4 text-indigo-500 rounded bg-slate-800 border-slate-600"}),(0,ez.jsx)("span",{children:e})]},e))})]}),(0,ez.jsxs)("div",{className:"md:col-span-2 border-t border-slate-700 pt-4 mt-4",children:[(0,ez.jsx)("label",{htmlFor:"recurrenceType",className:"block text-slate-400 text-sm font-bold mb-1",children:"Recurrence"}),(0,ez.jsxs)("select",{id:"recurrenceType",name:"recurrenceType",value:a.recurrenceType,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full",children:[(0,ez.jsx)("option",{value:"none",children:"Does not repeat"}),(0,ez.jsx)("option",{value:"daily",children:"Daily"}),(0,ez.jsx)("option",{value:"weekly",children:"Weekly"}),(0,ez.jsx)("option",{value:"monthly",children:"Monthly"})]}),"none"!==a.recurrenceType&&(0,ez.jsxs)("div",{className:"mt-2",children:[(0,ez.jsx)("label",{htmlFor:"recurrenceEndDate",className:"block text-slate-400 text-sm font-bold mb-1",children:"Recurrence End Date (Optional)"}),(0,ez.jsx)("input",{type:"date",id:"recurrenceEndDate",name:"recurrenceEndDate",value:a.recurrenceEndDate,onChange:s,className:"p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500 w-full"})]})]}),(0,ez.jsxs)("div",{className:"md:col-span-2 flex justify-end space-x-4 mt-6",children:[(0,ez.jsx)("button",{type:"button",onClick:r,className:"bg-slate-600 text-slate-300 px-5 py-2 rounded-md hover:bg-slate-500 transition-colors duration-200",children:"Cancel"}),(0,ez.jsx)("button",{type:"submit",className:"bg-indigo-600 text-white px-5 py-2 rounded-md hover:bg-indigo-700 transition-colors duration-200 shadow-md",children:"Add Assignment"})]})]})]})}):null},_z=e=>{let{isOpen:n,onClose:r,onAnimationComplete:i}=e;const[a,o]=(0,t.useState)([]),[s,l]=(0,t.useState)("idle"),[u,d]=(0,t.useState)(null),h=(0,t.useRef)(null),f=104;if((0,t.useEffect)(()=>{if(n){const e=150,t=140,n=Array.from({length:e},()=>uz[Math.floor(Math.random()*uz.length)]);let r;const i=50,a=Math.random();if(a<.65){const e=.3+.5*Math.random(),t=-Math.floor(i*e);r={id:"xp_loss_reward",name:"".concat(t," XP"),type:"xp_loss",display:"".concat(t," XP"),rarity:"common",amount:t}}else if(a<.9){const e=Math.floor(100*Math.random())+51;r={id:"xp_gain_reward",name:"+".concat(e," XP"),type:"xp_gain",display:"+".concat(e," XP"),rarity:e>100?"epic":"rare",amount:e}}else r=c({},cz[Math.floor(Math.random()*cz.length)]);n[t]=r,d(r),o(n),l("preparing")}else o([]),l("idle"),d(null)},[n]),(0,t.useEffect)(()=>{if(h.current){if("preparing"===s){h.current.style.transition="none",h.current.style.transform="translateX(0px)";const e=setTimeout(()=>l("spinning"),50);return()=>clearTimeout(e)}if("spinning"===s){const e=140,t=h.current.parentElement.offsetWidth/2-52,n=83.2*(Math.random()-.5),r=-e*f+t+n;h.current.style.transition="transform ".concat(7,"s cubic-bezier(0.15, 0.5, 0.25, 1)"),h.current.style.transform="translateX(".concat(r,"px)");const i=setTimeout(()=>l("finished"),7e3);return()=>clearTimeout(i)}}},[s,f]),!n)return null;const p="finished"===s,m=u&&"xp_gain"!==u.type&&"xp_loss"!==u.type;return(0,ez.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ez.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl p-8 w-full max-w-4xl overflow-hidden relative",children:[(0,ez.jsx)("h3",{className:"text-3xl font-bold text-white text-center mb-6",children:p?"Result!":"Spinning..."}),p&&m&&(0,ez.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:100}).map((e,t)=>(0,ez.jsx)("div",{className:"absolute rounded-full opacity-0 animate-confetti",style:{width:"".concat(8*Math.random()+4,"px"),height:"".concat(8*Math.random()+4,"px"),left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),backgroundColor:"hsl(".concat(360*Math.random(),", 80%, 60%)")}},t))}),(0,ez.jsxs)("div",{className:"relative w-full h-32 flex items-center justify-center",children:[(0,ez.jsx)("div",{className:"absolute top-[-10px] left-1/2 -translate-x-1/2 w-0 h-0 border-x-8 border-x-transparent border-t-[12px] border-t-red-500 z-20"}),(0,ez.jsx)("div",{className:"w-full h-full overflow-hidden",children:(0,ez.jsx)("div",{ref:h,className:"flex h-full items-center",style:{willChange:"transform"},children:a.map((e,t)=>{const n=e.rarity?{common:"border-gray-500",rare:"border-blue-500",epic:"border-purple-500",legendary:"border-orange-500",mythic:"border-red-600"}[e.rarity]:"border-transparent";return(0,ez.jsxs)("div",{className:"flex-shrink-0 w-[100px] h-24 flex flex-col items-center justify-center m-1 rounded-lg shadow-md border-b-4 ".concat(n," transition-all duration-300 ").concat(p&&140===t?"scale-110":""," ").concat("xp_gain"===e.type?"bg-green-800 text-white text-3xl font-bold":"xp_loss"===e.type?"bg-red-800 text-white text-3xl font-bold":"avatar"===e.type?"bg-slate-700 text-white text-5xl":"banner"===e.type?e.style:"font"===e.type?"bg-slate-700 text-white text-sm text-center px-1":"background"===e.type?"".concat(e.style," text-black text-sm text-center px-1"):"animation"===e.type||"title"===e.type?"bg-slate-700 text-white text-sm text-center px-1":"bg-gray-700 text-gray-300"),children:[("xp_gain"===e.type||"xp_loss"===e.type||"avatar"===e.type)&&(0,ez.jsx)("span",{children:e.display}),"banner"===e.type&&(0,ez.jsx)("span",{className:"text-sm text-center px-1",children:e.name}),"font"===e.type&&(0,ez.jsx)("span",{className:"text-lg text-center px-1 ".concat(e.style),children:e.name}),("background"===e.type||"animation"===e.type||"title"===e.type)&&(0,ez.jsx)("span",{className:"text-sm text-center px-1",children:e.name}),!e.type&&(0,ez.jsx)("span",{className:"text-sm",children:"?"})]},"".concat(e.id,"-").concat(t))})})}),(0,ez.jsx)("div",{className:"absolute bottom-[-10px] left-1/2 -translate-x-1/2 w-0 h-0 border-x-8 border-x-transparent border-b-[12px] border-b-red-500 z-20"})]}),p&&u&&(0,ez.jsxs)("div",{className:"mt-8 text-center animate-fade-in",children:[(0,ez.jsx)("h4",{className:"text-2xl font-bold text-white mb-2",children:m?"Congratulations! You received:":"Result:"}),(0,ez.jsx)("div",{className:"inline-flex items-center justify-center p-4 rounded-lg shadow-lg min-w-[200px] text-4xl ".concat("xp_gain"===u.type?"bg-green-500 text-white":"xp_loss"===u.type?"bg-red-500 text-white":"avatar"===u.type?"bg-blue-600 text-white text-6xl":"banner"===u.type?"".concat(u.style):"font"===u.type?"bg-purple-600 text-white ".concat(u.style):"background"===u.type?"".concat(u.style," text-white"):"animation"===u.type?"bg-indigo-600 text-white":"title"===u.type?"bg-red-600 text-white":"bg-gray-500 text-white"),children:"avatar"===u.type?u.display:u.name}),(0,ez.jsx)("button",{onClick:()=>i(u),className:"mt-8 bg-blue-600 text-white px-8 py-3 rounded-md hover:bg-blue-700 transition-colors duration-200 shadow-lg text-lg",children:"Continue"})]})]})})},kz=e=>{let{show:t,onAnimationEnd:n,equippedAnimationEffect:r}=e;if(!t)return null;const i="sparkle"===r?"animate-sparkle":"confetti"===r?"animate-confetti-pop":"fireworks"===r?"animate-fireworks":"glow"===r?"animate-gentle-glow":"bounce"===r?"animate-bouncy-bounce":"flash"===r?"animate-flash":"slide"===r?"animate-slide-in":"zoom"===r?"animate-zoom-out":"swirl"===r?"animate-swirl":"fade"===r?"animate-fade-out":"animate-checkmark-pop";return(0,ez.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",onAnimationEnd:n,children:(0,ez.jsxs)("div",{className:"relative",children:["animate-checkmark-pop"===i&&(0,ez.jsxs)("svg",{className:"animate-checkmark-pop text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[(0,ez.jsx)("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),(0,ez.jsx)("path",{className:"checkmark-check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]}),"sparkle"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:Array.from({length:10}).map((e,t)=>(0,ez.jsx)("span",{className:"absolute text-yellow-400 text-4xl opacity-0 animate-sparkle-effect",style:{top:"".concat(100*Math.random(),"%"),left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(.5*Math.random(),"s")},children:"\u2728"},t))}),"confetti"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:30}).map((e,t)=>(0,ez.jsx)("div",{className:"absolute bg-white rounded-full opacity-0 animate-confetti-effect",style:{width:"".concat(10*Math.random()+5,"px"),height:"".concat(10*Math.random()+5,"px"),left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(1.5*Math.random(),"s"),backgroundColor:"hsl(".concat(360*Math.random(),", 70%, 70%)")}},t))}),"fireworks"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:Array.from({length:3}).map((e,t)=>(0,ez.jsx)("div",{className:"absolute animate-fireworks-effect",style:{top:"".concat(20+60*Math.random(),"%"),left:"".concat(20+60*Math.random(),"%"),animationDelay:"".concat(.7*t,"s")},children:Array.from({length:12}).map((e,n)=>(0,ez.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-red-500 animate-firework-particle",style:{transform:"rotate(".concat(30*n,"deg) translateX(20px)"),animationDelay:"".concat(.7*t+.05*n,"s"),backgroundColor:"hsl(".concat(30*n,", 70%, 70%)")}},n))},t))}),"glow"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ez.jsx)("div",{className:"w-48 h-48 rounded-full bg-yellow-300 opacity-0 animate-gentle-glow-effect"})}),"bounce"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ez.jsx)("span",{className:"text-6xl animate-bouncy-bounce-effect",children:"\u2714\ufe0f"})}),"flash"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 animate-flash-effect"}),"slide"===r&&(0,ez.jsx)("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 text-6xl opacity-0 animate-slide-in-effect",children:"\u2714\ufe0f"}),"zoom"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ez.jsx)("span",{className:"text-6xl opacity-0 animate-zoom-out-effect",children:"\u2714\ufe0f"})}),"swirl"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ez.jsx)("div",{className:"w-32 h-32 border-4 border-blue-500 border-t-transparent rounded-full animate-swirl-effect"})}),"fade"===r&&(0,ez.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ez.jsx)("span",{className:"text-6xl animate-fade-out-effect",children:"\u2714\ufe0f"})})]})})},Sz=e=>{let{from:n,to:r}=e;const i=40,[a,o]=(0,t.useState)({top:n.y*i+20,left:n.x*i+20});return(0,t.useEffect)(()=>{const e=setTimeout(()=>{o({top:r.y*i+20,left:r.x*i+20})},10);return()=>clearTimeout(e)},[n,r]),(0,ez.jsx)("div",{className:"projectile",style:{top:"".concat(a.top,"px"),left:"".concat(a.left,"px")}})},Ez=e=>{var n;let{stats:r,dungeonState:i,updateStatsInFirestore:a,showMessageBox:o,getFullPetDetails:s,onResetDungeon:l,getFullCosmeticDetails:u}=e;const[d,h]=(0,t.useState)(i),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),y=(0,t.useCallback)(e=>{e&&a({dungeon_state:e})},[a]);(0,t.useEffect)(()=>{(i&&!d||"class_selection"===(null===i||void 0===i?void 0:i.phase))&&h(i)},[i,d]),(0,t.useEffect)(()=>{const e=setInterval(()=>{d&&"playing"===d.phase&&!d.gameOver&&(y(d),o("Game progress auto-saved!","info",1500))},6e5);return()=>clearInterval(e)},[d,y]);const v={classes:{warrior:{name:"Warrior",icon:"\u2694\ufe0f",description:"A balanced fighter with strong melee attacks.",startingHp:100,moveCost:5,attackCost:50,attackRange:1.5,ability:{id:"whirlwind",name:"Whirlwind",cost:120}},mage:{name:"Mage",icon:"\ud83e\uddd9",description:"A fragile caster with powerful area-of-effect spells.",startingHp:60,moveCost:5,attackCost:100,attackRange:4,ability:{id:"fireball",name:"Fireball",cost:200}},archer:{name:"Archer",icon:"\ud83c\udff9",description:"A nimble marksman who attacks from a great distance.",startingHp:60,moveCost:5,attackCost:60,attackRange:5,ability:{id:"double_tap",name:"Double Tap",cost:150}},tank:{name:"Tank",icon:"\ud83d\udee1\ufe0f",description:"A sturdy protector who can endure heavy damage.",startingHp:200,moveCost:8,attackCost:40,attackRange:1.5,ability:{id:"hunker_down",name:"Hunker Down",cost:80}}},weapons:[{id:"weapon_sword",name:"Iron Sword",cost:500,attack:10,class:"warrior"},{id:"weapon_axe",name:"Battle Axe",cost:1e3,attack:25,class:"warrior"},{id:"weapon_flame",name:"Flame Tongue",cost:2e3,attack:45,class:"warrior"},{id:"weapon_void",name:"Void Blade",cost:5e3,attack:70,class:"warrior"},{id:"weapon_sunforged",name:"Sunforged Blade",cost:7500,attack:100,class:"warrior",tdWinsRequired:5}],wands:[{id:"wand_apprentice",name:"Apprentice Wand",cost:500,attack:15,aoeRange:1.5,class:"mage"},{id:"wand_fireball",name:"Fireball Staff",cost:1200,attack:28,aoeRange:1.5,class:"mage"},{id:"wand_lightning",name:"Lightning Staff",cost:2500,attack:50,aoeRange:2,class:"mage"},{id:"wand_void",name:"Void Core Staff",cost:5e3,attack:75,aoeRange:2,class:"mage"},{id:"wand_archmage",name:"Archmage's Staff",cost:7500,attack:110,aoeRange:2.5,class:"mage",tdWinsRequired:5}],bows:[{id:"bow_short",name:"Shortbow",cost:500,attack:12,class:"archer"},{id:"bow_long",name:"Longbow",cost:1100,attack:28,class:"archer"},{id:"bow_eagle",name:"Eagle Eye Bow",cost:2200,attack:55,class:"archer"},{id:"bow_void",name:"Voidstring Bow",cost:5e3,attack:80,class:"archer"},{id:"bow_sunstrider",name:"Sunstrider's Mark",cost:7500,attack:120,class:"archer",tdWinsRequired:5}],shields:[{id:"shield_iron",name:"Iron Shield",cost:500,attack:8,hp:50,class:"tank"},{id:"shield_steel",name:"Steel Tower Shield",cost:1e3,attack:15,hp:120,class:"tank"},{id:"shield_aegis",name:"Aegis Wall",cost:2e3,attack:25,hp:250,class:"tank"},{id:"shield_void",name:"Void Bulwark",cost:5e3,attack:40,hp:400,class:"tank"},{id:"shield_unbreakable",name:"The Unbreakable",cost:7500,attack:60,hp:600,class:"tank",tdWinsRequired:5}],armors:[{id:"armor_leather",name:"Leather Armor",cost:500,hp:50},{id:"armor_plate",name:"Steel Plate",cost:1e3,hp:120},{id:"armor_regen",name:"Trollblood Mail",cost:2e3,hp:200},{id:"armor_aegis",name:"Aegis of the Immortal",cost:5e3,hp:350},{id:"armor_dragonscale",name:"Dragonscale Mail",cost:7500,hp:500,tdWinsRequired:5}],attacks:[{id:"attack_normal",name:"Normal Attack",power:10,class:"all"},{id:"warrior_power_strike",name:"Power Strike",cost:70,class:"warrior",maxUses:2,effect:{damageMultiplier:2.5},range:1.5},{id:"warrior_whirlwind",name:"Whirlwind",cost:120,class:"warrior",maxUses:2,effect:{damageMultiplier:.8,aoe:1.5},range:1.5},{id:"mage_lesser_heal",name:"Lesser Heal",cost:20,class:"mage",maxUses:2,effect:{heal:25},isSelfTarget:!0},{id:"mage_fireball",name:"Fireball",cost:100,class:"mage",maxUses:2,effect:{damageMultiplier:1.5,aoe:1.5},range:4},{id:"archer_piercing_shot",name:"Piercing Shot",cost:60,class:"archer",maxUses:2,effect:{damageMultiplier:1.2,armorPiercing:.5},range:5},{id:"archer_crippling_shot",name:"Crippling Shot",cost:40,class:"archer",maxUses:2,effect:{damageMultiplier:.5,status:{type:"crippled",duration:1}},range:5},{id:"tank_shield_bash",name:"Shield Bash",cost:30,class:"tank",maxUses:2,effect:{damageMultiplier:.7,status:{type:"stunned",duration:1,chance:.8}},range:1.5},{id:"tank_hunker_down",name:"Hunker Down",cost:50,class:"tank",maxUses:2,effect:{status:{type:"hunkered",duration:99}},isSelfTarget:!0}],temp_potions:[{id:"potion_strength",name:"Potion of Strength",cost:75,effect:{attack:15},duration:3,type:"temp_potion"},{id:"potion_fortitude",name:"Potion of Fortitude",cost:75,effect:{hp:50},duration:3,type:"temp_potion"},{id:"potion_wealth",name:"Potion of Wealth",cost:100,effect:{goldBonus:.1},duration:3,type:"temp_potion"}],bestiary:[{id:"goblin",name:"Goblin Scavenger",icon:(0,ez.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"w-8 h-8 text-green-500 drop-shadow-lg",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M3.5 5.5a5.5 5.5 0 1111 0a2 2 0 00-11 0zm1.75 3a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5zM9 13.5a1 1 0 112 0a1 1 0 01-2 0zm-3.5-1a1 1 0 112 0a1 1 0 01-2 0zm7 0a1 1 0 112 0a1 1 0 01-2 0z"})})}),description:"Vicious and cowardly creatures that swarm the upper floors of the dungeon. They often travel in packs, overwhelming unsuspecting adventurers with sheer numbers.",abilities:"A standard melee attacker. Weak alone, but can be dangerous in groups. Not particularly tough, but quick to strike if you get too close."},{id:"skeleton",name:"Skeleton",icon:(0,ez.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"w-8 h-8 text-gray-200 drop-shadow-lg",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M10 2a5 5 0 00-5 5v2a1 1 0 001 1h8a1 1 0 001-1V7a5 5 0 00-5-5zm-2.5 6a1.5 1.5 0 113 0a1.5 1.5 0 01-3 0zm5 0a1.5 1.5 0 113 0a1.5 1.5 0 01-3 0zM10 13a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1z"})})}),description:"The reanimated bones of fallen warriors, cursed to guard the dungeon for eternity. They feel no pain and know no fear, marching endlessly through the stone halls.",abilities:"Slightly tougher and stronger than a Goblin. Their bony forms make them resilient, but they are slow to react to threats."},{id:"keyholder_orc",name:"Orc Keywarden",icon:(0,ez.jsx)("div",{className:"w-12 h-12 flex-shrink-0 flex items-center justify-center",children:(0,ez.jsxs)("div",{className:"relative w-9 h-9",children:[(0,ez.jsx)("svg",{viewBox:"0 0 24 24",className:"w-full h-full text-emerald-700 drop-shadow-lg",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm-1 15v-4H9v-2h2V9h2v2h2v2h-2v4h-2z"})}),(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"absolute -top-1 -right-1 w-5 h-5 text-yellow-400",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M15.5 2.5a2.5 2.5 0 00-5 0V6h-2V2.5a.5.5 0 00-1 0V6H5V5a1 1 0 10-2 0v1h-.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5H3v1H2.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5H3v1a1 1 0 102 0v-1h2.5a2.5 2.5 0 002.5-2.5V8.83a3.51 3.51 0 002.5-2.5V2.5z"})})]})}),description:"A hulking Orc chosen for its brute strength and unwavering loyalty. It is entrusted with the key that unlocks the passage to the deeper levels of the dungeon.",abilities:"A powerful mini-boss for each floor. Has significantly more health and attack power. Defeating it is the only way to acquire the key."}]},b=(0,t.useMemo)(()=>{var e,t;if(!d||!d.playerClass)return{maxHp:100,attack:10};const n=v.classes[d.playerClass],i=[...v.weapons,...v.wands,...v.bows,...v.shields].find(e=>e.id===d.equippedWeapon),a=v.armors.find(e=>e.id===d.equippedArmor),o=r.currentPet?s(r.currentPet.id):null;let l=0,c=0;d.player.activeEffects&&d.player.activeEffects.forEach(e=>{"potion_strength"===e.id&&(l+=15),"potion_fortitude"===e.id&&(c+=50),"hunker_down"===e.id&&(c+=100)});return{maxHp:(n.startingHp||100)+((null===a||void 0===a?void 0:a.hp)||0)+((null===i||void 0===i?void 0:i.hp)||0)+((null===(e=d.boughtStats)||void 0===e?void 0:e.hp)||0)+c,attack:10+((null===i||void 0===i?void 0:i.attack)||0)+(50*(null===o||void 0===o?void 0:o.xpBuff)||0)+((null===(t=d.boughtStats)||void 0===t?void 0:t.attack)||0)+l}},[d,r.currentPet,s,v]);(0,t.useEffect)(()=>{var e;if(!d||!d.playerClass)return;const t=b,{player:n}=d,r=(null===(e=n.activeEffects)||void 0===e?void 0:e.find(e=>"tank_hunker_down"===e.id))?100:0,i=t.maxHp+r;if(n.maxHp!==i||n.attack!==t.attack){const e=i-(n.maxHp||v.classes[d.playerClass].startingHp),r=c(c({},n),{},{maxHp:i,attack:t.attack,hp:Math.min(i,n.hp+e)});h(e=>c(c({},e),{},{player:r}))}},[b,d]);d&&v.classes[d.playerClass];const w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-slate-300";h(n=>c(c({},n),{},{log:[{message:e,style:t},...(n.log||[]).slice(0,4)]}))},x=()=>{const e=c(c({},d),{},{gameOver:!0,log:[{message:"You have been defeated! Your adventure ends here.",style:"text-red-500 font-bold"},...(d.log||[]).slice(0,4)]});h(e),y(e)},_=e=>{const t=10;let n={},r=[];for(let c=0;c<t;c++)for(let e=0;e<t;e++)n["".concat(c,",").concat(e)]={type:"empty",visited:!1};for(let c=0;c<15;c++){const e=Math.floor(Math.random()*t),r=Math.floor(Math.random()*t);1===e&&1===r||(n["".concat(r,",").concat(e)]={type:"wall"})}const i=3+Math.floor(e/2),a=[{name:"Goblin",display:"\ud83d\udc79",hp:20,atk:5},{name:"Skeleton",display:"\ud83d\udc80",hp:35,atk:8}];for(let h=0;h<i;h++){let i,o;do{i=Math.floor(Math.random()*t),o=Math.floor(Math.random()*t)}while("empty"!==n["".concat(o,",").concat(i)].type);const s=a[Math.floor(Math.random()*a.length)],l=1+.5*Math.floor(e/3);r.push(c(c({id:"enemy_".concat(h)},s),{},{x:i,y:o,hp:Math.round(s.hp*l),maxHp:Math.round(s.hp*l),atk:Math.round(s.atk*l)})),n["".concat(o,",").concat(i)]={type:"enemy",enemyId:"enemy_".concat(h)}}let o,s;do{o=Math.floor(Math.random()*t),s=Math.floor(Math.random()*t)}while("empty"!==n["".concat(s,",").concat(o)].type);const l=1+.5*Math.floor(e/3);let u,d;r.push({id:"keyholder",name:"Keyholder Orc",display:"\ub369",hp:50*l,maxHp:50*l,atk:12*l,isKeyholder:!0,x:o,y:s}),n["".concat(s,",").concat(o)]={type:"enemy",enemyId:"keyholder"};do{u=Math.floor(Math.random()*t),d=Math.floor(Math.random()*t)}while("empty"!==n["".concat(d,",").concat(u)].type||1===u&&1===d);n["".concat(d,",").concat(u)]={type:"hatch"};for(let c=0;c<2;c++){let e,r;do{e=Math.floor(Math.random()*t),r=Math.floor(Math.random()*t)}while("empty"!==n["".concat(r,",").concat(e)].type);n["".concat(r,",").concat(e)]={type:"chest",opened:!1}}return n["1,1"]={type:"player",visited:!0},{newBoard:n,newEnemies:r}},k=(e,t)=>{if(d.gameOver||!d.playerClass)return;const n=d.board["".concat(t,",").concat(e)];if(f){if("enemy"===n.type){const e=d.enemies.find(e=>e.id===n.enemyId);e&&S(e)}else w("No enemy at that location. Attack cancelled.","text-yellow-400");return void p(null)}const i=Math.abs(e-d.player.x),o=Math.abs(t-d.player.y);if(0===i&&0===o)return void w("You wait a turn.");if(i>1||o>1)return void w("You can only move to adjacent tiles.");if("wall"===n.type)return void w("You can't move through a wall.");const s=d.player.moveCost||5;if(r.totalXP<s)return void w("Not enough XP to move (costs ".concat(s,")."),"text-red-400");let l=r.dungeon_gold||0;const u=c({},d.board);u["".concat(d.player.y,",").concat(d.player.x)]={type:"empty",visited:!0},u["".concat(t,",").concat(e)]={type:"player",visited:!0};let m=d.player.hp;const g=[];if(d.enemies.forEach(n=>{Math.hypot(n.x-e,n.y-t)<1.5&&(m-=n.atk,g.push({message:"The ".concat(n.name," hit you for ").concat(n.atk," damage."),style:"text-slate-300"}))}),m<=0)return void x();let y=c(c({},d),{},{player:c(c({},d.player),{},{x:e,y:t,hp:m}),board:u,log:[...g,...d.log||[]].slice(0,5)});if("chest"===n.type&&!n.opened){var k;let n=Math.floor(Math.random()*(20+5*d.floor))+10;if(null===(k=d.player.activeEffects)||void 0===k?void 0:k.find(e=>"potion_wealth"===e.id)){const e=Math.floor(.1*n);n+=e,y.log=[{message:"Potion of Wealth gave you an extra ".concat(e," gold!"),style:"text-yellow-300"},...y.log].slice(0,5)}l+=n,y.log=[{message:"You opened a chest and found ".concat(n," gold!"),style:"text-yellow-400 font-bold"},...y.log].slice(0,5),u["".concat(t,",").concat(e)].opened=!0}if("hatch"===n.type){if(d.player.hasKey)return void(()=>{const e=d.floor+1,{newBoard:t,newEnemies:n}=_(e),i=b;let o=(d.player.activeEffects||[]).map(e=>c(c({},e),{},{remainingFloors:e.remainingFloors-1})).filter(e=>e.remainingFloors>0),s=c({},d.player.abilityUses),l=[{message:"You descended to floor ".concat(e,". Your health is restored."),style:"text-slate-300"}];e%5===0&&(l.unshift({message:"You feel re-energized. Ability uses have been restored!",style:"text-cyan-400 font-bold"}),v.attacks.filter(e=>e.class===d.playerClass).forEach(e=>{s[e.id]=e.maxUses}));const u=c(c({},d),{},{floor:e,board:t,enemies:n,player:c(c({},d.player),{},{x:1,y:1,hp:i.maxHp,hasKey:!1,activeEffects:o,abilityUses:s}),log:l});h(u),a({dungeon_floor:Math.max(r.dungeon_floor||1,e),dungeon_state:u})})();y.log=[{message:"The hatch is locked. You need a key.",style:"text-yellow-400"},...y.log].slice(0,5)}h(y),a({totalXP:r.totalXP-s,dungeon_gold:l})},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"attack_normal";const n=v.attacks.find(e=>e.id===t);if(!n)return;const i="attack_normal"===t?d.player.attackCost:n.cost,o="attack_normal"===t?d.player.attackRange:n.range;if(d.gameOver)return;if(r.totalXP<i)return w("Not enough XP for ".concat(n.name," (costs ").concat(i,")."),"text-red-400"),void p(null);if("attack_normal"!==t&&(d.player.abilityUses[t]||0)<=0)return void w("No uses left for ".concat(n.name,"."),"text-yellow-400");if(Math.hypot(e.x-d.player.x,e.y-d.player.y)>o)return w("Target is out of range.","text-yellow-400"),void p(null);let s=r.dungeon_gold||0,l=!1;h(r=>{var i,a;let o=JSON.parse(JSON.stringify(r)),{enemies:u,board:d,player:h,log:f}=o;"attack_normal"!==t&&(h.abilityUses[t]=(h.abilityUses[t]||0)-1);const p=b.attack+(n.power||0),m=(null===(i=n.effect)||void 0===i?void 0:i.damageMultiplier)||1,g=Math.round(p*m),y=u.findIndex(t=>t.id===e.id);if(-1===y)return r;const v=(e,t)=>{var i;const a=u[e];if(a.hp-=g,f.unshift({message:"You hit ".concat(a.name," with ").concat(n.name," for ").concat(g," damage."),style:"text-slate-300"}),null!==(i=n.effect)&&void 0!==i&&i.status&&Math.random()<(n.effect.status.chance||1)&&(a.statusEffects=[...a.statusEffects||[],c({},n.effect.status)],f.unshift({message:"".concat(a.name," is ").concat(n.effect.status.type,"!"),style:"text-cyan-400"})),a.hp<=0){let e=Math.floor(Math.random()*(5+2*r.floor))+2*r.floor;return s+=e,f.unshift({message:"You defeated ".concat(a.name,"! It dropped ").concat(e," gold."),style:"text-green-400"}),a.isKeyholder&&(f.unshift({message:"You found a key!",style:"text-yellow-400 font-bold"}),h.hasKey=!0),d["".concat(a.y,",").concat(a.x)]={type:"empty",visited:!0},null}if(t){var o;if(!(null===(o=a.statusEffects)||void 0===o?void 0:o.some(e=>"stunned"===e.type||"crippled"===e.type))){const e=Math.max(1,Math.round(a.atk/2));h.hp-=e,f.unshift({message:"The ".concat(a.name," retaliates for ").concat(e," damage."),style:"text-orange-400"}),h.hp<=0&&(h.hp=0,l=!0)}}return a};let w=[];const x=v(y,!0);return x&&w.push(x),null!==(a=n.effect)&&void 0!==a&&a.aoe?(u.forEach((t,r)=>{if(t.id===e.id)return;if(Math.hypot(t.x-e.x,t.y-e.y)<=n.effect.aoe){const e=v(r,!1);e&&!w.some(t=>t.id===e.id)&&w.push(e)}else w.some(e=>e.id===t.id)||w.push(t)}),o.enemies=w):o.enemies=u.filter(t=>t.id!==e.id||t.hp>0),o.log=f.slice(0,5),o}),p(null),g(null),a({totalXP:r.totalXP-i,dungeon_gold:s}),l&&x()},E=(e,t,n)=>{const i=e.cost;if("xp"===n&&r.totalXP<i)return void o("Not enough XP!","error");if("gold"===n&&(r.dungeon_gold||0)<i)return void o("Not enough Gold!","error");const s=c({},d);let l={};switch(t){case"weapon":s.ownedWeapons.push(e.id),s.equippedWeapon=e.id;break;case"armor":s.ownedArmor.push(e.id),s.equippedArmor=e.id;break;case"attack":s.ownedAttacks.push(e.id);break;case"potion":s.potions=(s.potions||0)+1;break;case"temp_potion":{const t=s.player.activeEffects||[],n=t.findIndex(t=>t.id===e.id);n>-1?t[n].remainingFloors=e.duration:t.push({id:e.id,remainingFloors:e.duration}),s.player.activeEffects=t;break}}"xp"===n&&(l.totalXP=r.totalXP-i),"gold"===n&&(l.dungeon_gold=(r.dungeon_gold||0)-i),h(s),a(c(c({},l),{},{dungeon_state:s})),o("You bought ".concat(e.name,"!"),"info")};if(!d)return(0,ez.jsx)("div",{className:"text-center p-10 text-xl text-slate-400",children:"Loading Dungeon..."});if("class_selection"===d.phase)return(0,ez.jsxs)("div",{className:"text-center",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Choose Your Class"}),(0,ez.jsx)("p",{className:"text-slate-400 mb-8",children:"Your choice will last for this entire dungeon run."}),(0,ez.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:Object.entries(v.classes).map(e=>{let[t,n]=e;return(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700 flex flex-col items-center hover:bg-slate-800/80 transition-colors",children:[(0,ez.jsx)("span",{className:"text-6xl mb-4",children:n.icon}),(0,ez.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:n.name}),(0,ez.jsx)("p",{className:"text-slate-400 text-sm mb-4 flex-grow",children:n.description}),(0,ez.jsx)("button",{onClick:()=>(e=>{const t=v.classes[e],{newBoard:n,newEnemies:r}=_(1),i={};v.attacks.filter(t=>t.class===e).forEach(e=>{i[e.id]=e.maxUses});const o={x:1,y:1,hp:t.startingHp,maxHp:t.startingHp,attack:10,hasKey:!1,activeEffects:[],moveCost:t.moveCost,attackCost:t.attackCost,attackRange:t.attackRange,abilityUses:i},s=c(c({},Az()),{},{phase:"playing",playerClass:e,board:n,enemies:r,log:["You have entered the dungeon as a ".concat(t.name,"!")],player:o});h(s),a({dungeon_state:s})})(t),className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"Select"})]},t)})})]});return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Dungeon Crawler"}),(0,ez.jsxs)("p",{className:"text-slate-400",children:["Floor: ",d.floor," | Highest Floor: ",r.dungeon_floor||1]})]}),(0,ez.jsxs)("div",{className:"flex space-x-4",children:[(0,ez.jsx)("button",{onClick:()=>h(e=>c(c({},e),{},{shopOpen:!e.shopOpen,bestiaryOpen:!1})),className:"bg-purple-600 text-white px-5 py-2 rounded-lg hover:bg-purple-700",children:d.shopOpen?"Close Shop":"Open Shop"}),(0,ez.jsx)("button",{onClick:()=>h(e=>c(c({},e),{},{bestiaryOpen:!e.bestiaryOpen,shopOpen:!1})),className:"bg-yellow-600 text-white px-5 py-2 rounded-lg hover:bg-yellow-700",children:d.bestiaryOpen?"Close Bestiary":"Open Bestiary"}),(0,ez.jsx)("button",{onClick:l,className:"bg-red-600 text-white px-5 py-2 rounded-lg hover:bg-red-700",children:"Reset Dungeon"})]})]}),(0,ez.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,ez.jsx)("div",{className:"flex-grow",children:(0,ez.jsx)("div",{className:"p-2 bg-slate-900/50 border border-slate-700 rounded-lg inline-block",children:(()=>{const e=[],t={player:(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"w-8 h-8 text-blue-400 drop-shadow-lg",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M10 2a2.5 2.5 0 110 5a2.5 2.5 0 010-5zM5.121 12.121a5.002 5.002 0 018.758 0L15 13.25V18H5v-4.75l.121-.129z"})}),goblin:(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"w-8 h-8 text-green-500 drop-shadow-lg",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M3.5 5.5a5.5 5.5 0 1111 0a2 2 0 00-11 0zm1.75 3a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5zM9 13.5a1 1 0 112 0a1 1 0 01-2 0zm-3.5-1a1 1 0 112 0a1 1 0 01-2 0zm7 0a1 1 0 112 0a1 1 0 01-2 0z"})}),skeleton:(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"w-8 h-8 text-gray-200 drop-shadow-lg",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M10 2a5 5 0 00-5 5v2a1 1 0 001 1h8a1 1 0 001-1V7a5 5 0 00-5-5zm-2.5 6a1.5 1.5 0 113 0a1.5 1.5 0 01-3 0zm5 0a1.5 1.5 0 113 0a1.5 1.5 0 01-3 0zM10 13a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1z"})}),keyholder_orc:(0,ez.jsxs)("div",{className:"relative w-9 h-9",children:[(0,ez.jsx)("svg",{viewBox:"0 0 24 24",className:"w-full h-full text-emerald-700 drop-shadow-lg",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm-1 15v-4H9v-2h2V9h2v2h2v2h-2v4h-2z"})}),(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"absolute -top-1 -right-1 w-5 h-5 text-yellow-400 animate-pulse",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M15.5 2.5a2.5 2.5 0 00-5 0V6h-2V2.5a.5.5 0 00-1 0V6H5V5a1 1 0 10-2 0v1h-.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5H3v1H2.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5H3v1a1 1 0 102 0v-1h2.5a2.5 2.5 0 002.5-2.5V8.83a3.51 3.51 0 002.5-2.5V2.5z"})})]}),chest_closed:(0,ez.jsx)("svg",{viewBox:"0 0 20 20",className:"w-7 h-7 text-amber-500 drop-shadow-md",children:(0,ez.jsx)("path",{fill:"currentColor",d:"M2 6a2 2 0 012-2h12a2 2 0 012 2v2H2V6zM1 9v6a2 2 0 002 2h14a2 2 0 002-2V9H1zm8 2a1 1 0 112 0a1 1 0 01-2 0z"})}),chest_opened:(0,ez.jsxs)("svg",{viewBox:"0 0 20 20",className:"w-7 h-7 text-amber-600 drop-shadow-md",children:[(0,ez.jsx)("path",{fill:"currentColor",d:"M2 8a2 2 0 012-2h12a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8zm2-3a1 1 0 00-1 1v.5h14V6a1 1 0 00-1-1H4z"}),(0,ez.jsx)("circle",{cx:"10",cy:"11",r:"2",className:"text-yellow-300",fill:"currentColor"})]})};for(let n=0;n<10;n++){const r=[];for(let e=0;e<10;e++){const i=d.board["".concat(n,",").concat(e)]||{type:"empty"};let a=null,o="bg-slate-800/20";switch(i.visited&&(o="bg-slate-700/50"),i.type){case"player":a=t.player;break;case"wall":o="bg-slate-900 shadow-inner";break;case"hatch":const e=d.player.hasKey;a=(0,ez.jsx)("div",{className:"w-8 h-8 rounded-md transition-all duration-300 ".concat(e?"bg-yellow-600 shadow-[0_0_15px_rgba(250,204,21,0.7)]":"bg-purple-800"),children:(0,ez.jsx)("div",{className:"w-full h-full border-2 border-black/20 rounded-md"})});break;case"chest":a=i.opened?t.chest_opened:t.chest_closed;break;case"enemy":const n=d.enemies.find(e=>e.id===i.enemyId);n&&(a=n.isKeyholder?t.keyholder_orc:n.name.toLowerCase().includes("goblin")?t.goblin:n.name.toLowerCase().includes("skeleton")?t.skeleton:(0,ez.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-600"}))}r.push((0,ez.jsx)("div",{onClick:()=>k(e,n),className:"w-12 h-12 border border-slate-700/50 flex items-center justify-center transition-colors duration-200 ".concat(o," cursor-pointer hover:bg-slate-600/50"),children:a},"".concat(e,"-").concat(n)))}e.push((0,ez.jsx)("div",{className:"flex",children:r},n))}return e})()})}),(0,ez.jsxs)("div",{className:"w-full lg:w-96 flex-shrink-0",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl mb-4",children:[(0,ez.jsx)("h3",{className:"font-bold text-white",children:"Player Stats"}),(0,ez.jsxs)("p",{children:["HP: ",(0,ez.jsxs)("span",{className:"text-red-400 font-bold",children:[d.player.hp," / ",d.player.maxHp]})]}),(0,ez.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mt-1",children:(0,ez.jsx)("div",{className:"bg-red-600 h-2.5 rounded-full",style:{width:"".concat(d.player.hp/d.player.maxHp*100,"%")}})}),(0,ez.jsxs)("p",{children:["Attack: ",(0,ez.jsx)("span",{className:"text-yellow-400 font-bold",children:d.player.attack})," | Gold: ",(0,ez.jsx)("span",{className:"text-yellow-400 font-bold",children:r.dungeon_gold||0})]}),(0,ez.jsxs)("p",{children:["Pet: ",(0,ez.jsx)("span",{className:"font-semibold",children:(null===(n=r.currentPet)||void 0===n?void 0:n.name)||"None"})," ",d.player.hasKey&&(0,ez.jsx)("span",{className:"text-yellow-300 font-bold ml-4",children:"\ud83d\udd11 Key"})]}),d.player.activeEffects&&d.player.activeEffects.length>0&&(0,ez.jsxs)("div",{className:"mt-2 border-t border-slate-700 pt-2",children:[(0,ez.jsx)("h4",{className:"text-sm font-bold text-slate-300",children:"Active Effects:"}),(0,ez.jsx)("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:d.player.activeEffects.map(e=>{const t=v.temp_potions.find(t=>t.id===e.id);return(0,ez.jsxs)("span",{className:"bg-purple-600/50 text-purple-300 px-2 py-1 rounded-full",children:[null===t||void 0===t?void 0:t.name," (",e.remainingFloors," floors left)"]},e.id)})})]})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl mb-4",children:[(0,ez.jsx)("h3",{className:"font-bold text-white mb-2",children:"Actions"}),(0,ez.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ez.jsx)("button",{onClick:()=>p("attack_normal"),className:"bg-red-600 text-white p-2 rounded hover:bg-red-700 disabled:bg-slate-600",disabled:!!f||!!m,children:f?"Select Target...":"Attack (".concat(d.player.attackCost," XP)")}),(0,ez.jsxs)("button",{onClick:()=>{!d||d.potions<=0?w("You have no potions.","text-yellow-400"):h(e=>{const t=b;return c(c({},e),{},{potions:e.potions-1,player:c(c({},e.player),{},{hp:Math.min(t.maxHp,e.player.hp+50)}),log:[{message:"You used a potion and restored 50 HP.",style:"text-green-400"},...(e.log||[]).slice(0,4)]})})},className:"bg-green-600 text-white p-2 rounded hover:bg-green-700 disabled:bg-slate-600",disabled:d.potions<=0,children:["Use Potion (",d.potions||0,")"]}),v.attacks.filter(e=>e.class===d.playerClass).map(e=>{var t;const n=(null===(t=d.player.abilityUses)||void 0===t?void 0:t[e.id])||0,i=r.totalXP>=e.cost,o=n<=0||!i||!!f||!!m;return(0,ez.jsx)("button",{onClick:()=>{e.isSelfTarget?("mage_lesser_heal"===e.id&&(h(t=>c(c({},t),{},{player:c(c({},t.player),{},{hp:Math.min(t.player.maxHp,t.player.hp+e.effect.heal),abilityUses:c(c({},t.player.abilityUses),{},{[e.id]:n-1})}),log:[{message:"You cast Lesser Heal, restoring ".concat(e.effect.heal," HP."),style:"text-green-400"},...t.log].slice(0,5)})),a({totalXP:r.totalXP-e.cost})),"tank_hunker_down"===e.id&&(h(t=>c(c({},t),{},{player:c(c({},t.player),{},{abilityUses:c(c({},t.player.abilityUses),{},{[e.id]:n-1}),activeEffects:[...t.player.activeEffects||[],{id:e.id,remainingFloors:1}]}),log:[{message:"You hunker down, increasing your fortitude!",style:"text-blue-400"},...t.log].slice(0,5)})),a({totalXP:r.totalXP-e.cost}))):g(e.id)},className:"bg-indigo-600 text-white p-2 rounded hover:bg-indigo-700 disabled:bg-slate-600/50 disabled:cursor-not-allowed",disabled:o,children:m===e.id?"Select Target...":"".concat(e.name," (").concat(n,"/").concat(e.maxUses,")")},e.id)})]})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl",children:[(0,ez.jsx)("h3",{className:"font-bold text-white mb-2",children:"Game Log"}),(0,ez.jsx)("div",{className:"space-y-1 text-sm",children:(d.log||[]).map((e,t)=>(0,ez.jsx)("p",{className:e.style,children:e.message},t))})]})]})]}),d.gameOver&&(0,ez.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:(0,ez.jsxs)("div",{className:"bg-slate-800 p-8 rounded-lg text-center border border-red-500",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-red-400 mb-4",children:"Game Over!"}),(0,ez.jsxs)("p",{className:"text-slate-300 mb-6",children:["You were defeated on floor ",d.floor,"."]}),(0,ez.jsx)("button",{onClick:l,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Play Again"})]})}),d.shopOpen&&(0,ez.jsxs)("div",{className:"mt-6",children:[(0,ez.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Dungeon Shop"}),(0,ez.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg",children:[(0,ez.jsx)("h4",{className:"font-bold mb-2 text-white",children:"Gold Shop (Consumables)"}),(0,ez.jsx)("button",{onClick:()=>E({name:"Potion",cost:50},"potion","gold"),disabled:(r.dungeon_gold||0)<50,className:"w-full bg-yellow-600 p-2 rounded mb-2 hover:bg-yellow-700 disabled:bg-slate-600/50 disabled:cursor-not-allowed",children:"Buy Health Potion (50 Gold)"}),v.temp_potions.map(e=>(0,ez.jsxs)("button",{onClick:()=>E(e,"temp_potion","gold"),disabled:(r.dungeon_gold||0)<e.cost,className:"w-full bg-yellow-600 p-2 rounded mb-2 hover:bg-yellow-700 disabled:bg-slate-600/50 disabled:cursor-not-allowed",children:["Buy ",e.name," (",e.cost," Gold)"]},e.id))]}),(0,ez.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg",children:[(0,ez.jsxs)("h4",{className:"font-bold mb-2 text-white",children:["XP Shop (",d.playerClass," Weapons)"]}),(()=>{const e=d.playerClass;let t=[];return"warrior"===e?t=v.weapons:"mage"===e?t=v.wands:"archer"===e?t=v.bows:"tank"===e&&(t=v.shields),t.map(e=>{const t=d.ownedWeapons.includes(e.id),n=r.totalXP>=e.cost;return(0,ez.jsx)("button",{onClick:()=>E(e,"weapon","xp"),disabled:t||!n,className:"w-full p-2 rounded mb-2 font-semibold transition-colors text-center ".concat(t?"bg-green-800/60 text-green-400 cursor-default":n?"bg-indigo-600 text-white hover:bg-indigo-500":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.name," (").concat(e.cost," XP)")},e.id)})})()]}),(0,ez.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg",children:[(0,ez.jsx)("h4",{className:"font-bold mb-2 text-white",children:"XP Shop (Armor)"}),v.armors.map(e=>{const t=d.ownedArmor.includes(e.id),n=r.totalXP>=e.cost;return(0,ez.jsx)("button",{onClick:()=>E(e,"armor","xp"),disabled:t||!n,className:"w-full p-2 rounded mb-2 font-semibold transition-colors text-center ".concat(t?"bg-green-800/60 text-green-400 cursor-default":n?"bg-indigo-600 text-white hover:bg-indigo-500":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.name," (").concat(e.cost," XP)")},e.id)})]})]})]}),d.bestiaryOpen&&(0,ez.jsxs)("div",{className:"mt-6",children:[(0,ez.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Bestiary"}),(0,ez.jsx)("div",{className:"space-y-4",children:v.bestiary.map(e=>(0,ez.jsxs)("div",{className:"bg-slate-800/80 p-4 rounded-lg flex items-start gap-4",children:[e.icon,(0,ez.jsxs)("div",{className:"flex-grow",children:[(0,ez.jsx)("h4",{className:"font-bold text-xl text-white",children:e.name}),(0,ez.jsx)("p",{className:"text-slate-300 text-sm mt-1",children:e.description}),(0,ez.jsxs)("p",{className:"text-sm mt-2",children:[(0,ez.jsx)("strong",{className:"text-yellow-400",children:"Combat Info:"})," ",(0,ez.jsx)("span",{className:"text-slate-400",children:e.abilities})]})]})]},e.id))})]})]})},Tz=e=>{let{stats:n,updateStatsInFirestore:r,showMessageBox:i}=e;const[a,o]=(0,t.useState)(n.sciencePoints||0),s=(0,t.useRef)(0),l=1e12,u=e=>e<1e3?e.toFixed(1):e<1e6?"".concat((e/1e3).toFixed(2),"K"):e<1e9?"".concat((e/1e6).toFixed(2),"M"):e<1e12?"".concat((e/1e9).toFixed(2),"B"):"".concat((e/1e12).toFixed(2),"T"),{totalSPS:d,totalClickPower:h,prestigeBonus:f}=(0,t.useMemo)(()=>{let e=0,t=0;const r=1+.1*(n.prestigeLevel||0);for(const o in n.labEquipment){const r=wz[o],i=n.labEquipment[o]||0;if(i>0){let a=r.baseSPS,s=r.clickPower;n.labXpUpgrades&&n.labXpUpgrades[o]&&(a*=r.xpUpgrade.multiplier,s*=r.xpUpgrade.multiplier),e+=a*i,t+=s*i}}const i=e*r,a=t*r;return s.current=i,{totalSPS:i,totalClickPower:a,prestigeBonus:r}},[n.labEquipment,n.labXpUpgrades,n.prestigeLevel]);(0,t.useEffect)(()=>{const e=setInterval(()=>{o(e=>e+s.current)},1e3);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{const e=setInterval(()=>{r({sciencePoints:a,lastLogin:om()})},18e5);return()=>clearInterval(e)},[a,r]),(0,t.useEffect)(()=>{let e=!0;return(async()=>{if(n.lastLogin){const t=n.lastLogin.toDate(),r=new Date,a=Math.round((r-t)/1e3);if(a>10){const t=a*s.current;t>0&&e&&(o(e=>e+t),i("Welcome back! You earned ".concat(u(t)," Science Points while away."),"info",5e3))}}r({lastLogin:om()})})(),()=>{e=!1}},[n.lastLogin,r,i]);c({id:"avatar_dragon",cost:1e7},sz.avatars.find(e=>"avatar_dragon"===e.id)),c({id:"banner_galaxy",cost:5e7},sz.banners.find(e=>"banner_galaxy"===e.id)),c({id:"bg_aurora",cost:1e9},sz.backgrounds.find(e=>"bg_aurora"===e.id));return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"mb-6",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Science Lab"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Generate Science Points to unlock powerful upgrades and exclusive cosmetics."})]}),(0,ez.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ez.jsxs)("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-6 rounded-2xl shadow-xl text-center",children:[(0,ez.jsx)("h3",{className:"text-slate-400 text-lg",children:"Science Points"}),(0,ez.jsx)("p",{className:"text-5xl font-bold text-cyan-400 my-2",children:u(a)}),(0,ez.jsxs)("p",{className:"text-green-400 font-semibold",children:[u(d)," per second"]}),(n.prestigeLevel||0)>0&&(0,ez.jsxs)("p",{className:"text-purple-400 font-semibold text-sm mt-1",children:["Prestige Bonus: +",(100*(f-1)).toFixed(0),"%"]})]}),(0,ez.jsxs)("div",{onClick:()=>{o(e=>e+h)},className:"bg-slate-800/50 p-6 rounded-2xl shadow-xl text-center flex-grow flex flex-col justify-center items-center cursor-pointer hover:bg-slate-800/80 transition-colors",children:[(0,ez.jsx)("div",{className:"text-8xl animate-pulse",children:"\ud83e\uddea"}),(0,ez.jsx)("p",{className:"mt-4 text-xl font-bold text-white",children:"Click to Generate"}),(0,ez.jsxs)("p",{className:"text-cyan-300",children:["+",u(h)," points per click"]})]}),a>=l&&(0,ez.jsxs)("div",{className:"bg-purple-900/50 border-2 border-purple-600 p-6 rounded-2xl shadow-xl text-center",children:[(0,ez.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Prestige Available!"}),(0,ez.jsx)("p",{className:"text-purple-300 mb-4",children:"Reset your Science Lab progress to gain a permanent 10% boost to all future generation."}),(0,ez.jsx)("button",{onClick:()=>{if(a<l)return void i("You have not reached the required Science Points to prestige.","error");const e=(n.prestigeLevel||0)+1;r({sciencePoints:0,labEquipment:{beaker:0,microscope:0,bunsen_burner:0,computer:0,particle_accelerator:0,quantum_computer:0,manual_clicker:1},labXpUpgrades:{},prestigeLevel:e}),o(0),i("Prestige successful! You are now at Prestige Level ".concat(e," and gain a permanent +10% boost to all Science Point generation."),"info",6e3)},className:"w-full bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Prestige Now"})]})]}),(0,ez.jsx)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Lab Equipment"}),(0,ez.jsx)("div",{className:"space-y-3",children:Object.entries(wz).map(e=>{let[t,s]=e;const l=n.labEquipment[t]||0,d=s.baseCost*Math.pow(1.15,l);return(0,ez.jsxs)("div",{className:"bg-slate-800/70 p-3 rounded-lg flex items-center justify-between gap-4",children:[(0,ez.jsxs)("div",{className:"flex-1",children:[(0,ez.jsxs)("h4",{className:"font-bold text-white",children:[s.name," ",(0,ez.jsxs)("span",{className:"text-sm text-slate-400",children:["(Owned: ",l,")"]})]}),(0,ez.jsxs)("p",{className:"text-xs text-cyan-400",children:[s.baseSPS>0&&"+".concat(u(s.baseSPS*(n.labXpUpgrades&&n.labXpUpgrades[t]?2:1)*f)," SPS each"),s.clickPower>0&&"+".concat(u(s.clickPower*(n.labXpUpgrades&&n.labXpUpgrades[t]?2:1)*f)," Click Power each")]})]}),(0,ez.jsxs)("div",{className:"flex items-center gap-2",children:[!n.labXpUpgrades[t]&&(0,ez.jsxs)("button",{onClick:()=>(e=>{const t=wz[e];if(n.totalXP>=t.xpUpgrade.cost&&(!n.labXpUpgrades||!n.labXpUpgrades[e])){const a=c(c({},n.labXpUpgrades||{}),{},{[e]:!0});r({totalXP:n.totalXP-t.xpUpgrade.cost,labXpUpgrades:a}),i("".concat(t.name," production doubled!"),"info")}})(t),disabled:n.totalXP<s.xpUpgrade.cost,className:"text-xs bg-purple-600 text-white px-3 py-2 rounded-md hover:bg-purple-700 disabled:bg-slate-600 disabled:cursor-not-allowed",children:["2x with ",s.xpUpgrade.cost," XP"]}),(0,ez.jsxs)("button",{onClick:()=>(e=>{const t=wz[e],i=n.labEquipment[e]||0,s=t.baseCost*Math.pow(1.15,i);if(a>=s){const t=a-s;o(t);const l=c(c({},n.labEquipment),{},{[e]:i+1});r({sciencePoints:t,labEquipment:l})}})(t),disabled:a<d,className:"text-sm bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:bg-slate-600 disabled:cursor-not-allowed w-32",children:["Buy: ",u(d)]})]})]},t)})})]})})]})]})},Cz=e=>{let{stats:n,updateStatsInFirestore:r,showMessageBox:i,onResetGame:a,updateTowerDefenseState:o,getFullCosmeticDetails:s}=e;const[l,u]=(0,t.useState)(1),[d,h]=(0,t.useState)({selectedTile:null,selectedTower:null,projectiles:[],shopOpen:!1,waveInProgress:!1,enemies:[],towers:[]}),{td_wave:f=0,td_castleHealth:p=5,td_towers:m=[],td_path:g=[],td_gameOver:y=!1,td_gameWon:v=!1,td_wins:b=0,td_unlockedTowers:w=[],td_towerUpgrades:x={}}=n,[_,k]=(0,t.useState)(p),S=(0,t.useRef)(g),E=(0,t.useRef)(f),T=(0,t.useRef)(b),C=(0,t.useRef)(_);(0,t.useEffect)(()=>{C.current=_},[_]),(0,t.useEffect)(()=>{0===f&&k(p)},[f,p]);const N={free:[{id:"archer",name:"Archer",cost:100,damage:3,range:5,attackSpeed:1},{id:"cannon",name:"Cannon",cost:200,damage:5,range:4,attackSpeed:.5},{id:"icemage",name:"Ice Mage",cost:500,damage:2,range:5,attackSpeed:1,slow:.5},{id:"barracks",name:"Barracks",cost:800,damage:0,range:0,attackSpeed:0,spawnRate:5},{id:"ballista",name:"Ballista",cost:1e3,damage:10,range:6,attackSpeed:.3}],unlockable:[{id:"fire",name:"Fire Tower",cost:800,damage:7,range:6,attackSpeed:1.2,dot:1},{id:"tesla",name:"Tesla",cost:900,damage:7,range:6,attackSpeed:1.5,chain:3},{id:"poison",name:"Poison Tower",cost:1e3,damage:2,range:5,attackSpeed:1.2,poison:10},{id:"sniper",name:"Sniper",cost:1500,damage:20,range:8,attackSpeed:.2},{id:"dragon",name:"Dragon",cost:2e3,damage:.5,range:6,attackSpeed:50,aoe:2}],dungeon_unlockable:[{id:"dungeoncannon",name:"Dungeon Cannon",cost:1500,damage:25,range:5,attackSpeed:.4,floorRequired:10,aoe:1},{id:"crystalspire",name:"Crystal Spire",cost:2200,damage:40,range:7,attackSpeed:.2,floorRequired:20}]},P={archer:[{id:"archer_damage",name:"Sharper Arrows",cost:300,effect:{damage:7}},{id:"archer_range",name:"Longbow",cost:450,effect:{range:7}},{id:"archer_speed",name:"Quick Draw",cost:520,effect:{attackSpeed:1.5}}],cannon:[{id:"cannon_damage",name:"Bigger Cannonballs",cost:500,effect:{damage:13}},{id:"cannon_aoe",name:"Explosive Shells",cost:200,effect:{aoe:1}},{id:"cannon_speed",name:"Auto-loader",cost:180,effect:{attackSpeed:.8}}],icemage:[{id:"icemage_slow",name:"Deeper Freeze",cost:400,effect:{slow:.65}},{id:"icemage_damage",name:"Ice Shards",cost:250,effect:{damage:6}},{id:"icemage_aoe",name:"Frost Nova",cost:500,effect:{aoe:.5}}],barracks:[{id:"barracks_spawnRate",name:"Reinforcements",cost:350,effect:{spawnRate:-2}},{id:"barracks_soldierDamage",name:"Forged Blades",cost:300,effect:{soldierDamage:2}},{id:"barracks_soldierHealth",name:"Iron Mail",cost:300,effect:{soldierHealth:10}}],ballista:[{id:"ballista_damage",name:"Heavy Bolts",cost:400,effect:{damage:22}},{id:"ballista_range",name:"Eagle-Eye Scope",cost:350,effect:{range:8}},{id:"ballista_pierce",name:"Penetrating Shots",cost:600,effect:{pierce:2}}],fire:[{id:"fire_dot",name:"Wildfire",cost:450,effect:{dot:3}},{id:"fire_damage",name:"Combustion",cost:350,effect:{damage:12}},{id:"fire_aoe",name:"Fireball",cost:550,effect:{aoe:1.5}}],tesla:[{id:"tesla_chain",name:"Superconductor",cost:600,effect:{chain:5}},{id:"tesla_speed",name:"Overcharge",cost:500,effect:{attackSpeed:3}},{id:"tesla_damage",name:"High Voltage",cost:450,effect:{damage:11}}],poison:[{id:"poison_damage",name:"Virulent Toxin",cost:500,effect:{poison:25}},{id:"poison_slow",name:"Debilitating Poison",cost:400,effect:{slow:.3}},{id:"poison_aoe",name:"Noxious Fumes",cost:600,effect:{aoe:1}}],sniper:[{id:"sniper_damage",name:".50 Caliber",cost:800,effect:{damage:45}},{id:"sniper_range",name:"Advanced Scope",cost:600,effect:{range:12}},{id:"sniper_cripple",name:"Crippling Shot",cost:900,effect:{crippleChance:.2,crippleDuration:1}}],dragon:[{id:"dragon_damage",name:"Blue Flame",cost:1200,effect:{damage:1}},{id:"dragon_aoe",name:"Inferno Breath",cost:1500,effect:{aoe:3}},{id:"dragon_fear",name:"Terrifying Roar",cost:2e3,effect:{fearChance:.1}}],dungeoncannon:[{id:"dungeoncannon_gold",name:"Gilded Shot",cost:600,effect:{goldBonus:.15}},{id:"dungeoncannon_stun",name:"Cave-In",cost:750,effect:{stunChance:.2,stunDuration:1.5}},{id:"dungeoncannon_damage",name:"Dungeon Keeper's Wrath",cost:850,effect:{damage:35}}],crystalspire:[{id:"crystalspire_chain",name:"Prismatic Shard",cost:700,effect:{chain:3,chainDamageFalloff:.3}},{id:"crystalspire_aura",name:"Energize",cost:800,effect:{auraAttackSpeed:1.2,auraRange:5}},{id:"crystalspire_range",name:"Crystalline Lens",cost:650,effect:{range:10}}]},O={normal:[{id:"goblin",name:"Goblin",health:10,speed:.1},{id:"shieldbearer",name:"Shieldbearer",health:20,speed:.08,armor:2},{id:"runner",name:"Runner",health:5,speed:.5},{id:"healer",name:"Healer",health:15,speed:.1,heal:2},{id:"flyer",name:"Flyer",health:12,speed:.4,flying:!0}],juggernaut:[{id:"ogre",name:"Ogre",health:100,speed:.08},{id:"siege_engine",name:"Siege Engine",health:150,speed:.01},{id:"necromancer",name:"Necromancer",health:80,speed:.2,spawn:2},{id:"dragon",name:"Dragon",health:200,speed:.08,flying:!0}]},A={dragon:{castleHealth:1},owl:{attackSpeed:.1},squirrel:{sellRefund:.15}},j=Array(10).fill().map(()=>Array(10).fill(null)),I=()=>{var e;if(!d.selectedTile)return;const t=m.findIndex(e=>e.x===d.selectedTile.x&&e.y===d.selectedTile.y);if(-1===t)return;const i=m[t],a=Math.floor(i.cost*((null===(e=A.squirrel)||void 0===e?void 0:e.sellRefund)||.15));r({totalXP:n.totalXP+a,td_towers:m.filter((e,n)=>n!==t)}),h(e=>c(c({},e),{},{selectedTile:null,selectedTower:null}))},D=e=>{const t=[];if(e%10===0){const n=O.juggernaut[Math.min(Math.floor(e/10)-1,O.juggernaut.length-1)];t.push(c(c({},n),{},{id:"".concat(n.id,"_").concat(Date.now()),health:n.health*(1+e/20),x:0,y:0,progress:0}))}else for(let n=0;n<5+2*e;n++){const r=O.normal[Math.floor(Math.random()*O.normal.length)];t.push(c(c({},r),{},{id:"".concat(r.id,"_").concat(n,"_").concat(Date.now()),health:r.health*(1+e/50),x:0,y:0,progress:.2*-n}))}return t};(0,t.useEffect)(()=>{S.current=g,E.current=f,T.current=b},[g,f,b]),(0,t.useEffect)(()=>{if(!d.waveInProgress)return;const e={current:0},t=setInterval(()=>{h(t=>{if(!t.waveInProgress)return t;let n=(t.enemies||[]).map(t=>{const n=t.progress+.1*t.speed*l;if(n>=1)return e.current++,null;const r=S.current,i=Math.min(Math.floor(n*(r.length-1)),r.length-1),a=r[Math.max(0,i)];return c(c({},t),{},{progress:n,x:a.x,y:a.y})}).filter(Boolean),r=[...t.projectiles.filter(e=>e.expires>Date.now())],a=[...n];const s=t.towers.map(e=>{if(Date.now()-e.lastAttack>=1e3/e.attackSpeed){const t=a.findIndex(t=>Math.hypot(t.x-e.x,t.y-e.y)<=e.range&&t.progress>=0);if(-1!==t){const n=a[t];return r.push({id:"p_".concat(Date.now(),"_").concat(Math.random()),from:{x:e.x,y:e.y},to:{x:n.x,y:n.y},expires:Date.now()+300}),a[t]=c(c({},n),{},{health:n.health-e.damage,justHit:!0}),c(c({},e),{},{lastAttack:Date.now()})}}return e}),u=a.filter(e=>e.health>0),d=C.current-e.current,h=d<=0,f=E.current>=50&&0===u.length&&!h,p=!h&&!f&&t.enemies.length>0&&0===u.length;if(h||f||p){k(d);let n={};return(h||f||E.current>0&&E.current%10===0)&&(e.current>0&&(n.td_castleHealth=d),h&&(n.td_gameOver=!0),f&&(n.td_gameWon=!0,n.td_wins=T.current+1),Object.keys(n).length>0&&(o(n),i("Progress saved to server on wave ".concat(E.current,"."),"info"))),c(c({},t),{},{waveInProgress:!1,enemies:[],towers:[]})}return c(c({},t),{},{enemies:u,projectiles:r,towers:s})})},100);return()=>clearInterval(t)},[d.waveInProgress,o]);const M=n.currentPet&&A[n.currentPet.id.split("_")[0]]||{},R=e=>{var t,r;const i=e.split("_")[0],a=null===(t=n.equippedItems)||void 0===t||null===(r=t.tdSkins)||void 0===r?void 0:r[i];if(a){const e=s(a,"td_skins");if(e)return e.display}return{archer:"\ud83c\udff9",cannon:"\ud83d\udca3",icemage:"\u2744\ufe0f",barracks:"\ud83d\udee1\ufe0f",ballista:"\ud83c\udfaf",fire:"\ud83d\udd25",tesla:"\u26a1",poison:"\u2620\ufe0f",sniper:"\ud83c\udfaf",dragon:"\ud83d\udc09",dungeoncannon:"\ud83c\udf0b",crystalspire:"\ud83d\udc8e"}[i]||"\u2753"},L=e=>{var t,r;const i=e.split("_")[0],a=null===(t=n.equippedItems)||void 0===t||null===(r=t.tdSkins)||void 0===r?void 0:r[i];if(a){const e=s(a,"td_skins");if(e)return e.display}return{goblin:"\ud83d\udc79",shieldbearer:"\ud83d\udee1\ufe0f",runner:"\ud83c\udfc3",healer:"\ud83d\udc89",flyer:"\ud83e\udd87",ogre:"\ud83d\udc79",siege_engine:"\ud83c\udfd7\ufe0f",necromancer:"\ud83e\uddd9",dragon:"\ud83d\udc09"}[i]||"\u2753"};return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Tower Defense"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Use your XP to build towers and defend your castle!"})]}),(0,ez.jsxs)("div",{className:"flex space-x-4",children:[(0,ez.jsx)("button",{onClick:()=>h(e=>c(c({},e),{},{shopOpen:!e.shopOpen})),className:"bg-purple-600 text-white px-5 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:d.shopOpen?"Close Shop":"Open Shop"}),(y||v)&&(0,ez.jsx)("button",{onClick:a,className:"bg-green-600 text-white px-5 py-2 rounded-lg hover:bg-green-700",children:v?"Play Again":"Try Again"})]})]}),(0,ez.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,ez.jsxs)("div",{className:"flex-grow",children:[(0,ez.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,ez.jsx)("span",{className:"text-slate-400",children:"Wave:"})," ",(0,ez.jsxs)("span",{className:"font-bold text-white",children:[f,"/50"]})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,ez.jsx)("span",{className:"text-slate-400",children:"Health:"})," ",(0,ez.jsxs)("span",{className:"font-bold text-red-400",children:[_,"/5"]})]}),"            ",(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,ez.jsx)("span",{className:"text-slate-400",children:"XP:"})," ",(0,ez.jsx)("span",{className:"font-bold text-yellow-400",children:n.totalXP})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center",children:[(0,ez.jsx)("span",{className:"text-slate-400",children:"Wins:"})," ",(0,ez.jsx)("span",{className:"font-bold text-green-400",children:b})]})]}),(0,ez.jsxs)("div",{className:"p-2 bg-slate-900/50 border border-slate-700 rounded-lg inline-block relative",children:[j.map((e,t)=>(0,ez.jsx)("div",{className:"flex",children:e.map((e,n)=>{var r,i;return(0,ez.jsx)("div",{onClick:()=>((e,t)=>{if(d.waveInProgress||y||v)return;if(g.some(n=>n.x===e&&n.y===t))return;const n=m.find(n=>n.x===e&&n.y===t);h(r=>c(c({},r),{},{selectedTile:{x:e,y:t},selectedTower:n||null}))})(n,t),className:"w-10 h-10 border border-slate-600 flex items-center justify-center relative ".concat(g.some(e=>e.x===n&&e.y===t)?"bg-slate-700":"bg-slate-800"," ").concat((null===(r=d.selectedTile)||void 0===r?void 0:r.x)===n&&(null===(i=d.selectedTile)||void 0===i?void 0:i.y)===t?"ring-2 ring-indigo-500":""),children:m.find(e=>e.x===n&&e.y===t)&&(0,ez.jsx)("div",{className:"text-lg",children:R(m.find(e=>e.x===n&&e.y===t).id)})},n)})},t)),(0,ez.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[(d.enemies||[]).map(e=>{if(e.progress<0)return null;const t=40*e.y+20,n=40*e.x+20,r=e.id.split("_")[0],i=O.normal.find(e=>e.id===r)||O.juggernaut.find(e=>e.id===r),a=i?i.health:10;return(0,ez.jsxs)("div",{className:"absolute z-10 ".concat(e.justHit?"enemy-hit-animation":""),style:{top:"".concat(t,"px"),left:"".concat(n,"px"),transform:"translate(-50%, -50%)"},children:[(0,ez.jsx)("div",{className:"text-lg",children:L(e.id)}),(0,ez.jsx)("div",{className:"absolute -bottom-2 left-0 right-0 h-1 w-6 mx-auto bg-slate-600",children:(0,ez.jsx)("div",{className:"h-full bg-red-500",style:{width:"".concat(e.health/a*100,"%")}})})]},e.id)}),d.projectiles.map(e=>(0,ez.jsx)(Sz,{from:e.from,to:e.to},e.id))]})]}),(0,ez.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,ez.jsx)("button",{onClick:()=>{if(d.waveInProgress||y||v)return;const e=f+1,t=D(e);o({td_wave:e}),h(e=>c(c({},e),{},{waveInProgress:!0,enemies:t,towers:[...m]}))},disabled:d.waveInProgress||y||v,className:"flex-grow px-4 py-3 rounded-lg text-lg font-bold transition-colors ".concat(d.waveInProgress||y||v?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:d.waveInProgress?"Wave In Progress":0===f?"Start Wave 1":"Start Wave ".concat(f+1)}),(0,ez.jsxs)("button",{onClick:()=>u(e=>1===e?2:1),className:"w-24 bg-slate-700 text-white font-bold rounded-lg hover:bg-slate-600",children:["SPEED x",l]})]})]}),(0,ez.jsx)("div",{className:"w-full lg:w-80 flex-shrink-0",children:(0,ez.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 p-4 rounded-2xl sticky top-6",children:[(0,ez.jsx)("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:d.selectedTile&&!m.some(e=>e.x===d.selectedTile.x&&e.y===d.selectedTile.y)?"Build Tower":d.selectedTile?"Tower Control":"Select a Tile"}),(()=>{if(!d.selectedTile)return null;const e=m.find(e=>e.x===d.selectedTile.x&&e.y===d.selectedTile.y);if(e)return(0,ez.jsxs)("div",{className:"text-white",children:[(0,ez.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.name}),(0,ez.jsxs)("p",{children:["Damage: ",e.damage]}),(0,ez.jsxs)("p",{children:["Range: ",e.range]}),(0,ez.jsxs)("p",{children:["Attack Speed: ",e.attackSpeed,"/s"]}),(0,ez.jsxs)("div",{className:"mt-4",children:[(0,ez.jsx)("h4",{className:"font-bold mb-2",children:"Upgrades"}),(P[e.id.split("_")[0]]||[]).map(t=>{var a;const o=null===(a=x[e.id])||void 0===a?void 0:a.includes(t.id);return(0,ez.jsxs)("div",{className:"mb-2 p-2 bg-slate-700/50 rounded",children:[(0,ez.jsx)("p",{className:"font-medium",children:t.name}),(0,ez.jsxs)("p",{className:"text-sm text-slate-400",children:["Cost: ",t.cost," XP"]}),(0,ez.jsx)("button",{onClick:()=>((e,t)=>{if(n.totalXP<t.cost)return void i("Not enough XP for this upgrade!","error");const a=m.map(n=>n.id!==e?n:c(c({},n),t.effect)),o=c(c({},x),{},{[e]:[...x[e]||[],t.id]});r({totalXP:n.totalXP-t.cost,td_towers:a,td_towerUpgrades:o}),i("Upgraded tower with ".concat(t.name,"!"),"info")})(e.id,t),disabled:o||n.totalXP<t.cost,className:"mt-1 px-2 py-1 text-sm rounded w-full ".concat(o?"bg-green-800":n.totalXP>=t.cost?"bg-indigo-600 hover:bg-indigo-700":"bg-slate-600 text-slate-400"),children:o?"Purchased":"Buy Upgrade"})]},t.id)})]}),(0,ez.jsxs)("button",{onClick:I,className:"mt-2 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 w-full",children:["Sell for ",Math.floor(e.cost*(M.sellRefund||.15))," XP"]})]});const t=[...N.free,...w.map(e=>N.unlockable.find(t=>t.id===e)).filter(Boolean),...N.dungeon_unlockable.filter(e=>(n.dungeon_floor||0)>=e.floorRequired)];return(0,ez.jsxs)("div",{className:"text-white",children:[(0,ez.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Select Tower"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 gap-2",children:t.map(e=>(0,ez.jsxs)("button",{onClick:()=>(e=>{if(!d.selectedTile||n.totalXP<e.cost)return;const t=c(c({},e),{},{id:"".concat(e.id,"_").concat(Date.now()),x:d.selectedTile.x,y:d.selectedTile.y,lastAttack:0});r({totalXP:n.totalXP-e.cost,td_towers:[...m,t]}),h(e=>c(c({},e),{},{selectedTile:null,selectedTower:null}))})(e),disabled:n.totalXP<e.cost,className:"p-2 rounded-md flex flex-col items-center ".concat(n.totalXP<e.cost?"bg-slate-700 text-slate-500":"bg-slate-700 hover:bg-slate-600"),children:[(0,ez.jsx)("span",{className:"text-2xl",children:R(e.id)}),(0,ez.jsx)("span",{children:e.name}),(0,ez.jsxs)("span",{className:"text-sm text-yellow-400",children:[e.cost," XP"]})]},e.id))})]})})()]})})]}),y&&(0,ez.jsxs)("div",{className:"mt-4 p-4 bg-red-500/30 text-red-300 border border-red-500 rounded-lg",children:[(0,ez.jsx)("p",{className:"font-bold text-lg",children:"Game Over!"}),(0,ez.jsxs)("p",{children:["Your castle was destroyed on wave ",f,"."]})]}),v&&(0,ez.jsxs)("div",{className:"mt-4 p-4 bg-green-500/30 text-green-300 border border-green-500 rounded-lg",children:[(0,ez.jsx)("p",{className:"font-bold text-lg",children:"Victory!"}),(0,ez.jsx)("p",{children:"You successfully defended your castle against all 50 waves!"})]}),d.shopOpen&&(0,ez.jsxs)("div",{className:"mt-6",children:[(0,ez.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Shop"}),(0,ez.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"unlock_fire",name:"Unlock Fire Tower",cost:500,winsRequired:5,unlocks:"fire"},{id:"unlock_tesla",name:"Unlock Tesla",cost:800,winsRequired:8,unlocks:"tesla"},{id:"unlock_poison",name:"Unlock Poison Tower",cost:650,winsRequired:6,unlocks:"poison"},{id:"unlock_sniper",name:"Unlock Sniper",cost:1e3,winsRequired:10,unlocks:"sniper"},{id:"unlock_dragon",name:"Unlock Dragon",cost:2e3,winsRequired:15,unlocks:"dragon"}].map(e=>(0,ez.jsxs)("div",{className:"p-4 bg-slate-800/80 rounded-lg shadow-lg border border-slate-700",children:[(0,ez.jsx)("h4",{className:"font-bold text-white",children:e.name}),(0,ez.jsxs)("p",{className:"text-slate-400 text-sm",children:["Cost: ",e.cost," XP | Wins Required: ",e.winsRequired]}),(0,ez.jsx)("button",{onClick:()=>(e=>{n.totalXP<e.cost||b<e.winsRequired||(r({totalXP:n.totalXP-e.cost,td_unlockedTowers:[...w,e.unlocks]}),i("Unlocked ".concat(e.name,"!"),"info"))})(e),disabled:w.includes(e.unlocks)||n.totalXP<e.cost||b<e.winsRequired,className:"mt-2 w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(w.includes(e.unlocks)?"bg-green-500/20 text-green-400":n.totalXP<e.cost||b<e.winsRequired?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:w.includes(e.unlocks)?"Purchased":"Buy"})]},e.id))})]})]})},Nz=()=>(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"mb-6",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Why I Built This"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"The story and motivation behind the project."})]}),(0,ez.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl p-8 max-w-4xl mx-auto",children:(0,ez.jsxs)("div",{className:"text-slate-300 space-y-6 prose prose-invert max-w-none",children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"My Motivation"}),(0,ez.jsx)("p",{children:"[Your opening paragraph goes here. Explain the initial problem or the idea that sparked this project. What were you trying to solve for yourself or for others?]"}),(0,ez.jsx)("p",{children:"[Add another paragraph if needed to elaborate on the background or the challenges you faced before starting.]"}),(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"The Journey & The Goal"}),(0,ez.jsx)("p",{children:"[Describe the process of building this application. What were some key decisions you made? What features are you most proud of?]"}),(0,ez.jsxs)("ul",{className:"list-disc list-inside space-y-2",children:[(0,ez.jsx)("li",{children:"[A key feature or lesson learned during development.]"}),(0,ez.jsx)("li",{children:"[Another interesting fact or challenge you overcame.]"}),(0,ez.jsx)("li",{children:"[What you hope users will achieve by using this tool.]"})]}),(0,ez.jsx)("p",{children:"[Your closing thoughts here. You can thank the user for checking out your project or share what you hope they get out of the experience.]"})]})})]}),Pz=e=>{var n,r,i;let{stats:a,trophies:o,updateStatsInFirestore:s,showMessageBox:l,getFullCosmeticDetails:u,getItemStyle:d}=e;const[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[g,y]=(0,t.useState)(null),[v,b]=(0,t.useState)(null),[w,x]=(0,t.useState)(!1),[_,k]=(0,t.useState)(!1),[S,E]=(0,t.useState)(""),[T,C]=(0,t.useState)({x:1,y:1}),N=20,P=12,O=["The secret of getting ahead is getting started.","The only way to do great work is to love what you do.","Success is not final, failure is not fatal: it is the courage to continue that counts.","Don't watch the clock; do what it does. Keep going.","Believe you can and you're halfway there.","The future depends on what you do today.","Well done is better than well said."],A=u(a.equippedItems.wallpaper,"wallpapers"),j=(null===A||void 0===A?void 0:A.style)||{background:"linear-gradient(to bottom, #475569, #334155)"},I=e=>Object.values(lz).flat().find(t=>t.id===e),D=(null===(n=a.sanctumLayout)||void 0===n?void 0:n.placedItems)||[];(0,t.useEffect)(()=>{if(a.currentPet&&!h){const e=(e,t)=>D.some(n=>{const r=I(n.id);return!(!r||!r.isObstacle)&&(e>=n.x&&e<n.x+r.width&&t>=n.y&&t<n.y+r.height)}),t=setInterval(()=>{C(t=>{let n,r,i=0;do{n=Math.floor(Math.random()*N),r=Math.floor(Math.random()*P),i++}while(e(n,r)&&i<50);return i<50?{x:n,y:r}:t})},7e3);return()=>clearInterval(t)}},[a.currentPet,h,D]);const M=(0,t.useMemo)(()=>a.ownedFurniture.map(e=>I(e)).filter(Boolean),[a.ownedFurniture]),R=e=>{s({sanctumLayout:c(c({},a.sanctumLayout),{},{placedItems:e})})};return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"My Sanctum"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Your personal space to decorate and display achievements."})]}),(0,ez.jsx)("button",{onClick:()=>h?(f(!1),m(null),b(null),void y(null)):f(!0),className:"px-5 py-2 rounded-lg font-semibold transition-colors z-30 ".concat(h?"bg-red-600 text-white hover:bg-red-700":"bg-indigo-600 text-white hover:bg-indigo-700"),children:h?"Exit Edit Mode":"Edit Sanctum"})]}),(0,ez.jsxs)("div",{className:"flex flex-col xl:flex-row gap-6",children:[(0,ez.jsxs)("div",{className:"flex-grow w-full bg-slate-900 border border-slate-700 rounded-2xl shadow-xl relative min-h-[500px] overflow-hidden",style:{perspective:"1200px"},children:[(0,ez.jsx)("div",{className:"absolute top-0 left-0 w-full h-[60%]",style:j}),(0,ez.jsxs)("div",{className:"absolute top-[60%] left-0 w-full h-full",style:{transform:"rotateX(60deg)",transformOrigin:"top center",transformStyle:"preserve-3d"},children:[(0,ez.jsx)("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:"repeat(".concat(N,", 1fr)"),gridTemplateRows:"repeat(".concat(P,", 1fr)")},onMouseLeave:()=>y(null),children:Array.from({length:240}).map((e,t)=>{const n=t%N,r=Math.floor(t/N);return(0,ez.jsx)("div",{onMouseEnter:()=>((e,t)=>{h&&p&&y({x:e,y:t})})(n,r),onClick:()=>((e,t)=>{if(h)if(p){const n=p,r={x:e,y:t,width:n.width,height:n.height};if(r.x+r.width>N||r.y+r.height>P)return void l("Item cannot be placed out of bounds.","error");if(D.some(e=>{const t=I(e.id);if(!t||!t.isObstacle)return!1;const n=e.x,i=e.y,a=t.width,o=t.height;return r.x<n+a&&r.x+r.width>n&&r.y<i+o&&r.y+r.height>i}))return void l("This space is occupied by an obstacle.","error");const i={instanceId:"".concat(n.id,"_").concat(Date.now()),id:n.id,x:e,y:t};R([...D,i]),m(null),y(null)}else b(null)})(n,r),className:"border-r border-b border-slate-600/10 ".concat(h?"hover:bg-indigo-500/20":"")},t)})}),D.map(e=>c(c({},e),{},{def:I(e.id)})).filter(e=>e.def).sort((e,t)=>e.y+e.def.height-(t.y+t.def.height)).map(e=>(0,ez.jsxs)("div",{onClick:t=>((e,t)=>{e.stopPropagation(),h?(b(t),m(null),y(null)):t.id.includes("trophy_case")?x(!0):t.id.includes("computer_setup")&&(E(O[Math.floor(Math.random()*O.length)]),k(!0))})(t,e),className:"absolute transition-all duration-200 ".concat(h?"cursor-pointer hover:brightness-110":""," ").concat((null===v||void 0===v?void 0:v.instanceId)===e.instanceId?"ring-2 ring-red-500":""),style:{left:"".concat(e.x/N*100,"%"),top:"".concat(e.y/P*100,"%"),width:"".concat(e.def.width/N*100,"%"),height:"".concat(e.def.height/P*100,"%"),transform:"translateZ(5px)",transformStyle:"preserve-3d"},children:[(0,ez.jsx)("div",{className:"absolute bottom-[2%] left-1/2 -translate-x-1/2 w-4/5 h-2/5",style:{background:"rgba(0, 0, 0, 0.4)",borderRadius:"50%",filter:"blur(12px)",transform:"scaleY(0.4) translateZ(-1px)"}}),(0,ez.jsx)("div",{className:"w-full h-full drop-shadow-lg",style:{transform:"rotateX(-60deg)",transformOrigin:"bottom center"},dangerouslySetInnerHTML:{__html:e.def.display}})]},e.instanceId)),a.currentPet&&!h&&(0,ez.jsx)("div",{className:"absolute transition-all duration-1000 ease-in-out",style:{left:"".concat(T.x/N*100,"%"),top:"".concat(T.y/P*100,"%"),width:"".concat(5,"%"),height:"".concat(1/P*100,"%"),transform:"translateZ(10px)",zIndex:50},children:(0,ez.jsx)("div",{className:"w-full h-full text-2xl",style:{transform:"rotateX(-60deg) scale(1.5)",transformOrigin:"bottom center"},children:a.currentPet.display})}),h&&g&&p&&(0,ez.jsx)("div",{className:"absolute bg-green-500/30 border-2 border-dashed border-green-400 pointer-events-none",style:{left:"".concat(g.x/N*100,"%"),top:"".concat(g.y/P*100,"%"),width:"".concat(p.width/N*100,"%"),height:"".concat(p.height/P*100,"%"),zIndex:999}})]})]}),h&&(0,ez.jsx)("div",{className:"xl:w-80 flex-shrink-0",children:(0,ez.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-4 flex flex-col gap-4",children:v?(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:null===(r=I(v.id))||void 0===r?void 0:r.name}),(0,ez.jsxs)("p",{className:"text-sm text-slate-400 capitalize mb-3",children:["Rarity: ",null===(i=I(v.id))||void 0===i?void 0:i.rarity]}),(0,ez.jsx)("button",{onClick:()=>{if(!v)return;const e=D.filter(e=>e.instanceId!==v.instanceId);R(e),b(null)},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Remove Item"}),(0,ez.jsx)("button",{onClick:()=>b(null),className:"w-full mt-2 bg-slate-600 text-white px-4 py-2 rounded-md hover:bg-slate-500",children:"Deselect"})]}):(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"My Furniture"}),(0,ez.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:p?"Placing: ".concat(p.name):"Select an item to place."}),(0,ez.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:[M.map(e=>(0,ez.jsxs)("div",{onClick:()=>(e=>{m(e),b(null)})(e),className:"bg-slate-700/80 p-3 rounded-lg flex items-center gap-3 cursor-pointer hover:bg-slate-700 ".concat((null===p||void 0===p?void 0:p.id)===e.id?"ring-2 ring-indigo-500":""),children:[(0,ez.jsx)("div",{className:"w-12 h-12 bg-slate-800 rounded flex-shrink-0 flex items-center justify-center p-1",dangerouslySetInnerHTML:{__html:e.display}}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("p",{className:"font-semibold text-white",children:e.name}),(0,ez.jsxs)("p",{className:"text-xs text-slate-400",children:[e.width,"x",e.height," | ",e.rarity]})]})]},e.id)),0===M.length&&(0,ez.jsx)("p",{className:"text-center text-slate-500",children:"Buy furniture from the shop!"})]})]})})})]}),w&&(0,ez.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:()=>x(!1),children:(0,ez.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl shadow-xl p-8 w-full max-w-3xl max-h-[80vh] flex flex-col text-white",onClick:e=>e.stopPropagation(),children:[(0,ez.jsx)("h3",{className:"text-2xl font-bold mb-6 text-center",children:"My Trophy Wall"}),(0,ez.jsx)("div",{className:"overflow-y-auto pr-2 space-y-4",children:o.length>0?o.map(e=>(0,ez.jsxs)("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[(0,ez.jsx)("p",{className:"font-bold text-lg text-yellow-400",children:e.assignment}),(0,ez.jsxs)("p",{className:"text-sm text-slate-300",children:["Class: ",e.class]}),(0,ez.jsxs)("p",{className:"text-sm text-slate-400",children:["Completed on: ",new Date(e.dateCompleted).toLocaleDateString()]})]},e.id)):(0,ez.jsx)("p",{className:"text-slate-400 text-center",children:"No trophies earned yet."})})]})}),_&&(0,ez.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:()=>k(!1),children:(0,ez.jsxs)("div",{className:"bg-slate-800 border border-indigo-500 rounded-2xl shadow-xl p-8 w-full max-w-md text-white text-center",onClick:e=>e.stopPropagation(),children:[(0,ez.jsx)("h3",{className:"text-2xl font-bold mb-4 text-indigo-300",children:"A Quick Byte of Motivation!"}),(0,ez.jsxs)("p",{className:"text-lg text-slate-300 mb-6",children:['"',S,'"']}),(0,ez.jsx)("button",{onClick:()=>k(!1),className:"bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700",children:"Close"})]})})]})},Oz=e=>{let{xpGained:n,stats:r,calculateLevelInfo:i,onAnimationComplete:a,onAudioReady:o,originEvent:s}=e;const[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)("0%"),[p,m]=(0,t.useState)(""),g=(0,t.useRef)(null),y=(0,t.useRef)(1),v=(0,t.useMemo)(()=>r.totalXP-n,[r.totalXP,n]),b=(0,t.useMemo)(()=>i(v),[v,i]);(0,t.useEffect)(()=>{g.current=new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="),g.current.volume=.9;o(()=>{if(g.current&&g.current.paused){const e=g.current.play();void 0!==e&&e.then(e=>{g.current.pause(),g.current.currentTime=0}).catch(e=>{})}})},[o]);const w=(0,t.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(g.current)try{g.current.playbackRate=e,g.current.currentTime=0,g.current.play().catch(e=>{})}catch(t){}},[]);(0,t.useEffect)(()=>{if(n>0){c(!0);const e=b.xpProgressInLevel/b.xpNeededForLevelUp*100;f("".concat(e,"%")),m(String(b.level)),y.current=b.level;const t=40*(n>25?.7:n>10?.85:1),r=800;let o=window.innerWidth/2,l=window.innerHeight/4;if(s){const e=s.getBoundingClientRect();o=e.left+e.width/2,l=e.top+e.height/2}const u=Array.from({length:n},(e,n)=>({id:"".concat(Date.now(),"-").concat(n),delay:n*t,duration:r+400*Math.random(),startX:o+40*(Math.random()-.5),startY:l+40*(Math.random()-.5)}));d(u),u.forEach((e,t)=>{const r=e.delay+e.duration;setTimeout(()=>{w(1+t/n*.7);const e=i(v+t+1),r=e.xpProgressInLevel/e.xpNeededForLevelUp*100;f("".concat(r,"%")),e.level>y.current&&(y.current=e.level,m(String(e.level)),w(2))},r)});const h=(u.length>0?u[u.length-1].delay+u[u.length-1].duration:0)+1500,p=setTimeout(()=>{c(!1),d([]),a()},h);return()=>clearTimeout(p)}},[n,b,v,i,a,w,s]);const x=n>25?"satis-high":n>10?"satis-medium":"satis-low";return l?(0,ez.jsxs)(ez.Fragment,{children:[(0,ez.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[9999]",children:u.map(e=>(0,ez.jsx)("div",{className:"xp-orb ".concat(x),style:{top:"".concat(e.startY,"px"),left:"".concat(e.startX,"px"),animation:"fly-to-bar-minecraft ".concat(e.duration,"ms cubic-bezier(0.5, 0, 1, 0.5) ").concat(e.delay,"ms forwards")}},e.id))}),(0,ez.jsx)("div",{className:"xp-bar-container",children:(0,ez.jsxs)("div",{className:"xp-bar-wrapper",children:[(0,ez.jsx)("div",{className:"xp-bar-background",children:(0,ez.jsx)("div",{className:"xp-bar-fill",style:{width:h}})}),(0,ez.jsx)("div",{className:"xp-level-text",children:p})]})})]}):null},Az=()=>({phase:"class_selection",playerClass:null,floor:1,board:{},player:{x:1,y:1,hp:100,maxHp:100,attack:10,hasKey:!1,activeEffects:[]},enemies:[],log:["Choose your class to begin your adventure."],gameOver:!1,shopOpen:!1,ownedWeapons:[],ownedArmor:[],potions:0,boughtStats:{hp:0,attack:0}}),jz=()=>{var e;const n=()=>{const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[s,l]=(0,t.useState)("");return(0,ez.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:(0,ez.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-slate-800 rounded-lg shadow-lg",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-center",children:e?"Sign In":"Sign Up"}),(0,ez.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(""),az)try{e?await function(e,t,n){return Ze(e.app)?Promise.reject(Ct(e)):wr(U(e),ar.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xr(e),t})}(az,r,a):await async function(e,t,n){if(Ze(e.app))return Promise.reject(Ct(e));const r=Dn(e),i=qn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hr,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xr(e),t}),o=await fr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}(az,r,a)}catch(n){l(n.message.replace("Firebase: ",""))}else l("Firebase is not configured correctly.")},className:"space-y-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("label",{htmlFor:"email",className:"text-sm font-bold text-slate-400 block mb-2",children:"Email Address"}),(0,ez.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>i(e.target.value),required:!0,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("label",{htmlFor:"password",className:"text-sm font-bold text-slate-400 block mb-2",children:"Password"}),(0,ez.jsx)("input",{type:"password",id:"password",value:a,onChange:e=>o(e.target.value),required:!0,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),s&&(0,ez.jsx)("p",{className:"text-red-500 text-sm text-center",children:s}),(0,ez.jsx)("button",{type:"submit",className:"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white font-bold transition-colors",children:e?"Sign In":"Create Account"})]}),(0,ez.jsx)("div",{className:"text-center",children:(0,ez.jsx)("button",{onClick:()=>n(!e),className:"text-sm text-indigo-400 hover:underline",children:e?"Need an account? Sign Up":"Already have an account? Sign In"})})]})})},[r,i]=(0,t.useState)(null),[a,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)("Assignment Tracker"),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)({totalXP:0,currentLevel:1,xpProgress:0,badgesEarned:{},lastAwardedWeek:{},lastAwardedDay:{},totalPointsEarned:0,lastPointAccumulatorThreshold:0,ownedItems:[],equippedItems:{avatar:null,banner:null,background:null,font:"font_inter",animation:null,title:null,wallpaper:null,dungeonEmojis:{},tdSkins:{}},petStatus:"none",assignmentsToHatch:0,currentPet:null,ownedPets:[],friends:[],assignmentsCompleted:0,trophiesEarned:0,dungeon_floor:0,dungeon_state:null,dungeon_gold:0,ownedFurniture:[],sanctumLayout:{placedItems:[]},td_wave:0,td_castleHealth:5,td_towers:[],td_path:[],td_gameOver:!1,td_gameWon:!1,td_wins:0,td_unlockedTowers:[],td_towerUpgrades:{},sciencePoints:0,lastLogin:null,labEquipment:{beaker:0,microscope:0,bunsen_burner:0,computer:0,particle_accelerator:0,quantum_computer:0,manual_clicker:1},labXpUpgrades:{},prestigeLevel:0,studyZone:{flashcardsText:"",platformerHighScore:0,platformerCurrentState:null}}),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[w,x]=(0,t.useState)(!1),[_,k]=(0,t.useState)(0),[S,E]=(0,t.useState)(0),[T,C]=(0,t.useState)(null),N=(0,t.useRef)(null),P=(0,t.useRef)(p);(0,t.useEffect)(()=>{P.current=p},[p]);const O=(0,t.useCallback)(e=>{if(!e)return null;for(const t of Object.keys(gz))for(const n of gz[t]){if(n.id===e)return n;if(n.evolutions){const t=n.evolutions.find(t=>t.id===e);if(t)return t}}return null},[]),A=(0,t.useCallback)((e,t)=>e&&t&&sz[t]&&sz[t].find(t=>t.id===e)||null,[]),j=(0,t.useCallback)(e=>e?e.placeholder&&"URL_PLACEHOLDER"!==e.placeholder?{backgroundImage:"url(".concat(e.placeholder,")"),backgroundSize:"cover",backgroundPosition:"center"}:e.style&&"object"===typeof e.style?e.style:{}:{},[]),I=A(p.equippedItems.font,"fonts"),D=I?I.style:"font-inter",M=A(p.equippedItems.avatar,"avatars"),R=M?M.display:"\ud83d\udc64",L=null===r||void 0===r?void 0:r.uid,F=(0,t.useCallback)(e=>{if(e<=1)return 0;const t=e-1,n=t/2*(200+50*(t-1));return Math.floor(n)},[]),z=(0,t.useCallback)(e=>{let t=1;for(;e>=F(t+1);)t++;const n=F(t);return{level:t,xpProgressInLevel:e-n,xpNeededForLevelUp:F(t+1)-n}},[F]);(0,t.useEffect)(()=>{if(!az)return console.error("Firebase not initialized. Please check configuration."),void o(!0);const e=function(e,t,n,r){return U(e).onAuthStateChanged(t,n,r)}(az,e=>{i(e),o(!0)});return()=>e()},[]),(0,t.useEffect)(()=>{if(!a||!r)return;const e=r.uid,t=Zp(Np(Uf(iz,"artifacts/".concat(tz,"/public/data/assignmentTracker")),Op("userId","==",e),Ip("dueDate","asc"),Mp(50)),e=>{console.log("[DIAGNOSTIC] Assignment snapshot received. Found ".concat(e.size," documents.")),e.empty||console.log("[DIAGNOSTIC] First document's raw data:",e.docs[0].data());const t=e.docs.map(e=>{var t,n,r;return c(c({id:e.id},e.data()),{},{dueDate:null===(t=e.data().dueDate)||void 0===t?void 0:t.toDate(),dateCompleted:null===(n=e.data().dateCompleted)||void 0===n?void 0:n.toDate(),subtasks:e.data().subtasks||[],recurrenceType:e.data().recurrenceType||"none",recurrenceEndDate:null===(r=e.data().recurrenceEndDate)||void 0===r?void 0:r.toDate(),tags:e.data().tags||[]})});d(t)},e=>{console.error("Error fetching assignments:",e),oz("Failed to load assignments.","error")}),n=Zp(Np(Uf(iz,"artifacts/".concat(tz,"/public/data/trophyWall")),Op("userId","==",e),Ip("dateCompleted","desc"),Mp(50)),e=>{const t=e.docs.map(e=>{var t,n;return c(c({id:e.id},e.data()),{},{dateCompleted:null===(t=e.data().dateCompleted)||void 0===t?void 0:t.toDate(),dueDate:null===(n=e.data().dueDate)||void 0===n?void 0:n.toDate()})});f(t)},e=>{console.error("Error fetching trophies:",e),oz("Failed to load trophies.","error")}),i=Vf(iz,"artifacts/".concat(tz,"/public/data/stats/").concat(e)),o=Zp(i,e=>{if(e.exists()){const t=e.data();let n=!1;const r={};t.dungeon_state||(n=!0,r.dungeon_state=Az()),t.td_path&&0!==t.td_path.length||(n=!0,r.td_path=Q()),n&&H(r),m(e=>c(c(c({},e),t),{},{badgesEarned:t.badgesEarned||{},ownedItems:t.ownedItems||[],equippedItems:t.equippedItems||{avatar:null,banner:null,background:null,font:"font_inter",animation:null,title:null,wallpaper:null,dungeonEmojis:{},tdSkins:{}},petStatus:t.petStatus||"none",ownedPets:t.ownedPets||[],friends:t.friends||[],ownedFurniture:t.ownedFurniture||[],sanctumLayout:t.sanctumLayout||{placedItems:[]},studyZone:t.studyZone||{flashcardsText:"",platformerHighScore:0,platformerCurrentState:null}}))}else{const e=c(c({},p),{},{username:r.email.split("@")[0],dungeon_state:Az(),td_path:Q()});Yp(i,e)}},e=>{console.error("Error fetching stats:",e),oz("Failed to load stats.","error")});return()=>{t(),n(),o()}},[r,a]);const V=async(e,t)=>{if(iz)try{const n=Vf(iz,"artifacts/".concat(tz,"/public/data/assignmentTracker"),e);await function(e,t,n){e=Ga(e,Ff);const r=Ga(e.firestore,Kf),i=op(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=U(t))||t instanceof Qf?dp(i,"updateDoc",e._key,t,n,s):up(i,"updateDoc",e._key,t),$p(r,[a.toMutation(e._key,uc.exists(!0))])}(n,t)}catch(n){console.error("Error updating assignment:",n),oz("Failed to update assignment.","error")}},B=async e=>{if(iz&&null!==r&&void 0!==r&&r.uid)try{await Jp(Uf(iz,"artifacts/".concat(tz,"/public/data/assignmentTracker")),c(c({},e),{},{userId:r.uid,dueDate:e.dueDate,recurrenceEndDate:e.recurrenceEndDate,dateCompleted:null,subtasks:[]}))}catch(t){console.error("Error adding assignment:",t),oz("Failed to add assignment.","error")}},H=(0,t.useCallback)(async e=>{if(iz&&r)try{const t=Vf(iz,"artifacts/".concat(tz,"/public/data/stats/").concat(r.uid));await Yp(t,e,{merge:!0})}catch(t){console.error("Error updating stats:",t),oz("Failed to update stats.","error")}},[r,iz,tz,oz]),q=(0,t.useCallback)(()=>{if(0===h.length)return{name:"The Newbie",description:"Start completing assignments to discover your productivity persona!",icon:"\u2728"};let e=0,t=0,n=0,r=0,i=0;const a=h.length;h.forEach(a=>{null!==a.daysEarly&&(e+=a.daysEarly);a.dateCompleted&&a.dueDate&&a.dateCompleted>a.dueDate?t++:0,null!==a.pointsEarned&&null!==a.pointsMax&&a.pointsMax>0&&(n+=a.pointsEarned,r+=a.pointsMax),"Hard"===a.difficulty&&i++});const o=a>0?e/a:0,s=r>0?n/r*100:0,l=a>0?i/a*100:0,c=t/a*100;return s>=98&&0===t?{name:"The Perfectionist",description:"You have an impeccable record of submitting flawless work on time. Nothing short of perfect will do!",icon:"\ud83d\udc8e"}:s>=90&&l>=20?{name:"The High-Achieving Conqueror",description:"You consistently aim for excellence and aren't afraid to tackle the toughest challenges!",icon:"\ud83d\udc51"}:a>=50&&c<=10?{name:"The Marathoner",description:"You have a long and proven track record of consistency and endurance. You're in it for the long haul!",icon:"\ud83c\udfc3\u200d\u2642\ufe0f"}:o>=2&&0===t?{name:"The Early Bird Planner",description:"You love to get things done ahead of time and avoid last-minute rushes!",icon:"\u23f0"}:l>=30?{name:"The Challenge Seeker",description:"You actively seek out and conquer difficult assignments, embracing the challenge!",icon:"\ud83c\udfd4\ufe0f"}:c>40&&s>=70?{name:"The Deadline Dynamo",description:"You thrive under pressure, often finishing tasks close to the deadline, but still deliver quality work!",icon:"\u26a1"}:o<.5&&0===t?{name:"The Just-in-Time Submitter",description:"You have mastered the art of using every minute available, delivering your work right on schedule.",icon:"\ud83c\udfaf"}:a>=10&&o<1&&c<=20?{name:"The Steady Progressor",description:"You consistently chip away at your tasks, making reliable and steady progress!",icon:"\ud83d\udc22"}:a>=15&&s>=80&&c<=15?{name:"The All-Rounder",description:"You are a well-balanced performer, delivering high-quality work on time across the board.",icon:"\ud83c\udfc5"}:a>0?{name:"The Emerging Star",description:"You're building solid habits! Keep going to discover your unique style.",icon:"\ud83c\udf1f"}:{name:"The Newbie",description:"Start completing assignments to discover your productivity persona!",icon:"\u2728"}},[h]),W=(0,t.useCallback)(()=>{let e="";const t=Math.random();e=t<mz?"mythic":t<mz+pz?"legendary":t<mz+pz+fz?"epic":t<mz+pz+fz+hz?"rare":"common";const n=gz[e];return n[Math.floor(Math.random()*n.length)]},[]),K=(0,t.useCallback)(async()=>{await H({petStatus:"egg",assignmentsToHatch:dz}),oz("You found your first egg! Complete ".concat(dz," assignments to hatch it."),"info",3e3)},[H]),G=(0,t.useCallback)(async()=>{if("egg"!==p.petStatus||p.assignmentsToHatch>0)return;const e=W();await H({petStatus:"hatched",currentPet:e,ownedPets:[...p.ownedPets,e],assignmentsToHatch:dz}),oz("Your egg hatched! You got a ".concat(e.rarity.toUpperCase()," ").concat(e.name,"! It grants +").concat((100*e.xpBuff).toFixed(0),"% XP!"),"info",5e3)},[p.petStatus,p.assignmentsToHatch,p.ownedPets,W,H]),X=(0,t.useCallback)(async()=>{"hatched"!==p.petStatus&&"none"!==p.petStatus||(await H({petStatus:"egg",assignmentsToHatch:dz}),oz("You found a new egg! Complete ".concat(dz," assignments to hatch it."),"info",3e3))},[p.petStatus,H]),Y=(0,t.useCallback)(async e=>{if(!iz||!r)return;let t=null;for(const r of Object.values(gz)){if(t=r.find(t=>t.id===e.id),t)break;for(const n of r)if(n.evolutions&&(t=n.evolutions.find(t=>t.id===e.id),t))break;if(t)break}if(!t)return void oz("Pet definition not found.","error");let n=null,i=null;for(const r of Object.values(gz))if(i=r.find(t=>t.id===e.id||t.evolutions&&t.evolutions.some(t=>t.id===e.id)),i)break;if(i&&i.evolutions){const t=i.evolutions.findIndex(t=>t.id===e.id);t+1<i.evolutions.length&&(n=i.evolutions[t+1])}if(!n)return void oz("This pet has reached its final evolution!","info");if(p.currentLevel<n.levelRequired)return void oz("You need to reach Level ".concat(n.levelRequired," to evolve this pet."),"error");if(p.totalXP<n.xpCost)return void oz("You need ".concat(n.xpCost," XP to evolve this pet. You have ").concat(p.totalXP," XP."),"error");const a=p.totalXP-n.xpCost,o=a%100,s=Math.floor(a/100)+1,l=p.ownedPets.map(t=>t.id===e.id?n:t);await H({totalXP:a,currentLevel:s,xpProgress:o,currentPet:n,ownedPets:l}),oz("Your ".concat(e.name," evolved into a ").concat(n.name,"! You spent ").concat(n.xpCost," XP."),"info",5e3)},[p,r,H]),Q=(0,t.useCallback)(()=>{const e=10,t=[{x:0,y:0}],n=new Set(["0,0"]);let r={x:0,y:0};for(;r.x<9||r.y<9;){const i=[];r.x<9&&i.push({x:r.x+1,y:r.y}),r.y<9&&i.push({x:r.x,y:r.y+1});const a=i.filter(e=>!n.has("".concat(e.x,",").concat(e.y)));if(a.length>0){r=a[Math.floor(Math.random()*a.length)],t.push(r),n.add("".concat(r.x,",").concat(r.y))}else{const i=[{x:r.x+1,y:r.y},{x:r.x,y:r.y+1},{x:r.x-1,y:r.y},{x:r.x,y:r.y-1}].filter(t=>t.x>=0&&t.x<e&&t.y>=0&&t.y<e&&!n.has("".concat(t.x,",").concat(t.y)));if(!(i.length>0))break;r=i[0],t.push(r),n.add("".concat(r.x,",").concat(r.y))}}return t},[]),J=(0,t.useCallback)(e=>{H(e)},[H]),Z=(0,t.useCallback)(()=>{const e=p.currentPet&&{dragon:{castleHealth:1}}[p.currentPet.id.split("_")[1]]||{},t=Q();H({td_wave:0,td_castleHealth:5+(e.castleHealth||0),td_towers:[],td_path:t,td_gameOver:!1,td_gameWon:!1}),oz("New game started!","info")},[p.currentPet,Q,H,oz]),$=(0,t.useCallback)(()=>{P.current.totalXP<50?oz("You need 50 XP to spin.","error"):b(!0)},[]),ee=(0,t.useCallback)(async e=>{if(b(!1),!iz||!L)return void oz("Cannot process spin: Connection error.","error");const t=Vf(iz,"artifacts/".concat(tz,"/public/data/stats/").concat(L));try{const n=await am(iz,async n=>{const r=await n.get(t);if(!r.exists())throw new Error("FATAL: User stats document not found.");const i=r.data();if(i.totalXP<50)throw new Error("INSUFFICIENT_XP");let a=0,o=[...i.ownedItems||[]],s=c({},i.badgesEarned||{}),l="",u=!1;"xp_gain"===e.type||"xp_loss"===e.type?a=e.amount:e.id&&(o.includes(e.id)?a=25:(o.push(e.id),u=!0)),(a>0||u)&&(s["Lucky Streak"]=(s["Lucky Streak"]||0)+1);const d=i.totalXP-50+a,{level:h,xpProgressInLevel:f}=z(d);return u?l="You won: ".concat(e.name,"!"):a>0&&"xp_gain"===e.type?l="You won ".concat(a," XP!"):a>0?l="Duplicate ".concat(e.name,". You get 25 XP instead!"):a<0&&(l="You lost ".concat(Math.abs(a)," XP.")),n.update(t,{totalXP:d,currentLevel:h,xpProgress:f,badgesEarned:s,ownedItems:o}),l});n&&oz(n,"info")}catch(n){console.error("Spin transaction failed:",n),"INSUFFICIENT_XP"===n.message?oz("You don't have enough XP to spin.","error"):oz("A server error occurred. Your XP was not spent.","error")}},[r,z]),te=(0,t.useCallback)(async e=>{if(!iz||!r)return;const t=Vf(iz,"artifacts/".concat(tz,"/public/data/stats/").concat(r.uid));try{const n=await am(iz,async n=>{const r=await n.get(t);if(!r.exists())throw new Error("Stats doc missing!");const i=r.data();let a={Easy:10,Medium:15,Hard:20}[e.difficulty]||10,o=c({},i.badgesEarned||{}),s=i.totalPointsEarned||0,l="number"===typeof i.assignmentsToHatch?i.assignmentsToHatch:dz;"egg"===i.petStatus&&(l=Math.max(0,l-1));const u=i.currentPet;let d=1+(u&&"number"===typeof u.xpBuff?u.xpBuff:0);e.daysEarly>=2&&(a+=7,o["Time Lord"]=(o["Time Lord"]||0)+1),"Hard"===e.difficulty&&(a+=12,o["Difficulty Conqueror"]=(o["Difficulty Conqueror"]||0)+1);const h=Number(e.pointsEarned)||0;isNaN(h)||(s+=h);const f=i.lastPointAccumulatorThreshold||0,p=Math.floor(s/50);if(p>f){const e=p-f;a+=15*e,o["Point Accumulator"]=(o["Point Accumulator"]||0)+e}const m=Math.round(a*d),g=(i.totalXP||0)+m,{level:y,xpProgressInLevel:v}=z(g),b={totalXP:g,currentLevel:y,xpProgress:v,badgesEarned:o,totalPointsEarned:s,lastPointAccumulatorThreshold:p,assignmentsToHatch:l,assignmentsCompleted:(i.assignmentsCompleted||0)+1};return n.update(t,b),m});oz("Task complete! +".concat(n," XP."),"info"),k(n),E(e=>e+1),"egg"===p.petStatus&&p.assignmentsToHatch-1<=0&&await G()}catch(n){console.error("XP Award Transaction failed: ",n),oz("Failed to award XP due to a server error.","error")}},[p,r,G,z]),ne=async(e,t,n)=>{if(console.log("Checkbox clicked! Assignment ID:",t,"Assignment:",n),!iz||null===r||void 0===r||!r.uid)return;const i="Completed"!==n.status,a=Uf(iz,"artifacts/".concat(tz,"/public/data/trophyWall"));try{if(i){const i=new Date,o=n.dueDate instanceof Date&&!isNaN(n.dueDate)?((e,t)=>{if(!e||!t)return null;const n=e.getTime()-t.getTime();return Math.ceil(n/864e5)})(n.dueDate,i):null,s=c(c({},n),{},{userId:r.uid,status:"Completed",dateCompleted:om(),daysEarly:o,sourceAssignmentId:t});if(delete s.id,await Jp(a,s),await V(t,{status:"Completed",dateCompleted:om(),daysEarly:o}),x(!0),N.current&&(N.current(),C(e.currentTarget)),await te(c(c({},n),{},{dateCompleted:i,daysEarly:o})),n.recurrenceType&&"none"!==n.recurrenceType){let e=new Date(n.dueDate);if("daily"===n.recurrenceType?e.setDate(e.getDate()+1):"weekly"===n.recurrenceType?e.setDate(e.getDate()+7):"monthly"===n.recurrenceType&&e.setMonth(e.getMonth()+1),!n.recurrenceEndDate||e<=n.recurrenceEndDate){const t=c(c({},n),{},{dueDate:e,status:"To Do",dateCompleted:null,daysEarly:null,subtasks:(n.subtasks||[]).map(e=>c(c({},e),{},{completed:!1}))});delete t.id,await B(t),oz('New instance of recurring assignment "'.concat(t.assignment,'" created.'),"info")}}}else{await V(t,{status:"To Do",dateCompleted:null,daysEarly:null});const e=Np(a,Op("sourceAssignmentId","==",t)),n=(await Xp(e)).docs.map(e=>Qp(e.ref));await Promise.all(n),await H({assignmentsCompleted:Math.max(0,p.assignmentsCompleted-1)}),oz("Assignment marked as not completed.","info")}}catch(o){console.error("Error toggling assignment completion:",o),oz("Operation failed: ".concat(o.message),"error")}},re=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(""),a=(e,t,n)=>{let r=n;"dueDate"===t||"dateCompleted"===t||"recurrenceEndDate"===t?r=n?new Date(n):null:t.startsWith("points")||"timeEstimate"===t?r=parseFloat(n)||0:"tags"===t&&(r=n),V(e,{[t]:r})},o=async e=>{await(async e=>{if(iz)try{await Qp(Vf(iz,"artifacts/".concat(tz,"/public/data/assignmentTracker"),e))}catch(t){console.error("Error deleting assignment:",t),oz("Failed to delete assignment.","error")}})(e),oz("Assignment deleted.","info")};return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Assignment Tracker"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Manage, track, and complete your assignments."})]}),(0,ez.jsxs)("button",{onClick:()=>y(!0),className:"bg-indigo-600 text-white px-5 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-md flex items-center space-x-2",children:[(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),(0,ez.jsx)("span",{children:"Add New"})]})]}),(0,ez.jsx)(xz,{isOpen:g,onClose:()=>y(!1),onSubmit:async e=>{if(!e.assignment)return void oz("Assignment Name is required.","error");const t=c(c({},e),{},{dueDate:e.dueDate?new Date(e.dueDate):null,timeEstimate:parseFloat(e.timeEstimate)||0,pointsEarned:parseFloat(e.pointsEarned)||0,pointsMax:parseFloat(e.pointsMax)||0,recurrenceType:e.recurrenceType||"none",recurrenceEndDate:e.recurrenceEndDate?new Date(e.recurrenceEndDate):null,tags:e.tags||[]});await B(t),oz("Assignment added successfully!","info")}}),(0,ez.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl overflow-hidden",children:(0,ez.jsx)("div",{className:"overflow-x-auto",children:(0,ez.jsxs)("table",{className:"min-w-full text-white",children:[(0,ez.jsx)("thead",{children:(0,ez.jsxs)("tr",{className:"text-slate-400 uppercase text-sm leading-normal",children:[(0,ez.jsx)("th",{className:"py-3 px-6 text-left",children:"Class"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-left",children:"Assignment"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-left",children:"Due Date"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-center",children:"Status"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-left",children:"Difficulty"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-left",children:"Tags"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),(0,ez.jsx)("tbody",{className:"text-slate-300 text-sm font-light",children:u.map(s=>{const l="Completed"!==s.status&&s.dueDate&&new Date>s.dueDate,c="Completed"===s.status&&s.dateCompleted&&s.dueDate&&s.dateCompleted>s.dueDate;return(0,ez.jsxs)(t.Fragment,{children:[(0,ez.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-800/70",children:[(0,ez.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:s.class||"\u26a0\ufe0f"}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:s.assignment}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:s.dueDate?s.dueDate.toLocaleDateString():"\u26a0\ufe0f"}),(0,ez.jsxs)("td",{className:"py-3 px-6 text-center",children:[(0,ez.jsx)("input",{type:"checkbox",checked:"Completed"===s.status,onChange:e=>ne(e,s.id,s),className:"form-checkbox h-5 w-5 text-indigo-500 rounded bg-slate-700 border-slate-600 focus:ring-indigo-500"}),(l||c)&&(0,ez.jsx)("span",{className:"ml-2 text-red-500 font-semibold text-xs",children:"Late!"})]}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:s.difficulty}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:(0,ez.jsx)("div",{className:"flex flex-wrap gap-1",children:s.tags&&s.tags.map(e=>(0,ez.jsx)("span",{className:"bg-slate-700 text-slate-300 text-xs px-2 py-1 rounded-full",children:e},e))})}),(0,ez.jsxs)("td",{className:"py-3 px-6 text-center",children:[(0,ez.jsx)("button",{onClick:()=>o(s.id),className:"text-red-400 hover:text-red-600 transition-colors duration-200 mr-2",children:"Delete"}),(0,ez.jsx)("button",{onClick:()=>n(e===s.id?null:s.id),className:"text-indigo-400 hover:text-indigo-300 transition-colors duration-200",children:e===s.id?"Hide":"Details"})]})]}),e===s.id&&(0,ez.jsx)("tr",{className:"bg-slate-800",children:(0,ez.jsx)("td",{colSpan:"7",className:"p-4 border-t-2 border-slate-700",children:(0,ez.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm p-4 bg-slate-900/50 rounded-lg",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Assignment Name:"}),(0,ez.jsx)("input",{type:"text",value:s.assignment||"",onChange:e=>a(s.id,"assignment",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Class Name:"}),(0,ez.jsx)("input",{type:"text",value:s.class||"",onChange:e=>a(s.id,"class",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Due Date:"}),(0,ez.jsx)("input",{type:"date",value:s.dueDate?s.dueDate.toISOString().split("T")[0]:"",onChange:e=>a(s.id,"dueDate",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Time Est. (hrs):"}),(0,ez.jsx)("input",{type:"number",value:s.timeEstimate||"",onChange:e=>a(s.id,"timeEstimate",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-full"})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Points:"}),(0,ez.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ez.jsx)("input",{type:"number",value:s.pointsEarned||"",onChange:e=>a(s.id,"pointsEarned",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-1/2"}),(0,ez.jsx)("span",{className:"text-slate-500",children:"/"}),(0,ez.jsx)("input",{type:"number",value:s.pointsMax||"",onChange:e=>a(s.id,"pointsMax",e.target.value),className:"bg-slate-700 border border-slate-600 rounded p-2 w-1/2"})]})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("strong",{className:"text-slate-400 block mb-1",children:"Recurrence:"}),(0,ez.jsx)("span",{className:"capitalize p-2 block",children:s.recurrenceType})]}),(0,ez.jsxs)("div",{className:"md:col-span-3 pt-2 mt-2 border-t border-slate-700",children:[(0,ez.jsx)("strong",{className:"text-slate-400 block mb-2",children:"Subtasks:"}),s.subtasks&&s.subtasks.length>0?s.subtasks.map((e,t)=>(0,ez.jsxs)("div",{className:"flex items-center justify-between bg-slate-700/50 p-2 rounded-md mb-1",children:[(0,ez.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ez.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>(async(e,t)=>{const n=u.find(t=>t.id===e);if(n){const r=[...n.subtasks];r[t].completed=!r[t].completed,await V(e,{subtasks:r})}})(s.id,t),className:"form-checkbox h-4 w-4 text-green-500 rounded bg-slate-800"}),(0,ez.jsx)("span",{className:"text-slate-300 ".concat(e.completed?"line-through text-slate-500":""),children:e.name})]}),(0,ez.jsx)("button",{onClick:()=>(async(e,t)=>{const n=u.find(t=>t.id===e);if(n){const r=n.subtasks.filter((e,n)=>n!==t);await V(e,{subtasks:r})}})(s.id,t),className:"text-red-400 hover:text-red-600",children:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ez.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},t)):(0,ez.jsx)("p",{className:"text-slate-500 text-xs",children:"No subtasks added yet."}),(0,ez.jsxs)("div",{className:"flex mt-2 space-x-2",children:[(0,ez.jsx)("input",{type:"text",placeholder:"New subtask...",value:r,onChange:e=>i(e.target.value),className:"flex-grow p-2 bg-slate-700 border border-slate-600 rounded-md text-sm focus:ring-indigo-500"}),(0,ez.jsx)("button",{onClick:()=>(async e=>{if(!r.trim())return void oz("Subtask name cannot be empty.","error");const t=u.find(t=>t.id===e);if(t){const n=[...t.subtasks||[],{name:r.trim(),completed:!1}];await V(e,{subtasks:n}),i("")}})(s.id),className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm hover:bg-green-700",children:"Add"})]})]})]})})})]},s.id)})})]})})})]})},ie=e=>{let{getFullPetDetails:n,getFullCosmeticDetails:r,getItemStyle:i,stats:a,updateStatsInFirestore:o,userId:s,handleEvolvePet:l}=e;const[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("collections"),[p,m]=(0,t.useState)(a.username||"");(0,t.useEffect)(()=>{m(a.username||"")},[a.username]);const g=async e=>{let t=c({},a.equippedItems);if("td_skin"===e.type||"dungeon_emoji"===e.type){const n="td_skin"===e.type?"tdSkins":"dungeonEmojis";t[n]=c(c({},a.equippedItems[n]||{}),{},{[e.for]:e.id})}else t=c(c({},a.equippedItems),{},{[e.type]:e.id});await o({equippedItems:t}),oz("Equipped ".concat(e.name,"!"),"info")},y=async e=>{if(a.totalXP<e.cost)return void oz("Not enough XP.","error");if(a.ownedItems.includes(e.id)||a.ownedFurniture.includes(e.id))return void oz("Already owned.","error");const t="furniture"===e.type;await o({totalXP:a.totalXP-e.cost,ownedItems:t?a.ownedItems:[...a.ownedItems,e.id],ownedFurniture:t?[...a.ownedFurniture,e.id]:a.ownedFurniture}),oz("Purchased ".concat(e.name,"!"),"info")},v=e=>{let{tabName:t,children:n}=e;return(0,ez.jsx)("button",{onClick:()=>f(t),className:"px-4 py-2 text-lg font-semibold transition-colors ".concat(h===t?"text-indigo-400 border-b-2 border-indigo-400":"text-slate-400 hover:text-white"),children:n})},b=a.ownedItems.map(e=>r(e,"avatars")).filter(Boolean),w=a.ownedItems.map(e=>r(e,"banners")).filter(Boolean),x=a.ownedItems.map(e=>r(e,"wallpapers")).filter(Boolean),_=a.ownedPets.map(e=>n(e.id)).filter(Boolean),k=a.ownedItems.map(e=>r(e,"td_skins")).filter(Boolean),S=a.ownedItems.map(e=>r(e,"dungeon_emojis")).filter(Boolean);return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"mb-6",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"My Profile"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Manage your collections, friends, and shop for new items."})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl",children:[(0,ez.jsxs)("div",{className:"flex border-b border-slate-700",children:[(0,ez.jsx)(v,{tabName:"collections",children:"Collections"}),(0,ez.jsx)(v,{tabName:"shop",children:"Shop"}),(0,ez.jsx)(v,{tabName:"friends",children:"Friends"})]}),(0,ez.jsxs)("div",{className:"p-6",children:["collections"===h&&(0,ez.jsxs)("div",{className:"space-y-8",children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Your Items"}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Avatars"}),(0,ez.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-4",children:b.length>0?b.map(e=>(0,ez.jsxs)("div",{onClick:()=>g(e),className:"aspect-square bg-slate-800/70 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-slate-700/70 transition-colors duration-200 ".concat(a.equippedItems.avatar===e.id?"ring-2 ring-indigo-500":""),children:[(0,ez.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-700 flex items-center justify-center text-4xl mb-1",style:i(e),children:(!e.placeholder||"URL_PLACEHOLDER"===e.placeholder)&&e.display}),(0,ez.jsx)("p",{className:"text-xs font-medium text-slate-300 text-center",children:e.name})]},e.id)):(0,ez.jsx)("p",{className:"text-slate-500 col-span-full",children:"No avatars owned."})})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Banners"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w.length>0?w.map(e=>(0,ez.jsx)("div",{onClick:()=>g(e),className:"p-4 h-24 rounded-lg cursor-pointer hover:opacity-80 transition-opacity flex items-center justify-center text-center ".concat(i(e).backgroundImage?"":e.style," ").concat(a.equippedItems.banner===e.id?"ring-2 ring-indigo-500":""),style:i(e),children:(0,ez.jsx)("p",{className:"font-bold ".concat(i(e).backgroundImage?"":"text-white bg-black bg-opacity-50 px-2 py-1 rounded"),children:e.name})},e.id)):(0,ez.jsx)("p",{className:"text-slate-500 col-span-full",children:"No banners owned."})})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Sanctum Walls"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:x.length>0?x.map(e=>(0,ez.jsx)("div",{onClick:()=>g(e),className:"p-4 h-24 rounded-lg cursor-pointer flex items-center justify-center text-center transition-all ".concat(a.equippedItems.wallpaper===e.id?"ring-2 ring-indigo-500":"hover:opacity-80"),style:e.style,children:(0,ez.jsx)("p",{className:"font-bold text-white bg-black/50 px-2 py-1 rounded",children:e.name})},e.id)):(0,ez.jsx)("p",{className:"text-slate-500 col-span-full",children:"No wallpapers owned."})})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Pets"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:_.length>0?_.map(e=>{var t,n;const r=Object.values(gz).flat().find(t=>{var n;return t.id===e.id||(null===(n=t.evolutions)||void 0===n?void 0:n.some(t=>t.id===e.id))}),i=null===r||void 0===r||null===(t=r.evolutions)||void 0===t?void 0:t[r.evolutions.findIndex(t=>t.id===e.id)+1],s=i&&a.currentLevel>=i.levelRequired&&a.totalXP>=i.xpCost;return(0,ez.jsxs)("div",{className:"p-4 bg-slate-800/70 rounded-lg flex flex-col items-center text-center transition-colors ".concat((null===(n=a.currentPet)||void 0===n?void 0:n.id)===e.id?"ring-2 ring-green-500":""),children:[(0,ez.jsx)("span",{className:"text-5xl mb-2 cursor-pointer",onClick:()=>(async e=>{await o({currentPet:e}),oz("Equipped ".concat(e.name,"! XP buff: +").concat((100*e.xpBuff).toFixed(0),"%"),"info")})(e),children:e.display}),(0,ez.jsx)("p",{className:"text-sm font-medium text-white",children:e.name}),(0,ez.jsx)("p",{className:"text-xs font-bold capitalize ".concat(e.rarity),children:e.rarity}),i&&(0,ez.jsxs)("div",{className:"mt-2 w-full",children:[(0,ez.jsx)("button",{onClick:t=>{t.stopPropagation(),l(e)},disabled:!s,className:"w-full text-xs px-2 py-1.5 rounded transition-colors ".concat(s?"bg-purple-600 text-white hover:bg-purple-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:" Evolve "}),!s&&(0,ez.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Lvl ",i.levelRequired," & ",i.xpCost," XP"]})]})]},e.id)}):(0,ez.jsx)("p",{className:"text-slate-500 col-span-full",children:"No pets owned."})})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Tower Defense Skins"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:k.length>0?k.map(e=>{var t;return(0,ez.jsxs)("div",{onClick:()=>g(e),className:"p-4 bg-slate-800/70 rounded-lg flex flex-col items-center justify-center text-center transition-colors cursor-pointer ".concat((null===(t=a.equippedItems.tdSkins)||void 0===t?void 0:t[e.for])===e.id?"ring-2 ring-indigo-500":"hover:bg-slate-700"),children:[(0,ez.jsx)("span",{className:"text-4xl mb-2",children:e.display}),(0,ez.jsx)("p",{className:"text-sm font-medium text-white flex-grow",children:e.name}),(0,ez.jsxs)("p",{className:"text-xs text-slate-400 capitalize",children:["For: ",e.for]})]},e.id)}):(0,ez.jsx)("p",{className:"text-slate-500 col-span-full",children:"No TD skins owned."})})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 mb-3",children:"Dungeon Emojis"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:S.length>0?S.map(e=>{var t;return(0,ez.jsxs)("div",{onClick:()=>g(e),className:"p-4 bg-slate-800/70 rounded-lg flex flex-col items-center justify-center text-center transition-colors cursor-pointer ".concat((null===(t=a.equippedItems.dungeonEmojis)||void 0===t?void 0:t[e.for])===e.id?"ring-2 ring-indigo-500":"hover:bg-slate-700"),children:[(0,ez.jsx)("span",{className:"text-4xl mb-2",children:e.display}),(0,ez.jsx)("p",{className:"text-sm font-medium text-white flex-grow",children:e.name}),(0,ez.jsxs)("p",{className:"text-xs text-slate-400 capitalize",children:["For: ",e.for]})]},e.id)}):(0,ez.jsx)("p",{className:"text-slate-500 col-span-full",children:"No Dungeon emojis owned."})})]})]}),"shop"===h&&(0,ez.jsxs)("div",{className:"space-y-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Wallpaper Shop"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:sz.wallpapers.map(e=>{const t=a.ownedItems.includes(e.id),n=a.totalXP>=e.cost;return(0,ez.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col text-center",children:[(0,ez.jsx)("div",{className:"w-full h-20 mb-3 rounded",style:e.style}),(0,ez.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,ez.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,ez.jsx)("button",{onClick:()=>y(e),disabled:t||!n,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":n?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.cost," XP")})]},e.id)})})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Furniture Shop"}),Object.entries(lz).map(e=>{let[t,n]=e;return(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h4",{className:"text-xl font-semibold text-indigo-300 capitalize mb-3",children:t}),(0,ez.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(e=>{const t=a.ownedFurniture.includes(e.id),n=a.totalXP>=e.cost;return(0,ez.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col items-center text-center",children:[(0,ez.jsx)("div",{className:"w-24 h-24 mb-2 flex items-center justify-center text-slate-300",children:(0,ez.jsx)("div",{className:"w-16 h-16",dangerouslySetInnerHTML:{__html:e.display}})}),(0,ez.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,ez.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,ez.jsx)("button",{onClick:()=>y(e),disabled:t||!n,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":n?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.cost," XP")})]},e.id)})})]},t)})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Tower Defense Skins"}),(0,ez.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:"Unlock skins by reaching higher floors in the Dungeon Crawler."}),(0,ez.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:sz.td_skins.map(e=>{const t=a.ownedItems.includes(e.id),n=a.totalXP>=e.cost,r=!((a.dungeon_floor||0)>=e.floorRequired);return(0,ez.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col items-center text-center",children:[(0,ez.jsx)("div",{className:"w-16 h-16 mb-2 flex items-center justify-center text-4xl bg-slate-700 rounded-lg",children:e.display}),(0,ez.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,ez.jsxs)("p",{className:"text-xs text-slate-400 capitalize mb-1",children:["For: ",e.for]}),(0,ez.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,ez.jsx)("button",{onClick:()=>y(e),disabled:t||!n||r,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":r?"bg-gray-800 text-gray-600 cursor-not-allowed":n?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":r?"Requires Floor ".concat(e.floorRequired):"".concat(e.cost," XP")})]},e.id)})})]}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Dungeon Emoji Shop"}),(0,ez.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:sz.dungeon_emojis.map(e=>{const t=a.ownedItems.includes(e.id),n=a.totalXP>=e.cost;return(0,ez.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex flex-col items-center text-center",children:[(0,ez.jsx)("div",{className:"w-16 h-16 mb-2 flex items-center justify-center text-4xl bg-slate-700 rounded-lg",children:e.display}),(0,ez.jsx)("p",{className:"font-semibold text-white flex-grow",children:e.name}),(0,ez.jsxs)("p",{className:"text-xs text-slate-400 capitalize mb-1",children:["For: ",e.for]}),(0,ez.jsx)("p",{className:"text-xs text-slate-400 capitalize mb-3",children:e.rarity}),(0,ez.jsx)("button",{onClick:()=>y(e),disabled:t||!n,className:"w-full px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(t?"bg-green-500/20 text-green-400 cursor-default":n?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:t?"Owned":"".concat(e.cost," XP")})]},e.id)})})]})]}),"friends"===h&&(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Profile & Friends"}),(0,ez.jsxs)("div",{className:"mb-8 p-4 bg-slate-900/50 rounded-lg",children:[(0,ez.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Your Public Username"}),(0,ez.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,ez.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),placeholder:"Enter a username",className:"flex-grow p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"}),(0,ez.jsx)("button",{onClick:async()=>{const e=p.trim();if(e.length<3||e.length>15)return void oz("Username must be between 3 and 15 characters.","error");if(/\s/.test(e))return void oz("Username cannot contain spaces.","error");const t=Np(Uf(iz,"artifacts/".concat(tz,"/public/data/stats")),Op("username","==",e));try{const n=await Xp(t);if(!n.empty&&n.docs[0].id!==s)return void oz("This username is already taken.","error");await o({username:e}),oz("Username updated successfully!","info")}catch(n){console.error("Error updating username:",n),oz("Could not update username.","error")}},className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700",children:"Save Name"})]}),(0,ez.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"This name will be visible on the leaderboard. Min 3, Max 15 chars, no spaces."})]}),(0,ez.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Friend Management"}),(0,ez.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ez.jsxs)("div",{className:"flex-grow",children:[(0,ez.jsx)("label",{className:"text-sm text-slate-400 block mb-1",children:"Your User ID (for sharing)"}),(0,ez.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(s).then(()=>oz("User ID copied!","info"),()=>oz("Failed to copy.","error"))},className:"p-3 bg-slate-700 border border-slate-600 rounded-md cursor-pointer truncate",children:s})]}),(0,ez.jsxs)("div",{className:"flex-grow",children:[(0,ez.jsx)("label",{htmlFor:"friendId",className:"text-sm text-slate-400 block mb-1",children:"Add Friend by ID"}),(0,ez.jsxs)("div",{className:"flex gap-2",children:[(0,ez.jsx)("input",{id:"friendId",type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Paste friend's User ID here",className:"flex-grow p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-indigo-500"}),(0,ez.jsx)("button",{onClick:async()=>{const e=u.trim();e?e!==s?a.friends.includes(e)?oz("Already a friend.","error"):(await o({friends:[...a.friends,e]}),oz("Friend added!","info"),d("")):oz("You can't add yourself.","error"):oz("Friend ID cannot be empty.","error")},className:"bg-indigo-600 text-white px-5 py-2 rounded-md hover:bg-indigo-700",children:"Add"})]})]})]}),(0,ez.jsxs)("div",{className:"mt-6",children:[(0,ez.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Friend List"}),a.friends&&a.friends.length>0?(0,ez.jsx)("ul",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:a.friends.map(e=>(0,ez.jsxs)("li",{className:"flex items-center justify-between bg-slate-700/50 p-3 rounded-lg",children:[(0,ez.jsx)("span",{className:"font-mono text-sm text-slate-300 truncate",children:e}),(0,ez.jsx)("button",{onClick:()=>(async e=>{await o({friends:a.friends.filter(t=>t!==e)}),oz("Friend removed.","info")})(e),className:"text-red-400 hover:text-red-600 text-sm font-semibold",children:"Remove"})]},e))}):(0,ez.jsx)("p",{className:"text-slate-500",children:"You haven't added any friends yet."})]})]})]})]})]})},ae=()=>{var e;const n=q(),r=yz.slice().reverse().find(e=>p.currentLevel>=e.level)||{title:"Novice Learner"},i=p.equippedItems.title?null===(e=sz.titles.find(e=>e.id===p.equippedItems.title))||void 0===e?void 0:e.name:r.title,a=(0,t.useCallback)(()=>{let e=0;const t=new Date,n=u.filter(e=>"Completed"!==e.status&&e.dueDate&&e.dueDate>t&&(e.dueDate.getTime()-t.getTime())/864e5<=14).sort((e,t)=>e.dueDate.getTime()-t.dueDate.getTime()),r={Easy:1,Medium:2,Hard:3};n.forEach(n=>{const i=r[n.difficulty]||1,a=n.timeEstimate||1,o=Math.ceil((n.dueDate.getTime()-t.getTime())/864e5);let s=5*i+.5*a;o<=3?s+=10*(3-o+1):o<=7&&(s+=5*(7-o+1)),e+=s});for(let i=0;i<n.length;i++)for(let t=i+1;t<n.length;t++){Math.abs(n[i].dueDate.getTime()-n[t].dueDate.getTime())/864e5<=2&&(e+=10)}return Math.max(0,Math.min(100,e/500*100))},[u]),o=a(),s=o<=20?vz[0]:o<=40?vz[1]:o<=60?vz[2]:o<=80?vz[3]:vz[4],l=u.filter(e=>"Completed"===e.status&&e.dateCompleted).sort((e,t)=>e.dateCompleted.getTime()-t.dateCompleted.getTime()).reduce((e,t)=>{const n=t.dateCompleted.toLocaleDateString(),r=e.find(e=>e.date===n),i=t.pointsEarned||0;return r?r.xp+=i:e.push({date:n,xp:i}),e},[]);let c=0;const d=l.map(e=>(c+=e.xp,{date:e.date,cumulativeXP:c})),h=u.filter(e=>"Completed"!==e.status).reduce((e,t)=>{const n=t.class||"Uncategorized";return e[n]=(e[n]||0)+(t.timeEstimate||0),e},{}),f=Object.keys(h).map(e=>({class:e,hours:h[e]})),m={},g=new Date;g.setDate(g.getDate()-30),u.filter(e=>"Completed"===e.status&&e.dateCompleted&&e.dateCompleted>=g).forEach(e=>{const t=(e=>{const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(0===n?-6:1);return new Date(t.setDate(r))})(e.dateCompleted),n=t.toLocaleDateString("en-US",{month:"short",day:"numeric"});m[n]=(m[n]||0)+(e.timeEstimate||0)});const y=Object.keys(m).map(e=>({week:e,hours:m[e],sortDate:new Date(e)})).sort((e,t)=>e.sortDate.getTime()-t.sortDate.getTime());return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"mb-6",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Dashboard"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Your productivity at a glance."})]}),(0,ez.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("p",{className:"text-slate-400",children:"Total XP"}),(0,ez.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:p.totalXP})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,ez.jsx)("p",{className:"text-slate-400",children:"Current Level"}),(0,ez.jsxs)("p",{className:"text-sm text-slate-400",children:[z(p.totalXP).xpProgressInLevel.toLocaleString()," / ",z(p.totalXP).xpNeededForLevelUp.toLocaleString()," XP"]})]}),(0,ez.jsx)("p",{className:"text-4xl font-bold text-white mt-1",children:p.currentLevel}),(0,ez.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mt-4",children:(0,ez.jsx)("div",{className:"bg-indigo-500 h-2.5 rounded-full",style:{width:"".concat(z(p.totalXP).xpProgressInLevel/z(p.totalXP).xpNeededForLevelUp*100,"%")}})})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("p",{className:"text-slate-400",children:"Title"}),(0,ez.jsx)("p",{className:"text-2xl font-bold text-indigo-400 mt-2",children:i})]})]}),(0,ez.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ez.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"XP Gain Over Time"}),(0,ez.jsx)(Om,{width:"100%",height:250,children:(0,ez.jsxs)(Tj,{data:d,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,ez.jsx)(nD,{strokeDasharray:"3 3",stroke:"#475569"}),(0,ez.jsx)(dD,{dataKey:"date",tick:{fill:"#94a3b8"}}),(0,ez.jsx)(bD,{tick:{fill:"#94a3b8"}}),(0,ez.jsx)(QR,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),(0,ez.jsx)(BL,{wrapperStyle:{color:"#94a3b8"}}),(0,ez.jsx)($F,{type:"monotone",dataKey:"cumulativeXP",stroke:"#818cf8",strokeWidth:2,activeDot:{r:8},name:"Cumulative XP"})]})})]}),(0,ez.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Predicted Workload"}),(0,ez.jsx)(Om,{width:"100%",height:250,children:(0,ez.jsxs)(Tj,{data:f,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,ez.jsx)(nD,{strokeDasharray:"3 3",stroke:"#475569"}),(0,ez.jsx)(dD,{dataKey:"class",tick:{fill:"#94a3b8"}}),(0,ez.jsx)(bD,{tick:{fill:"#94a3b8"}}),(0,ez.jsx)(QR,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),(0,ez.jsx)(BL,{wrapperStyle:{color:"#94a3b8"}}),(0,ez.jsx)($F,{type:"monotone",dataKey:"hours",stroke:"#34d399",activeDot:{r:8},name:"Predicted Hours"})]})})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Hours Worked (Weekly)"}),(0,ez.jsx)(Om,{width:"100%",height:250,children:(0,ez.jsxs)(Tj,{data:y,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,ez.jsx)(nD,{strokeDasharray:"3 3",stroke:"#475569"}),(0,ez.jsx)(dD,{dataKey:"week",tick:{fill:"#94a3b8"}}),(0,ez.jsx)(bD,{tick:{fill:"#94a3b8"}}),(0,ez.jsx)(QR,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),(0,ez.jsx)(BL,{wrapperStyle:{color:"#94a3b8"}}),(0,ez.jsx)($F,{type:"monotone",dataKey:"hours",stroke:"#facc15",activeDot:{r:8},name:"Hours Worked"})]})})]})]})]}),(0,ez.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Your Work Style"}),(0,ez.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ez.jsx)("span",{className:"text-5xl",children:n.icon}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("p",{className:"text-lg font-bold text-white",children:n.name}),(0,ez.jsx)("p",{className:"text-sm text-slate-400",children:n.description})]})]})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Productivity Pet"}),"none"===p.petStatus?(0,ez.jsx)("button",{onClick:K,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 w-full",children:"Get First Egg"}):"egg"===p.petStatus?(0,ez.jsxs)(ez.Fragment,{children:[(0,ez.jsx)("div",{className:"text-center text-5xl mb-2",children:"\ud83e\udd5a"}),(0,ez.jsx)("p",{className:"text-slate-400 mb-2 text-center",children:p.assignmentsToHatch>0?"".concat(p.assignmentsToHatch," more to hatch!"):"Ready to hatch!"}),(0,ez.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-4 mb-2",children:(0,ez.jsx)("div",{className:"bg-purple-500 h-4 rounded-full",style:{width:"".concat((dz-p.assignmentsToHatch)/dz*100,"%")}})}),p.assignmentsToHatch<=0&&(0,ez.jsx)("button",{onClick:G,className:"mt-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 w-full",children:"Hatch Now!"})]}):(0,ez.jsxs)(ez.Fragment,{children:[(0,ez.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,ez.jsx)("span",{className:"text-6xl",children:p.currentPet.display}),(0,ez.jsxs)("div",{children:[(0,ez.jsx)("p",{className:"text-lg font-semibold text-white",children:p.currentPet.name}),(0,ez.jsxs)("p",{className:"text-sm text-green-400",children:["+",(100*p.currentPet.xpBuff).toFixed(0),"% XP"]})]})]}),(0,ez.jsx)("button",{onClick:X,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 w-full",children:"Find New Egg"})]})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsxs)("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center space-x-2",children:[(0,ez.jsx)("span",{children:"Stress Risk"}),(0,ez.jsx)("span",{className:"text-2xl",children:s})]}),(0,ez.jsxs)("p",{className:"text-3xl font-bold text-red-400",children:[o.toFixed(0),"%"]}),(0,ez.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mt-2",children:(0,ez.jsx)("div",{className:"h-2.5 rounded-full ".concat(o<=33?"bg-green-500":o<=66?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(o,"%")}})})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Slot Machine"}),(0,ez.jsx)("p",{className:"text-slate-400 mb-4 text-sm",children:"Spin for 50 XP for a chance to win cosmetics or more XP!"}),(0,ez.jsx)("button",{onClick:$,className:"bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg w-full transition-colors hover:bg-indigo-700",children:"Spin Now"})]})]})]})]})},oe=()=>{const[e,n]=(0,t.useState)(new Date);return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Calendar View"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"View your assignment deadlines on a monthly calendar."})]}),(0,ez.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ez.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.toLocaleString("default",{month:"long",year:"numeric"})}),(0,ez.jsx)("button",{onClick:()=>{n(e=>new Date(e.getFullYear(),e.getMonth()-1,1))},className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 transition-colors",children:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ez.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,ez.jsx)("button",{onClick:()=>{n(e=>new Date(e.getFullYear(),e.getMonth()+1,1))},className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 transition-colors",children:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ez.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl overflow-hidden",children:[(0,ez.jsx)("div",{className:"grid grid-cols-7 text-center font-semibold text-slate-400",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,ez.jsx)("div",{className:"py-3 border-b border-l border-slate-700",children:e},e))}),(0,ez.jsx)("div",{className:"grid grid-cols-7 grid-rows-5",children:(()=>{const t=e.getFullYear(),n=e.getMonth(),r=((e,t)=>new Date(e,t+1,0).getDate())(t,n),i=((e,t)=>new Date(e,t,1).getDay())(t,n),a=0===i?6:i-1,o=[];for(let e=0;e<a;e++)o.push((0,ez.jsx)("div",{className:"border-t border-l border-slate-700 bg-slate-800/50"},"empty-prev-".concat(e)));for(let e=1;e<=r;e++){new Date(t,n,e);const r=u.filter(r=>r.dueDate&&r.dueDate.getFullYear()===t&&r.dueDate.getMonth()===n&&r.dueDate.getDate()===e);o.push((0,ez.jsxs)("div",{className:"p-2 border-t border-l border-slate-700 h-32 flex flex-col overflow-hidden bg-slate-800/30 hover:bg-slate-800/60 transition-colors",children:[(0,ez.jsx)("span",{className:"font-bold text-slate-300",children:e}),(0,ez.jsx)("div",{className:"flex-grow overflow-y-auto mt-1 space-y-1 pr-1",children:r.map(e=>(0,ez.jsx)("div",{className:"text-xs p-1.5 rounded-md truncate\n                  ".concat("Completed"===e.status?"bg-green-500/30 text-green-300":e.dueDate&&new Date>e.dueDate&&"Completed"!==e.status?"bg-red-500/30 text-red-300":"bg-indigo-500/30 text-indigo-300"),children:e.assignment},e.id))})]},"day-".concat(e)))}return o})()})]})]})},se=()=>{const e=(e,t)=>!t||t<=0?null:(e/t*4).toFixed(2),t=h.filter(e=>void 0!==e.pointsEarned&&null!==e.pointsEarned&&void 0!==e.pointsMax&&null!==e.pointsMax&&e.pointsMax>0),n=n=>{const r=new Date,i=new Date;i.setMonth(r.getMonth()-n);const a=t.filter(e=>e.dateCompleted&&new Date(e.dateCompleted)>=i);let o=0,s=0;return a.forEach(e=>{o+=e.pointsEarned,s+=e.pointsMax}),0===s?"N/A":e(o,s)},r=n(1),i=n(3),a=n(12),o={};bz.forEach(e=>{o[e]={totalPointsEarned:0,totalPointsMax:0,totalTimeSpent:0,assignmentCount:0}}),t.forEach(e=>{const t=new Date(e.dateCompleted),n=new Date;n.setFullYear(n.getFullYear()-1),t>=n&&e.tags&&e.tags.length>0&&e.tags.forEach(t=>{o[t]&&(o[t].totalPointsEarned+=e.pointsEarned,o[t].totalPointsMax+=e.pointsMax,o[t].totalTimeSpent+=e.timeEstimate||0,o[t].assignmentCount++)})});return(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"mb-6",children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"GPA & Tags Analytics"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Analyze your academic performance over time and by subject."})]}),(0,ez.jsxs)("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl text-center",children:[(0,ez.jsx)("h3",{className:"text-lg font-semibold text-slate-400 mb-2",children:"GPA (Last Month)"}),(0,ez.jsx)("p",{className:"text-4xl font-bold text-blue-400",children:r})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl text-center",children:[(0,ez.jsx)("h3",{className:"text-lg font-semibold text-slate-400 mb-2",children:"GPA (Last 3 Months)"}),(0,ez.jsx)("p",{className:"text-4xl font-bold text-green-400",children:i})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 p-6 rounded-2xl shadow-xl text-center",children:[(0,ez.jsx)("h3",{className:"text-lg font-semibold text-slate-400 mb-2",children:"GPA (Last Year)"}),(0,ez.jsx)("p",{className:"text-4xl font-bold text-yellow-400",children:a})]})]}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl overflow-hidden",children:[(0,ez.jsx)("h3",{className:"text-xl font-bold text-white p-6",children:"Analytics by Tag (Last Year)"}),(0,ez.jsx)("div",{className:"overflow-x-auto",children:(0,ez.jsxs)("table",{className:"min-w-full text-white",children:[(0,ez.jsx)("thead",{children:(0,ez.jsxs)("tr",{className:"text-slate-400 uppercase text-sm leading-normal border-b-2 border-slate-700",children:[(0,ez.jsx)("th",{className:"py-3 px-6 text-left",children:"Tag"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-center",children:"Assignments"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-center",children:"Avg Score (%)"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-center",children:"Avg Time (hrs)"}),(0,ez.jsx)("th",{className:"py-3 px-6 text-center",children:"Avg GPA (4.0)"})]})}),(0,ez.jsx)("tbody",{className:"text-slate-300 text-sm font-light",children:bz.map(t=>{const n=(t=>{const n=o[t];return{avgScore:n.assignmentCount>0?(n.totalPointsEarned/n.totalPointsMax*100).toFixed(1):"N/A",avgTime:n.assignmentCount>0?(n.totalTimeSpent/n.assignmentCount).toFixed(1):"N/A",avgGpa:n.totalPointsMax>0?e(n.totalPointsEarned,n.totalPointsMax):"N/A"}})(t),r=o[t];return(0,ez.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-800/70",children:[(0,ez.jsx)("td",{className:"py-4 px-6 text-left font-medium",children:t}),(0,ez.jsx)("td",{className:"py-4 px-6 text-center",children:r.assignmentCount}),(0,ez.jsx)("td",{className:"py-4 px-6 text-center",children:n.avgScore}),(0,ez.jsx)("td",{className:"py-4 px-6 text-center",children:n.avgTime}),(0,ez.jsx)("td",{className:"py-4 px-6 text-center",children:n.avgGpa})]},t)})})]})})]})]})},le=e=>{let{stats:n,updateStatsInFirestore:r,showMessageBox:i}=e;const[a,o]=(0,t.useState)("game"),s=n.studyZone||{flashcardsText:"",platformerHighScore:0,platformerCurrentState:null},l=e=>{r({studyZone:c(c({},s),e)})},u=e=>{let{tabName:t,children:n}=e;return(0,ez.jsx)("button",{onClick:()=>o(t),className:"px-4 py-2 text-lg font-semibold transition-colors ".concat(a===t?"text-indigo-400 border-b-2 border-indigo-400":"text-slate-400 hover:text-white"),children:n})};return(0,ez.jsxs)("div",{children:[(0,ez.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Study Zone"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"Play a game and review your flashcards to boost your learning."})]})}),(0,ez.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl",children:[(0,ez.jsxs)("div",{className:"relative z-10 flex border-b border-slate-700",children:[(0,ez.jsx)(u,{tabName:"game",children:"Platformer Game"}),(0,ez.jsx)(u,{tabName:"flashcards",children:"Flashcard Deck"})]}),(0,ez.jsxs)("div",{className:"p-6",children:["game"===a&&(0,ez.jsx)(ue,{stats:n,updateStatsInFirestore:r,studyZoneState:s,updateStudyZoneState:l,showMessageBox:i}),"flashcards"===a&&(0,ez.jsx)(ce,{studyZoneState:s,updateStudyZoneState:l})]})]})]})},ce=e=>{let{studyZoneState:n,updateStudyZoneState:r}=e;const[i,a]=(0,t.useState)(n.flashcardsText||""),[o,s]=(0,t.useState)(0);(0,t.useEffect)(()=>{a(n.flashcardsText||"")},[n.flashcardsText]);const l=(0,t.useCallback)(e=>{const t=e.split("\n").filter(e=>""!==e.trim()),n=["\u2192",">>","-"];return t.map(e=>{for(const t of n)if(e.includes(t)){const n=e.split(t),r=n[0].trim(),i=n.slice(1).join(t).trim();if(r&&i)return{front:r,back:i}}return null}).filter(Boolean)},[]);(0,t.useEffect)(()=>{s(l(i).length)},[i,l]);return(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h3",{className:"text-2xl font-semibold text-white mb-2",children:"Manage Your Flashcards"}),(0,ez.jsx)("p",{className:"text-slate-400 mb-4",children:'Enter your flashcards below, one per line. Use "front \u2192 back", "front >> back", or "front - back".'}),(0,ez.jsx)("textarea",{value:i,onChange:e=>a(e.target.value),className:"w-full h-96 p-4 bg-slate-900 border border-slate-600 rounded-lg text-slate-300 font-mono focus:ring-2 focus:ring-indigo-500",placeholder:"Example:\nCapital of France \u2192 Paris\n2 + 2 - 4"}),(0,ez.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,ez.jsxs)("p",{className:"text-slate-400",children:["Successfully parsed ",(0,ez.jsx)("span",{className:"font-bold text-white",children:o})," cards."]}),(0,ez.jsx)("button",{onClick:()=>{r({flashcardsText:i}),oz("Saved ".concat(o," flashcards!"),"info")},className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Save Deck"})]})]})},ue=e=>{let{stats:n,updateStatsInFirestore:r,studyZoneState:i,updateStudyZoneState:a,showMessageBox:o}=e;const s=40,[l,u]=(0,t.useState)(0),[d,h]=(0,t.useState)(1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)("menu"),[y,v]=(0,t.useState)(0),b=(0,t.useRef)("menu"),w=((0,t.useRef)(null),(0,t.useRef)({platforms:[],enemies:[],coins:[],flagpole:null})),x=(0,t.useRef)([]),_=(0,t.useRef)([]),k=(0,t.useRef)({}),S=(0,t.useRef)(0),E=(0,t.useRef)({x:100,y:322,vx:0,vy:0,onGround:!1,canDoubleJump:!0,coyoteTime:0,jumpBuffer:0,scaleY:1,invincible:0}),T=e=>{b.current=e,g(e)},C=(0,t.useMemo)(()=>{const e=(i.flashcardsText||"").split("\n").filter(e=>""!==e.trim()),t=["\u2192",">>","-"];return e.map(e=>{for(const n of t)if(e.includes(n)){const t=e.split(n);return{front:t[0].trim(),back:t.slice(1).join(n).trim()}}return null}).filter(Boolean)},[i.flashcardsText]),N=t.memo(e=>{let{playerState:t,levelRef:n,enemiesRef:r,coinsRef:i,cameraXRef:a,TILE_SIZE:o,PLAYER_WIDTH:s,PLAYER_HEIGHT:l}=e;return a.current=Math.max(0,t.current.x-800/3),(0,ez.jsxs)(ez.Fragment,{children:[n.current.platforms.map((e,t)=>(0,ez.jsx)("div",{className:"absolute bg-green-800 border-t-4 border-green-500",style:{width:e.width,height:e.height,transform:"translate(".concat(e.x-a.current,"px, ").concat(e.y,"px)")}},"p_".concat(t))),r.current.map(e=>(0,ez.jsx)("div",{className:"absolute",style:{width:o,height:o,transform:"translate(".concat(e.x-a.current,"px, ").concat(e.y,"px)")},children:(0,ez.jsxs)("svg",{viewBox:"0 0 40 40",children:[(0,ez.jsx)("rect",{x:"5",y:"5",width:"30",height:"30",rx:"5",fill:"#7e22ce"}),(0,ez.jsx)("rect",{x:"12",y:"15",width:"5",height:"10",fill:"white"}),(0,ez.jsx)("rect",{x:"23",y:"15",width:"5",height:"10",fill:"white"})]})},e.id)),i.current.map(e=>(0,ez.jsx)("div",{className:"absolute animate-pulse",style:{width:o/2,height:o/2,transform:"translate(".concat(e.x-a.current,"px, ").concat(e.y,"px)")},children:(0,ez.jsxs)("svg",{viewBox:"0 0 20 20",children:[(0,ez.jsx)("circle",{cx:"10",cy:"10",r:"10",fill:"#facc15"}),(0,ez.jsx)("circle",{cx:"10",cy:"10",r:"7",fill:"#fde047"}),(0,ez.jsx)("text",{x:"50%",y:"50%",dy:".3em",textAnchor:"middle",fill:"#ca8a04",fontSize:"12",fontWeight:"bold",children:"$"})]})},e.id)),n.current.flagpole&&(0,ez.jsx)("div",{className:"absolute bg-gray-500",style:{width:n.current.flagpole.width,height:n.current.flagpole.height,transform:"translate(".concat(n.current.flagpole.x-a.current,"px, ").concat(n.current.flagpole.y,"px)")}}),(0,ez.jsx)("div",{className:"absolute",style:{width:s,height:l,transform:"translate(".concat(t.current.x-a.current,"px, ").concat(t.current.y,"px) scaleY(").concat(t.current.scaleY,")"),transition:"transform 0.1s"},children:(0,ez.jsxs)("svg",{viewBox:"0 0 28 38",className:"w-full h-full",children:[(0,ez.jsx)("rect",{x:"4",y:"0",width:"20",height:"20",rx:"10",fill:"#fde047"}),(0,ez.jsx)("rect",{x:"0",y:"18",width:"28",height:"20",rx:"5",fill:"#be123c"}),(0,ez.jsx)("circle",{cx:"10",cy:"10",r:"3",fill:"white"}),(0,ez.jsx)("circle",{cx:"19",cy:"10",r:"3",fill:"white"}),(0,ez.jsx)("circle",{cx:"10",cy:"10",r:"1",fill:"black"}),(0,ez.jsx)("circle",{cx:"19",cy:"10",r:"1",fill:"black"})]})})]})}),P=(0,t.useCallback)(e=>{const t=[],n=[],r=[];let i=null;let a=0,o=360;for(let l=0;l<10;l++)t.push({x:l*s,y:360,width:s,height:s});for(a=10;a<135;){a+=Math.floor(3*Math.random())+1;const e=Math.floor(5*Math.random())+3,i=(Math.floor(5*Math.random())-2)*s;o=Math.max(200,Math.min(360,o+i));for(let n=0;n<e;n++)t.push({x:(a+n)*s,y:o,width:s,height:s}),n>0&&n<e-1&&Math.random()<.5&&r.push({id:"c_".concat(a+n),x:(a+n)*s+10,y:o-80});e>3&&Math.random()<.4&&n.push({id:"e_".concat(a),x:(a+1)*s,y:o-s,dir:-1,startX:(a+1)*s,patrol:(e-2)*s}),a+=e}for(let l=0;l<15;l++)t.push({x:(a+l)*s,y:360,width:s,height:s});i={x:(a+5)*s,y:200,width:20,height:160},w.current={platforms:t,enemies:n,coins:r,flagpole:i},x.current=n.map(e=>c({},e)),_.current=r.map(e=>c({},e))},[]),O=e=>{E.current={x:100,y:322,vx:0,vy:0,onGround:!1,canDoubleJump:!0,coyoteTime:0,jumpBuffer:0,scaleY:1,invincible:0},S.current=0,u(e)},A=function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?l:0;h(1),O(e),P(1),T("playing")};return(0,t.useEffect)(()=>{let e,t=0;const n=r=>{const i=(r-t)/(1e3/60);if(t=r,"playing"===b.current){const e=E.current,t=e.onGround;let n=0;(k.current.ArrowLeft||k.current.a)&&(n=-5),(k.current.ArrowRight||k.current.d)&&(n=5),e.x+=n*i,e.jumpBuffer=k.current.ArrowUp||k.current.w||k.current[" "]?10:e.jumpBuffer-1,e.coyoteTime=t?8:e.coyoteTime-1,e.jumpBuffer>0&&e.coyoteTime>0?(e.vy=-12,e.jumpBuffer=0,e.coyoteTime=0,e.scaleY=1.3):e.jumpBuffer>0&&e.canDoubleJump&&(e.vy=-10,e.canDoubleJump=!1,e.jumpBuffer=0,e.scaleY=1.3),e.vy+=.6*i,e.y+=e.vy*i,e.onGround=!1,e.invincible>0&&(e.invincible-=i);const r={x:e.x,y:e.y,width:28,height:38};w.current.platforms.forEach(t=>{r.x<t.x+t.width&&r.x+r.width>t.x&&r.y<t.y+t.height&&r.y+r.height>t.y&&e.vy>=0&&r.y+r.height-t.y<e.vy*i+1&&(e.y=t.y-r.height,e.vy=0,e.onGround=!0,e.canDoubleJump=!0,e.scaleY=.8)}),e.scaleY+=.1*(1-e.scaleY),x.current=x.current.filter(t=>{t.x+=1*t.dir*i,(t.x<t.startX||t.x>t.startX+t.patrol)&&(t.dir*=-1);const n=t.x,a=t.y,o=s,l=s;if(r.x<n+o&&r.x+r.width>n&&r.y<a+l&&r.y+r.height>a){if(e.vy>0&&r.y+r.height-a<20)return e.vy=-8,u(e=>e+50),!1;e.invincible<=0&&T("gameover")}return!0}),_.current=_.current.filter(e=>{const t=e.x,n=e.y,i=20,a=20;return!(r.x<t+i&&r.x+r.width>t&&r.y<n+a&&r.y+r.height>n)||(u(e=>e+10),!1)}),e.y>500&&T("gameover");const a=w.current.flagpole;a&&r.x<a.x+a.width&&r.x+r.width>a.x&&(f?T("levelwon"):(()=>{const e=d+1;h(e),O(l),P(e),T("playing")})()),v(e=>e+1)}e=requestAnimationFrame(n)};e=requestAnimationFrame(n);const r=e=>{k.current[e.key]="keydown"===e.type};return window.addEventListener("keydown",r),window.addEventListener("keyup",r),()=>{cancelAnimationFrame(e),window.removeEventListener("keydown",r),window.removeEventListener("keyup",r)}},[P,f]),(0,t.useEffect)(()=>{if("playing"===m&&C.length>=5&&!f){const e=setTimeout(()=>{const e=()=>{E.current.onGround?T("quiz"):setTimeout(e,100)};e()},1e4);return()=>clearTimeout(e)}},[m,l,C,f]),(0,t.useEffect)(()=>{"gameover"!==m||f||(l>i.platformerHighScore?(a({platformerHighScore:l}),o("Game Over! New high score: ".concat(l),"info")):o("Game Over! Your score: ".concat(l),"error")),"levelwon"===m&&f&&(r({totalXP:n.totalXP+250}),o("Level Complete! You earned 250 XP!","info"))},[m]),(0,ez.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ez.jsxs)("div",{className:"flex gap-8 mb-4 text-white text-xl font-bold",children:[(0,ez.jsxs)("span",{children:["Score: ",l]}),(0,ez.jsxs)("span",{children:["High Score: ",i.platformerHighScore]}),(0,ez.jsxs)("span",{children:["Level: ",d]})]}),(0,ez.jsxs)("div",{className:"relative w-[800px] h-[400px] bg-blue-300 overflow-hidden border-4 border-slate-900 rounded-lg",children:[(0,ez.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-sky-400 to-sky-600"}),(0,ez.jsx)("div",{className:"absolute bottom-0 left-0 w-[2400px] h-48 bg-no-repeat bg-bottom",style:{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 150"><path d="M0 150 L0 100 C 100 50, 200 120, 300 100 C 400 80, 500 140, 600 120 C 700 100, 800 130, 800 130 L800 150 Z" fill="%23166534"/></svg>\')',transform:"translateX(".concat(.5*-S.current,"px)")}}),(0,ez.jsx)("div",{className:"absolute bottom-0 left-0 w-[2400px] h-32 bg-no-repeat bg-bottom",style:{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 120"><path d="M0 120 L0 90 C 150 110, 250 60, 400 80 C 550 100, 650 70, 800 90 L800 120 Z" fill="%2315803d"/></svg>\')',transform:"translateX(".concat(.8*-S.current,"px)")}}),"menu"===m&&(0,ez.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center z-10 space-y-4 text-center p-4",children:[(0,ez.jsx)("h3",{className:"text-4xl text-white font-bold mb-2 drop-shadow-lg",children:"Platformer Challenge"}),C.length>=5?(0,ez.jsx)("button",{onClick:()=>{p(!1),A()},className:"px-8 py-4 bg-green-500 text-white font-bold rounded-lg text-2xl hover:bg-green-600 shadow-xl",children:"Start Full Game"}):(0,ez.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[(0,ez.jsx)("p",{className:"text-slate-300",children:"Add at least 5 flashcards in the other tab to play the full game."}),(0,ez.jsx)("button",{onClick:()=>{n.totalXP<100?o("You need 100 XP to play a single level.","error"):(r({totalXP:n.totalXP-100}),p(!0),A())},className:"mt-2 px-6 py-3 bg-indigo-600 text-white font-bold rounded-lg text-xl hover:bg-indigo-700 disabled:bg-slate-600 disabled:cursor-not-allowed",disabled:n.totalXP<100,children:"Play for XP (Costs 100)"})]})]}),("gameover"===m||"levelwon"===m)&&(0,ez.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center z-10",children:[(0,ez.jsx)("h3",{className:"text-4xl font-bold mb-4 drop-shadow-lg ".concat("levelwon"===m?"text-green-400":"text-red-500"),children:"levelwon"===m?"Level Complete!":"Game Over!"}),(0,ez.jsx)("button",{onClick:()=>T("menu"),className:"px-8 py-4 bg-blue-500 text-white font-bold rounded-lg text-2xl hover:bg-blue-600 shadow-xl",children:"Main Menu"})]}),"quiz"===m&&(0,ez.jsx)(de,{cards:C,onComplete:()=>T("playing")}),"playing"===m&&(0,ez.jsx)(N,{tick:y,playerState:E,levelRef:w,enemiesRef:x,coinsRef:_,cameraXRef:S,TILE_SIZE:s,PLAYER_WIDTH:28,PLAYER_HEIGHT:38})]}),(0,ez.jsx)("p",{className:"text-slate-500 mt-2 text-sm",children:"Controls: Arrow keys or A/D to move, Arrow Up, W, or Space to jump/double-jump."})]})},de=e=>{let{cards:n,onComplete:r}=e;const[i,a]=(0,t.useState)(0),[o,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),h=()=>{s(n[Math.floor(Math.random()*n.length)])};(0,t.useEffect)(()=>{h()},[]),(0,t.useEffect)(()=>{i>=3&&r()},[i,r]);return o?(0,ez.jsxs)("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-20 text-white p-8",children:[(0,ez.jsx)("h3",{className:"text-3xl font-bold mb-4",children:"Flashcard Quiz!"}),(0,ez.jsx)("p",{className:"mb-4",children:"Get 3 correct in a row to continue."}),(0,ez.jsxs)("p",{className:"text-2xl font-bold text-green-400 mb-6",children:["Streak: ",i," / 3"]}),(0,ez.jsxs)("div",{className:"p-8 rounded-lg w-full max-w-lg text-center transition-colors ".concat("correct"===u?"bg-green-800":"incorrect"===u?"bg-red-800":"bg-slate-700"),children:[(0,ez.jsx)("p",{className:"text-slate-400 mb-2",children:"FRONT"}),(0,ez.jsx)("p",{className:"text-3xl font-bold mb-6",children:o.front}),(0,ez.jsx)("form",{onSubmit:e=>{e.preventDefault(),l.toLowerCase().trim()===o.back.toLowerCase().trim()?(d("correct"),a(e=>e+1)):(d("incorrect"),a(0)),setTimeout(()=>{d(""),c(""),h()},1500)},children:(0,ez.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-md text-center text-xl",placeholder:"Type the back of the card...",disabled:""!==u})}),"incorrect"===u&&(0,ez.jsxs)("p",{className:"mt-4 text-lg",children:["Correct answer: ",(0,ez.jsx)("span",{className:"font-bold",children:o.back})]})]})]}):null},he=e=>{let{db:n,appId:r,userId:i,friends:a,showMessageBox:o}=e;const[s,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)({key:"totalXP",direction:"descending"}),p=(0,t.useCallback)(async()=>{if(!n||!i)return;d(!0);const e=[i,...a||[]],t=[...new Set(e)];try{const e=t.map(e=>function(e){e=Ga(e,Ff);const t=Ga(e.firestore,Kf);return Nf(Gf(t),e._key).then(n=>em(t,e,n))}(Vf(n,"artifacts/".concat(r,"/public/data/stats/").concat(e)))),i=(await Promise.all(e)).filter(e=>e.exists()).map(e=>c({id:e.id},e.data()));l(i)}catch(s){console.error("Error fetching leaderboard data:",s),o("Could not load leaderboard data.","error")}finally{d(!1)}},[n,r,i,a,o]);(0,t.useEffect)(()=>{p()},[p]);const m=(0,t.useMemo)(()=>{let e=[...s];return null!==h.key&&e.sort((e,t)=>{const n=e[h.key]||0,r=t[h.key]||0;return n<r?"ascending"===h.direction?-1:1:n>r?"ascending"===h.direction?1:-1:0}),e},[s,h]),g=e=>{let{sortKey:t,children:n}=e;return(0,ez.jsxs)("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>(e=>{let t="descending";h.key===e&&"descending"===h.direction&&(t="ascending"),f({key:e,direction:t})})(t),children:[n," ",(r=t,h.key!==r?null:"descending"===h.direction?"\u25bc":"\u25b2")]});var r};return u?(0,ez.jsx)("div",{children:"Loading Leaderboard..."}):(0,ez.jsxs)("div",{children:[(0,ez.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ez.jsxs)("div",{children:[(0,ez.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Leaderboard"}),(0,ez.jsx)("p",{className:"text-slate-400",children:"See how you stack up against your friends."})]}),(0,ez.jsx)("button",{onClick:p,disabled:u,className:"bg-indigo-600 text-white px-5 py-2 rounded-lg hover:bg-indigo-700 disabled:bg-slate-600 transition-colors",children:u?"Refreshing...":"Refresh"})]}),(0,ez.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-xl overflow-hidden",children:(0,ez.jsx)("div",{className:"overflow-x-auto",children:(0,ez.jsxs)("table",{className:"min-w-full text-white",children:[(0,ez.jsx)("thead",{children:(0,ez.jsxs)("tr",{className:"text-slate-400 uppercase text-sm leading-normal",children:[(0,ez.jsx)("th",{className:"py-3 px-6 text-left",children:"Player"}),(0,ez.jsx)(g,{sortKey:"totalXP",children:"Total XP"}),(0,ez.jsx)(g,{sortKey:"currentLevel",children:"Level"}),(0,ez.jsx)(g,{sortKey:"assignmentsCompleted",children:"Tasks Done"}),(0,ez.jsx)(g,{sortKey:"dungeon_floor",children:"Dungeon Floor"})]})}),(0,ez.jsx)("tbody",{className:"text-slate-300 text-sm font-light",children:m.map(e=>(0,ez.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-800/70 ".concat(e.id===i?"bg-indigo-900/50 font-bold":""),children:[(0,ez.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap truncate max-w-xs",children:e.username||e.id}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:e.totalXP||0}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:e.currentLevel||1}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:e.assignmentsCompleted||0}),(0,ez.jsx)("td",{className:"py-3 px-6 text-left",children:e.dungeon_floor||0})]},e.id))})]})})})]})};return r?(0,ez.jsxs)("div",{className:"min-h-screen font-inter text-slate-300 flex bg-slate-900 ".concat(D||"font-inter"),children:[(0,ez.jsx)("style",{children:"\n          @import url('https://fonts.googleapis.com/css2?family=Dancing+Script&family=Inter:wght@400;700&family=Oswald&family=Permanent+Marker&family=Playfair+Display&family=Press+Start+2P&family=Roboto+Slab&family=Space+Mono&family=Cinzel+Decorative&family=Comic+Neue&family=Libre+Baskerville&family=Lato&family=Merriweather&family=Raleway&family=Ubuntu&display=swap');\n          body { background-color: #0f172a; } /* bg-slate-900 */\n          .font-inter { font-family: 'Inter', sans-serif; }\n          .font-mono { font-family: 'Space Mono', monospace; }\n          .font-serif { font-family: 'Playfair Display', serif; }\n          .font-cursive { font-family: 'Dancing Script', cursive; }\n          .font-handwritten { font-family: 'Permanent Marker', cursive; }\n          .font-pixel { font-family: 'Press Start 2P', cursive; }\n          .font-comic { font-family: 'Comic Neue', cursive; }\n          .font-fantasy { font-family: 'Cinzel Decorative', cursive; }\n          .font-slab { font-family: 'Roboto Slab', serif; }\n          .font-sans-condensed { font-family: 'Oswald', sans-serif; }\n          .font-baskerville { font-family: 'Libre Baskerville', serif; }\n          .font-lato { font-family: 'Lato', sans-serif; }\n          .font-merriweather { font-family: 'Merriweather', serif; }\n          .font-raleway { font-family: 'Raleway', sans-serif; }\n          .font-ubuntu { font-family: 'Ubuntu', sans-serif; }\n\n          /* Custom scrollbar for dark theme */\n          ::-webkit-scrollbar { width: 8px; }\n          ::-webkit-scrollbar-track { background: #1e293b; } /* bg-slate-800 */\n          ::-webkit-scrollbar-thumb { background: #4f46e5; border-radius: 4px; } /* bg-indigo-600 */\n          ::-webkit-scrollbar-thumb:hover { background: #6366f1; } /* bg-indigo-500 */\n\n\n          /* Confetti, Checkmark, and other animations from previous steps remain unchanged */\n          @keyframes confetti-fall { 0% { transform: translateY(-100vh) rotate(0deg); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }\n          .animate-confetti { animation: confetti-fall 3s ease-out forwards; animation-fill-mode: forwards; }\n          @keyframes checkmark-circle { 0% { stroke-dasharray: 0, 157; stroke-width: 0; } 25% { stroke-dasharray: 0, 157; stroke-width: 4; } 50% { stroke-dasharray: 157, 0; stroke-width: 4; } 100% { stroke-dasharray: 157, 0; stroke-width: 4; opacity: 0; } }\n          @keyframes checkmark-check { 0% { stroke-dasharray: 0, 50; stroke-width: 0; } 50% { stroke-dasharray: 0, 50; stroke-width: 4; } 100% { stroke-dasharray: 50, 0; stroke-width: 4; opacity: 0; } }\n          .animate-checkmark-pop .checkmark-circle { stroke-dasharray: 157; stroke-dashoffset: 157; stroke-width: 4; stroke: #4CAF50; fill: none; animation: checkmark-circle 1s ease-out forwards; }\n          .animate-checkmark-pop .checkmark-check { stroke-dasharray: 50; stroke-dashoffset: 50; stroke-width: 4; stroke: #4CAF50; fill: none; animation: checkmark-check 1s ease-out 0.5s forwards; }\n\n/* Tower Defense Projectile Animation */\n          .projectile {\n            position: absolute;\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            background-color: #facc15; /* yellow-400 */\n            transform: translate(-50%, -50%);\n            transition: top 0.3s linear, left 0.3s linear;\n            z-index: 20;\n            pointer-events: none;\n          }\n          @keyframes enemy-hit {\n            0% { filter: brightness(1); transform: translateX(0); }\n            25% { filter: brightness(3); transform: translateX(-2px); }\n            50% { filter: brightness(1); transform: translateX(2px); }\n            75% { filter: brightness(3); transform: translateX(-2px); }\n            100% { filter: brightness(1); transform: translateX(0); }\n          }\n          .enemy-hit-animation {\n            animation: enemy-hit 0.2s ease-in-out;\n          }\n          /* --- XP Bar Animation Styles --- */\n          .xp-bar-container {\n            position: fixed;\n            bottom: 2%;\n            left: 0;\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            pointer-events: none;\n            z-index: 9999;\n            opacity: 0;\n            animation: fade-in-bar 0.5s ease-out forwards;\n          }\n          @keyframes fade-in-bar {\n            to { opacity: 1; }\n          }\n          .xp-bar-wrapper {\n            position: relative;\n            width: 50%;\n            max-width: 600px;\n            height: 20px;\n          }\n          .xp-bar-background {\n            width: 100%;\n            height: 16px;\n            background-color: #1e293b; /* bg-slate-800 */\n            border: 2px solid #0f172a; /* bg-slate-900 */\n            border-radius: 2px;\n            overflow: hidden;\n            box-shadow: inset 0 0 5px rgba(0,0,0,0.5);\n          }\n          .xp-bar-fill {\n            height: 100%;\n            background-color: #6366f1; /* bg-indigo-500 */\n            transition: width 0.1s linear;\n            box-shadow: inset 0 -2px 2px rgba(0,0,0,0.2);\n          }\n          .xp-level-text {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            color: white;\n            font-weight: bold;\n            font-size: 12px;\n            text-shadow: 1px 1px 2px #000;\n            z-index: 2;\n          }\n          .xp-orb {\n            position: fixed;\n            border-radius: 50%;\n            background-color: #a7f3d0; /* emerald-200 */\n            box-shadow: 0 0 10px #34d399, 0 0 4px white; /* emerald-400 */\n            opacity: 0;\n            will-change: transform, opacity, top, left;\n            transform: translate(-50%, -50%); /* Center the orb on its coordinates */\n          }\n          .xp-orb.satis-low { width: 8px; height: 8px; }\n          .xp-orb.satis-medium { width: 12px; height: 12px; }\n          .xp-orb.satis-high { width: 16px; height: 16px; }\n\n          @keyframes fly-to-bar-minecraft {\n              0% {\n                  transform: translate(-50%, -50%) scale(1.2);\n                  opacity: 1;\n              }\n              100% {\n                  top: 98vh; /* Animate towards the bar's Y position */\n                  left: 50vw; /* Animate towards the bar's X position */\n                  transform: translate(-50%, -50%) scale(0);\n                  opacity: 0;\n              }\n          }\n        "}),(0,ez.jsx)("div",{id:"messageBox",className:"fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-y-full opacity-0",children:(0,ez.jsx)("p",{id:"messageText",className:"text-white"})}),(0,ez.jsx)(kz,{show:w,onAnimationEnd:()=>x(!1),equippedAnimationEffect:p.equippedItems.animation?null===(e=sz.animations.find(e=>e.id===p.equippedItems.animation))||void 0===e?void 0:e.effect:null}),(0,ez.jsx)(_z,{isOpen:v,onClose:()=>b(!1),onAnimationComplete:ee}),(0,ez.jsx)(Oz,{xpGained:_,stats:p,calculateLevelInfo:z,onAnimationComplete:()=>{k(0),C(null)},onAudioReady:e=>{N.current=e},originEvent:T},S),(0,ez.jsxs)("nav",{className:"w-64 bg-slate-900 p-6 flex-shrink-0 flex flex-col shadow-2xl",children:[(0,ez.jsx)("ul",{className:"space-y-2 flex-grow",children:[{name:"Dashboard",sheet:"Stats + XP Tracker",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})},{name:"Assignments",sheet:"Assignment Tracker",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})},{name:"Sanctum",sheet:"Sanctum",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{d:"M10 20a10 10 0 110-20 10 10 0 010 20zM9 4a1 1 0 112 0v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V7H8a1 1 0 010-2h1V4z"})})},{name:"Leaderboard",sheet:"Leaderboard",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0118 15v3h-2zM4.75 12.094A5.973 5.973 0 004 15v3H2v-3a3.005 3.005 0 012.25-2.906z"})})},{name:"Calendar",sheet:"Calendar View",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})},{name:"Analytics",sheet:"GPA & Tags Analytics",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})},{name:"Dungeon Crawler",sheet:"Dungeon Crawler",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M1.5 6.5a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-2zM6 11a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 4a1 1 0 100 2h4a1 1 0 100-2H7zM2 2.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5h2a.5.5 0 00.5-.5v-2a.5.5 0 00-.5-.5h-2zM2.5 14a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-2zM14 2.5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5h2a.5.5 0 00.5-.5v-2a.5.5 0 00-.5-.5h-2zM13.5 14a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-2z",clipRule:"evenodd"})})},{name:"Tower Defense",sheet:"Tower Defense",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M4 3a1 1 0 011-1h8a1 1 0 011 1v2h1a1 1 0 011 1v10a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1h1V3zm3 4a1 1 0 011-1h2a1 1 0 110 2H8a1 1 0 01-1-1z",clipRule:"evenodd"})})},{name:"Science Lab",sheet:"Science Lab",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M7 2a.5.5 0 01.5.5V3h5V2.5a.5.5 0 011 0V3h1a2 2 0 012 2v1.5a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5V5a1 1 0 00-1-1H7a1 1 0 00-1 1v.5a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5V5a2 2 0 012-2h1V2.5A.5.5 0 017 2zM4.002 8.5a.5.5 0 01.498.5v7a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-7a.5.5 0 01.5-.5h1zM16 8.5a.5.5 0 01.5.5v7a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-7a.5.5 0 01.5-.5h1zM7 9a1 1 0 00-1 1v5a1 1 0 102 0v-5a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v5a1 1 0 102 0v-5a1 1 0 00-1-1z",clipRule:"evenodd"})})},{name:"Study Zone",sheet:"Study Zone",icon:(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L9 9.58v5.528l-3-1.286a1 1 0 00-1.212.86l-.5 2.5a1 1 0 00.97 1.245l5-1a1 1 0 00.484 0l5 1a1 1 0 00.97-1.245l-.5-2.5a1 1 0 00-1.212-.86l-3 1.286V9.58l6.406-2.658a1 1 0 000-1.84l-7-3zM9 4.399l5.223 2.155L10 8.517 4.777 6.554 9 4.399z"})})}].map(e=>(0,ez.jsx)("li",{children:(0,ez.jsxs)("button",{onClick:()=>l(e.sheet),className:"w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-3 ".concat(s===e.sheet?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[e.icon,(0,ez.jsx)("span",{children:e.name})]})},e.name))}),(0,ez.jsx)("div",{className:"border-t border-slate-700 mx-[-1.5rem] my-4"}),(0,ez.jsx)("ul",{className:"space-y-2",children:(0,ez.jsx)("li",{children:(0,ez.jsxs)("button",{onClick:()=>l("Why"),className:"w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-3 ".concat("Why"===s?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,ez.jsx)("span",{children:"Why I Built This"})]})})}),(0,ez.jsxs)("div",{className:"mt-auto pt-4 space-y-2",children:[(0,ez.jsxs)("button",{onClick:()=>l("My Profile"),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-800 transition-colors",children:[(0,ez.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-xl border-2 border-slate-600",children:R||"\ud83d\udc64"}),(0,ez.jsxs)("div",{className:"flex-1 text-left",children:[(0,ez.jsx)("p",{className:"text-sm font-semibold text-white",children:"My Profile"}),(0,ez.jsxs)("p",{className:"text-xs text-slate-400 truncate",children:["ID: ",null===r||void 0===r?void 0:r.uid]})]})]}),(0,ez.jsxs)("button",{onClick:async()=>{try{await function(e){return U(e).signOut()}(az)}catch(e){console.error("Error signing out:",e),oz("Failed to sign out.","error")}},className:"w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:bg-red-900/50 hover:text-white transition-colors",children:[(0,ez.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ez.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),(0,ez.jsx)("span",{children:"Sign Out"})]})]})]}),(0,ez.jsxs)("main",{className:"flex-grow p-8 overflow-auto",children:[(0,ez.jsx)("div",{className:"Assignment Tracker"===s?"block":"hidden",children:(0,ez.jsx)(re,{})}),(0,ez.jsx)("div",{className:"Stats + XP Tracker"===s?"block":"hidden",children:(0,ez.jsx)(ae,{})}),(0,ez.jsx)("div",{className:"My Profile"===s?"block":"hidden",children:(0,ez.jsx)(ie,{stats:p,userId:null===r||void 0===r?void 0:r.uid,updateStatsInFirestore:H,handleEvolvePet:Y,getFullPetDetails:O,getFullCosmeticDetails:A,getItemStyle:j})}),(0,ez.jsx)("div",{className:"Sanctum"===s?"block":"hidden",children:(0,ez.jsx)(Pz,{stats:p,trophies:h,updateStatsInFirestore:H,showMessageBox:oz,getFullCosmeticDetails:A,getItemStyle:j})}),(0,ez.jsx)("div",{className:"Leaderboard"===s?"block":"hidden",children:(0,ez.jsx)(he,{db:iz,appId:tz,userId:null===r||void 0===r?void 0:r.uid,friends:p.friends,showMessageBox:oz})}),(0,ez.jsx)("div",{className:"Why"===s?"block":"hidden",children:(0,ez.jsx)(Nz,{})}),(0,ez.jsx)("div",{className:"Calendar View"===s?"block":"hidden",children:(0,ez.jsx)(oe,{})}),(0,ez.jsx)("div",{className:"GPA & Tags Analytics"===s?"block":"hidden",children:(0,ez.jsx)(se,{})}),(0,ez.jsx)("div",{className:"Dungeon Crawler"===s?"block":"hidden",children:(0,ez.jsx)(Ez,{stats:p,dungeonState:p.dungeon_state,updateStatsInFirestore:H,showMessageBox:oz,getFullPetDetails:O,onResetDungeon:()=>{const e=Az(),t=p.currentPet?O(p.currentPet.id):null;e.player.attack=10+(50*(null===t||void 0===t?void 0:t.xpBuff)||0),H({dungeon_state:e,dungeon_floor:1}),oz("Dungeon has been reset!","info")},getFullCosmeticDetails:A})}),(0,ez.jsx)("div",{className:"Tower Defense"===s?"block":"hidden",children:(0,ez.jsx)(Cz,{stats:p,updateStatsInFirestore:H,showMessageBox:oz,onResetGame:Z,updateTowerDefenseState:J,getFullCosmeticDetails:A})}),(0,ez.jsx)("div",{className:"Science Lab"===s?"block":"hidden",children:(0,ez.jsx)(Tz,{stats:p,updateStatsInFirestore:H,showMessageBox:oz})}),(0,ez.jsx)("div",{className:"Study Zone"===s?"block":"hidden",children:(0,ez.jsx)(le,{stats:p,updateStatsInFirestore:H,showMessageBox:oz})})]})]}):(0,ez.jsx)(n,{})},Iz=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,ez.jsx)(t.StrictMode,{children:(0,ez.jsx)(jz,{})})),Iz()})()})();
//# sourceMappingURL=main.d5fb0f78.js.map